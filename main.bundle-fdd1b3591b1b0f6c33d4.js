!function(e){var t={};function n(a){if(t[a])return t[a].exports;var r=t[a]={i:a,l:!1,exports:{}};return e[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(a,r,function(t){return e[t]}.bind(null,r));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/crizmas-mvc-docs/",n(n.s=10)}([function(e,t,n){"use strict";e.exports=n(4)},function(e,t,n){e.exports=n(8)()},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var a=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var a={};return"abcdefghijklmnopqrst".split("").forEach((function(e){a[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},a)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,i,s=o(e),c=1;c<arguments.length;c++){for(var u in n=Object(arguments[c]))r.call(n,u)&&(s[u]=n[u]);if(a){i=a(n);for(var d=0;d<i.length;d++)l.call(n,i[d])&&(s[i[d]]=n[i[d]])}}return s}},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE){0;try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}}(),e.exports=n(5)},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=n(2),r="function"==typeof Symbol&&Symbol.for,l=r?Symbol.for("react.element"):60103,o=r?Symbol.for("react.portal"):60106,i=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,d=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.forward_ref"):60112,m=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.memo"):60115,f=r?Symbol.for("react.lazy"):60116,g="function"==typeof Symbol&&Symbol.iterator;function b(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w={};function y(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||v}function E(){}function x(e,t,n){this.props=e,this.context=t,this.refs=w,this.updater=n||v}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(b(85));this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},E.prototype=y.prototype;var k=x.prototype=new E;k.constructor=x,a(k,y.prototype),k.isPureReactComponent=!0;var T={current:null},C=Object.prototype.hasOwnProperty,P={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var a,r={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)C.call(t,a)&&!P.hasOwnProperty(a)&&(r[a]=t[a]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var c=Array(s),u=0;u<s;u++)c[u]=arguments[u+2];r.children=c}if(e&&e.defaultProps)for(a in s=e.defaultProps)void 0===r[a]&&(r[a]=s[a]);return{$$typeof:l,type:e,key:o,ref:i,props:r,_owner:T.current}}function S(e){return"object"==typeof e&&null!==e&&e.$$typeof===l}var R=/\/+/g,F=[];function j(e,t,n,a){if(F.length){var r=F.pop();return r.result=e,r.keyPrefix=t,r.func=n,r.context=a,r.count=0,r}return{result:e,keyPrefix:t,func:n,context:a,count:0}}function z(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>F.length&&F.push(e)}function N(e,t,n){return null==e?0:function e(t,n,a,r){var i=typeof t;"undefined"!==i&&"boolean"!==i||(t=null);var s=!1;if(null===t)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case l:case o:s=!0}}if(s)return a(r,t,""===n?"."+A(t,0):n),1;if(s=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+A(i=t[c],c);s+=e(i,u,a,r)}else if(null===t||"object"!=typeof t?u=null:u="function"==typeof(u=g&&t[g]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),c=0;!(i=t.next()).done;)s+=e(i=i.value,u=n+A(i,c++),a,r);else if("object"===i)throw a=""+t,Error(b(31,"[object Object]"===a?"object with keys {"+Object.keys(t).join(", ")+"}":a,""));return s}(e,"",t,n)}function A(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,(function(e){return t[e]}))}(e.key):t.toString(36)}function O(e,t){e.func.call(e.context,t,e.count++)}function _(e,t,n){var a=e.result,r=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?M(e,a,n,(function(e){return e})):null!=e&&(S(e)&&(e=function(e,t){return{$$typeof:l,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,r+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(R,"$&/")+"/")+n)),a.push(e))}function M(e,t,n,a,r){var l="";null!=n&&(l=(""+n).replace(R,"$&/")+"/"),N(e,_,t=j(t,l,a,r)),z(t)}var L={current:null};function D(){var e=L.current;if(null===e)throw Error(b(321));return e}var U={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:T,IsSomeRendererActing:{current:!1},assign:a};t.Children={map:function(e,t,n){if(null==e)return e;var a=[];return M(e,a,null,t,n),a},forEach:function(e,t,n){if(null==e)return e;N(e,O,t=j(null,null,t,n)),z(t)},count:function(e){return N(e,(function(){return null}),null)},toArray:function(e){var t=[];return M(e,t,null,(function(e){return e})),t},only:function(e){if(!S(e))throw Error(b(143));return e}},t.Component=y,t.Fragment=i,t.Profiler=c,t.PureComponent=x,t.StrictMode=s,t.Suspense=m,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=U,t.cloneElement=function(e,t,n){if(null==e)throw Error(b(267,e));var r=a({},e.props),o=e.key,i=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,s=T.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(u in t)C.call(t,u)&&!P.hasOwnProperty(u)&&(r[u]=void 0===t[u]&&void 0!==c?c[u]:t[u])}var u=arguments.length-2;if(1===u)r.children=n;else if(1<u){c=Array(u);for(var d=0;d<u;d++)c[d]=arguments[d+2];r.children=c}return{$$typeof:l,type:e.type,key:o,ref:i,props:r,_owner:s}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:h,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:f,_ctor:e,_status:-1,_result:null}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return D().useCallback(e,t)},t.useContext=function(e,t){return D().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return D().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return D().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return D().useLayoutEffect(e,t)},t.useMemo=function(e,t){return D().useMemo(e,t)},t.useReducer=function(e,t,n){return D().useReducer(e,t,n)},t.useRef=function(e){return D().useRef(e)},t.useState=function(e){return D().useState(e)},t.version="16.14.0"},function(e,t,n){"use strict";
/** @license React v16.14.0
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a=n(0),r=n(2),l=n(6);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!a)throw Error(o(227));function i(e,t,n,a,r,l,o,i,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}var s=!1,c=null,u=!1,d=null,h={onError:function(e){s=!0,c=e}};function m(e,t,n,a,r,l,o,u,d){s=!1,c=null,i.apply(h,arguments)}var p=null,f=null,g=null;function b(e,t,n){var a=e.type||"unknown-event";e.currentTarget=g(n),function(e,t,n,a,r,l,i,h,p){if(m.apply(this,arguments),s){if(!s)throw Error(o(198));var f=c;s=!1,c=null,u||(u=!0,d=f)}}(a,t,void 0,e),e.currentTarget=null}var v=null,w={};function y(){if(v)for(var e in w){var t=w[e],n=v.indexOf(e);if(!(-1<n))throw Error(o(96,e));if(!x[n]){if(!t.extractEvents)throw Error(o(97,e));for(var a in x[n]=t,n=t.eventTypes){var r=void 0,l=n[a],i=t,s=a;if(k.hasOwnProperty(s))throw Error(o(99,s));k[s]=l;var c=l.phasedRegistrationNames;if(c){for(r in c)c.hasOwnProperty(r)&&E(c[r],i,s);r=!0}else l.registrationName?(E(l.registrationName,i,s),r=!0):r=!1;if(!r)throw Error(o(98,a,e))}}}}function E(e,t,n){if(T[e])throw Error(o(100,e));T[e]=t,C[e]=t.eventTypes[n].dependencies}var x=[],k={},T={},C={};function P(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var a=e[t];if(!w.hasOwnProperty(t)||w[t]!==a){if(w[t])throw Error(o(102,t));w[t]=a,n=!0}}n&&y()}var I=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),S=null,R=null,F=null;function j(e){if(e=f(e)){if("function"!=typeof S)throw Error(o(280));var t=e.stateNode;t&&(t=p(t),S(e.stateNode,e.type,t))}}function z(e){R?F?F.push(e):F=[e]:R=e}function N(){if(R){var e=R,t=F;if(F=R=null,j(e),t)for(e=0;e<t.length;e++)j(t[e])}}function A(e,t){return e(t)}function O(e,t,n,a,r){return e(t,n,a,r)}function _(){}var M=A,L=!1,D=!1;function U(){null===R&&null===F||(_(),N())}function V(e,t,n){if(D)return e(t,n);D=!0;try{return M(e,t,n)}finally{D=!1,U()}}var W=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,B=Object.prototype.hasOwnProperty,H={},q={};function $(e,t,n,a,r,l){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=l}var Q={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Q[e]=new $(e,0,!1,e,null,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Q[t]=new $(t,1,!1,e[1],null,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Q[e]=new $(e,2,!1,e.toLowerCase(),null,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Q[e]=new $(e,2,!1,e,null,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Q[e]=new $(e,3,!1,e.toLowerCase(),null,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Q[e]=new $(e,3,!0,e,null,!1)})),["capture","download"].forEach((function(e){Q[e]=new $(e,4,!1,e,null,!1)})),["cols","rows","size","span"].forEach((function(e){Q[e]=new $(e,6,!1,e,null,!1)})),["rowSpan","start"].forEach((function(e){Q[e]=new $(e,5,!1,e.toLowerCase(),null,!1)}));var K=/[\-:]([a-z])/g;function Y(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(K,Y);Q[t]=new $(t,1,!1,e,null,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(K,Y);Q[t]=new $(t,1,!1,e,"http://www.w3.org/1999/xlink",!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(K,Y);Q[t]=new $(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1)})),["tabIndex","crossOrigin"].forEach((function(e){Q[e]=new $(e,1,!1,e.toLowerCase(),null,!1)})),Q.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0),["src","href","action","formAction"].forEach((function(e){Q[e]=new $(e,1,!1,e.toLowerCase(),null,!0)}));var X=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function G(e,t,n,a){var r=Q.hasOwnProperty(t)?Q[t]:null;(null!==r?0===r.type:!a&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,a){if(null==t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!B.call(q,e)||!B.call(H,e)&&(W.test(e)?q[e]=!0:(H[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}X.hasOwnProperty("ReactCurrentDispatcher")||(X.ReactCurrentDispatcher={current:null}),X.hasOwnProperty("ReactCurrentBatchConfig")||(X.ReactCurrentBatchConfig={suspense:null});var J=/^(.*)[\\\/]/,Z="function"==typeof Symbol&&Symbol.for,ee=Z?Symbol.for("react.element"):60103,te=Z?Symbol.for("react.portal"):60106,ne=Z?Symbol.for("react.fragment"):60107,ae=Z?Symbol.for("react.strict_mode"):60108,re=Z?Symbol.for("react.profiler"):60114,le=Z?Symbol.for("react.provider"):60109,oe=Z?Symbol.for("react.context"):60110,ie=Z?Symbol.for("react.concurrent_mode"):60111,se=Z?Symbol.for("react.forward_ref"):60112,ce=Z?Symbol.for("react.suspense"):60113,ue=Z?Symbol.for("react.suspense_list"):60120,de=Z?Symbol.for("react.memo"):60115,he=Z?Symbol.for("react.lazy"):60116,me=Z?Symbol.for("react.block"):60121,pe="function"==typeof Symbol&&Symbol.iterator;function fe(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=pe&&e[pe]||e["@@iterator"])?e:null}function ge(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case ne:return"Fragment";case te:return"Portal";case re:return"Profiler";case ae:return"StrictMode";case ce:return"Suspense";case ue:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case oe:return"Context.Consumer";case le:return"Context.Provider";case se:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case de:return ge(e.type);case me:return ge(e.render);case he:if(e=1===e._status?e._result:null)return ge(e)}return null}function be(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var a=e._debugOwner,r=e._debugSource,l=ge(e.type);n=null,a&&(n=ge(a.type)),a=l,l="",r?l=" (at "+r.fileName.replace(J,"")+":"+r.lineNumber+")":n&&(l=" (created by "+n+")"),n="\n    in "+(a||"Unknown")+l}t+=n,e=e.return}while(e);return t}function ve(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ye(e){e._valueTracker||(e._valueTracker=function(e){var t=we(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var r=n.get,l=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,l.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ee(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=we(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function xe(e,t){var n=t.checked;return r({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ke(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=ve(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Te(e,t){null!=(t=t.checked)&&G(e,"checked",t,!1)}function Ce(e,t){Te(e,t);var n=ve(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?Ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ie(e,t.type,ve(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Pe(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Ie(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function Se(e,t){return e=r({children:void 0},t),(t=function(e){var t="";return a.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function Re(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+ve(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function Fe(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return r({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function je(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:ve(n)}}function ze(e,t){var n=ve(t.value),a=ve(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function Ne(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var Ae="http://www.w3.org/1999/xhtml",Oe="http://www.w3.org/2000/svg";function _e(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Me(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?_e(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var Le,De=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,a,r){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if(e.namespaceURI!==Oe||"innerHTML"in e)e.innerHTML=t;else{for((Le=Le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ue(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}function Ve(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Be={},He={};function qe(e){if(Be[e])return Be[e];if(!We[e])return e;var t,n=We[e];for(t in n)if(n.hasOwnProperty(t)&&t in He)return Be[e]=n[t];return e}I&&(He=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);var $e=qe("animationend"),Qe=qe("animationiteration"),Ke=qe("animationstart"),Ye=qe("transitionend"),Xe="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ge=new("function"==typeof WeakMap?WeakMap:Map);function Je(e){var t=Ge.get(e);return void 0===t&&(t=new Map,Ge.set(e,t)),t}function Ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).effectTag)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function et(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function tt(e){if(Ze(e)!==e)throw Error(o(188))}function nt(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ze(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var l=r.alternate;if(null===l){if(null!==(a=r.return)){n=a;continue}break}if(r.child===l.child){for(l=r.child;l;){if(l===n)return tt(r),e;if(l===a)return tt(r),t;l=l.sibling}throw Error(o(188))}if(n.return!==a.return)n=r,a=l;else{for(var i=!1,s=r.child;s;){if(s===n){i=!0,n=r,a=l;break}if(s===a){i=!0,a=r,n=l;break}s=s.sibling}if(!i){for(s=l.child;s;){if(s===n){i=!0,n=l,a=r;break}if(s===a){i=!0,a=l,n=r;break}s=s.sibling}if(!i)throw Error(o(189))}}if(n.alternate!==a)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function at(e,t){if(null==t)throw Error(o(30));return null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function rt(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var lt=null;function ot(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var a=0;a<t.length&&!e.isPropagationStopped();a++)b(e,t[a],n[a]);else t&&b(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}function it(e){if(null!==e&&(lt=at(lt,e)),e=lt,lt=null,e){if(rt(e,ot),lt)throw Error(o(95));if(u)throw e=d,u=!1,d=null,e}}function st(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function ct(e){if(!I)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}var ut=[];function dt(e){e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>ut.length&&ut.push(e)}function ht(e,t,n,a){if(ut.length){var r=ut.pop();return r.topLevelType=e,r.eventSystemFlags=a,r.nativeEvent=t,r.targetInst=n,r}return{topLevelType:e,eventSystemFlags:a,nativeEvent:t,targetInst:n,ancestors:[]}}function mt(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var a=n;if(3===a.tag)a=a.stateNode.containerInfo;else{for(;a.return;)a=a.return;a=3!==a.tag?null:a.stateNode.containerInfo}if(!a)break;5!==(t=n.tag)&&6!==t||e.ancestors.push(n),n=In(a)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var r=st(e.nativeEvent);a=e.topLevelType;var l=e.nativeEvent,o=e.eventSystemFlags;0===n&&(o|=64);for(var i=null,s=0;s<x.length;s++){var c=x[s];c&&(c=c.extractEvents(a,t,l,r,o))&&(i=at(i,c))}it(i)}}function pt(e,t,n){if(!n.has(e)){switch(e){case"scroll":Kt(t,"scroll",!0);break;case"focus":case"blur":Kt(t,"focus",!0),Kt(t,"blur",!0),n.set("blur",null),n.set("focus",null);break;case"cancel":case"close":ct(e)&&Kt(t,e,!0);break;case"invalid":case"submit":case"reset":break;default:-1===Xe.indexOf(e)&&Qt(e,t)}n.set(e,null)}}var ft,gt,bt,vt=!1,wt=[],yt=null,Et=null,xt=null,kt=new Map,Tt=new Map,Ct=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput close cancel copy cut paste click change contextmenu reset submit".split(" "),It="focus blur dragenter dragleave mouseover mouseout pointerover pointerout gotpointercapture lostpointercapture".split(" ");function St(e,t,n,a,r){return{blockedOn:e,topLevelType:t,eventSystemFlags:32|n,nativeEvent:r,container:a}}function Rt(e,t){switch(e){case"focus":case"blur":yt=null;break;case"dragenter":case"dragleave":Et=null;break;case"mouseover":case"mouseout":xt=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function Ft(e,t,n,a,r,l){return null===e||e.nativeEvent!==l?(e=St(t,n,a,r,l),null!==t&&(null!==(t=Sn(t))&&gt(t)),e):(e.eventSystemFlags|=a,e)}function jt(e){var t=In(e.target);if(null!==t){var n=Ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=et(n)))return e.blockedOn=t,void l.unstable_runWithPriority(e.priority,(function(){bt(n)}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);if(null!==t){var n=Sn(t);return null!==n&&gt(n),e.blockedOn=t,!1}return!0}function Nt(e,t,n){zt(e)&&n.delete(t)}function At(){for(vt=!1;0<wt.length;){var e=wt[0];if(null!==e.blockedOn){null!==(e=Sn(e.blockedOn))&&ft(e);break}var t=Jt(e.topLevelType,e.eventSystemFlags,e.container,e.nativeEvent);null!==t?e.blockedOn=t:wt.shift()}null!==yt&&zt(yt)&&(yt=null),null!==Et&&zt(Et)&&(Et=null),null!==xt&&zt(xt)&&(xt=null),kt.forEach(Nt),Tt.forEach(Nt)}function Ot(e,t){e.blockedOn===t&&(e.blockedOn=null,vt||(vt=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,At)))}function _t(e){function t(t){return Ot(t,e)}if(0<wt.length){Ot(wt[0],e);for(var n=1;n<wt.length;n++){var a=wt[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==yt&&Ot(yt,e),null!==Et&&Ot(Et,e),null!==xt&&Ot(xt,e),kt.forEach(t),Tt.forEach(t),n=0;n<Ct.length;n++)(a=Ct[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Ct.length&&null===(n=Ct[0]).blockedOn;)jt(n),null===n.blockedOn&&Ct.shift()}var Mt={},Lt=new Map,Dt=new Map,Ut=["abort","abort",$e,"animationEnd",Qe,"animationIteration",Ke,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Ye,"transitionEnd","waiting","waiting"];function Vt(e,t){for(var n=0;n<e.length;n+=2){var a=e[n],r=e[n+1],l="on"+(r[0].toUpperCase()+r.slice(1));l={phasedRegistrationNames:{bubbled:l,captured:l+"Capture"},dependencies:[a],eventPriority:t},Dt.set(a,t),Lt.set(a,l),Mt[r]=l}}Vt("blur blur cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focus focus input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Vt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Vt(Ut,2);for(var Wt="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Bt=0;Bt<Wt.length;Bt++)Dt.set(Wt[Bt],0);var Ht=l.unstable_UserBlockingPriority,qt=l.unstable_runWithPriority,$t=!0;function Qt(e,t){Kt(t,e,!1)}function Kt(e,t,n){var a=Dt.get(t);switch(void 0===a?2:a){case 0:a=Yt.bind(null,t,1,e);break;case 1:a=Xt.bind(null,t,1,e);break;default:a=Gt.bind(null,t,1,e)}n?e.addEventListener(t,a,!0):e.addEventListener(t,a,!1)}function Yt(e,t,n,a){L||_();var r=Gt,l=L;L=!0;try{O(r,e,t,n,a)}finally{(L=l)||U()}}function Xt(e,t,n,a){qt(Ht,Gt.bind(null,e,t,n,a))}function Gt(e,t,n,a){if($t)if(0<wt.length&&-1<Pt.indexOf(e))e=St(null,e,t,n,a),wt.push(e);else{var r=Jt(e,t,n,a);if(null===r)Rt(e,a);else if(-1<Pt.indexOf(e))e=St(r,e,t,n,a),wt.push(e);else if(!function(e,t,n,a,r){switch(t){case"focus":return yt=Ft(yt,e,t,n,a,r),!0;case"dragenter":return Et=Ft(Et,e,t,n,a,r),!0;case"mouseover":return xt=Ft(xt,e,t,n,a,r),!0;case"pointerover":var l=r.pointerId;return kt.set(l,Ft(kt.get(l)||null,e,t,n,a,r)),!0;case"gotpointercapture":return l=r.pointerId,Tt.set(l,Ft(Tt.get(l)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a)){Rt(e,a),e=ht(e,a,null,t);try{V(mt,e)}finally{dt(e)}}}}function Jt(e,t,n,a){if(null!==(n=In(n=st(a)))){var r=Ze(n);if(null===r)n=null;else{var l=r.tag;if(13===l){if(null!==(n=et(r)))return n;n=null}else if(3===l){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;n=null}else r!==n&&(n=null)}}e=ht(e,a,n,t);try{V(mt,e)}finally{dt(e)}return null}var Zt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},en=["Webkit","ms","Moz","O"];function tn(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||Zt.hasOwnProperty(e)&&Zt[e]?(""+t).trim():t+"px"}function nn(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=tn(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(Zt).forEach((function(e){en.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Zt[t]=Zt[e]}))}));var an=r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function rn(e,t){if(t){if(an[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e,""));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62,""))}}function ln(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var on=Ae;function sn(e,t){var n=Je(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=C[t];for(var a=0;a<t.length;a++)pt(t[a],e,n)}function cn(){}function un(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function dn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hn(e,t){var n,a=dn(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=dn(a)}}function mn(){for(var e=window,t=un();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=un((e=t.contentWindow).document)}return t}function pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var fn=null,gn=null;function bn(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function vn(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var wn="function"==typeof setTimeout?setTimeout:void 0,yn="function"==typeof clearTimeout?clearTimeout:void 0;function En(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function xn(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var kn=Math.random().toString(36).slice(2),Tn="__reactInternalInstance$"+kn,Cn="__reactEventHandlers$"+kn,Pn="__reactContainere$"+kn;function In(e){var t=e[Tn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Pn]||n[Tn]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=xn(e);null!==e;){if(n=e[Tn])return n;e=xn(e)}return t}n=(e=n).parentNode}return null}function Sn(e){return!(e=e[Tn]||e[Pn])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Rn(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Fn(e){return e[Cn]||null}function jn(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function zn(e,t){var n=e.stateNode;if(!n)return null;var a=p(n);if(!a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}function Nn(e,t,n){(t=zn(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=at(n._dispatchListeners,t),n._dispatchInstances=at(n._dispatchInstances,e))}function An(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=jn(t);for(t=n.length;0<t--;)Nn(n[t],"captured",e);for(t=0;t<n.length;t++)Nn(n[t],"bubbled",e)}}function On(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=zn(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=at(n._dispatchListeners,t),n._dispatchInstances=at(n._dispatchInstances,e))}function _n(e){e&&e.dispatchConfig.registrationName&&On(e._targetInst,null,e)}function Mn(e){rt(e,An)}var Ln=null,Dn=null,Un=null;function Vn(){if(Un)return Un;var e,t,n=Dn,a=n.length,r="value"in Ln?Ln.value:Ln.textContent,l=r.length;for(e=0;e<a&&n[e]===r[e];e++);var o=a-e;for(t=1;t<=o&&n[a-t]===r[l-t];t++);return Un=r.slice(e,1<t?1-t:void 0)}function Wn(){return!0}function Bn(){return!1}function Hn(e,t,n,a){for(var r in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(r)&&((t=e[r])?this[r]=t(n):"target"===r?this.target=a:this[r]=n[r]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?Wn:Bn,this.isPropagationStopped=Bn,this}function qn(e,t,n,a){if(this.eventPool.length){var r=this.eventPool.pop();return this.call(r,e,t,n,a),r}return new this(e,t,n,a)}function $n(e){if(!(e instanceof this))throw Error(o(279));e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function Qn(e){e.eventPool=[],e.getPooled=qn,e.release=$n}r(Hn.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wn)},persist:function(){this.isPersistent=Wn},isPersistent:Bn,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=Bn,this._dispatchInstances=this._dispatchListeners=null}}),Hn.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},Hn.extend=function(e){function t(){}function n(){return a.apply(this,arguments)}var a=this;t.prototype=a.prototype;var l=new t;return r(l,n.prototype),n.prototype=l,n.prototype.constructor=n,n.Interface=r({},a.Interface,e),n.extend=a.extend,Qn(n),n},Qn(Hn);var Kn=Hn.extend({data:null}),Yn=Hn.extend({data:null}),Xn=[9,13,27,32],Gn=I&&"CompositionEvent"in window,Jn=null;I&&"documentMode"in document&&(Jn=document.documentMode);var Zn=I&&"TextEvent"in window&&!Jn,ea=I&&(!Gn||Jn&&8<Jn&&11>=Jn),ta=String.fromCharCode(32),na={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},aa=!1;function ra(e,t){switch(e){case"keyup":return-1!==Xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function la(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var oa=!1;var ia={eventTypes:na,extractEvents:function(e,t,n,a){var r;if(Gn)e:{switch(e){case"compositionstart":var l=na.compositionStart;break e;case"compositionend":l=na.compositionEnd;break e;case"compositionupdate":l=na.compositionUpdate;break e}l=void 0}else oa?ra(e,n)&&(l=na.compositionEnd):"keydown"===e&&229===n.keyCode&&(l=na.compositionStart);return l?(ea&&"ko"!==n.locale&&(oa||l!==na.compositionStart?l===na.compositionEnd&&oa&&(r=Vn()):(Dn="value"in(Ln=a)?Ln.value:Ln.textContent,oa=!0)),l=Kn.getPooled(l,t,n,a),r?l.data=r:null!==(r=la(n))&&(l.data=r),Mn(l),r=l):r=null,(e=Zn?function(e,t){switch(e){case"compositionend":return la(t);case"keypress":return 32!==t.which?null:(aa=!0,ta);case"textInput":return(e=t.data)===ta&&aa?null:e;default:return null}}(e,n):function(e,t){if(oa)return"compositionend"===e||!Gn&&ra(e,t)?(e=Vn(),Un=Dn=Ln=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ea&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=Yn.getPooled(na.beforeInput,t,n,a)).data=e,Mn(t)):t=null,null===r?t:null===t?r:[r,t]}},sa={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ca(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!sa[e.type]:"textarea"===t}var ua={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function da(e,t,n){return(e=Hn.getPooled(ua.change,e,t,n)).type="change",z(n),Mn(e),e}var ha=null,ma=null;function pa(e){it(e)}function fa(e){if(Ee(Rn(e)))return e}function ga(e,t){if("change"===e)return t}var ba=!1;function va(){ha&&(ha.detachEvent("onpropertychange",wa),ma=ha=null)}function wa(e){if("value"===e.propertyName&&fa(ma))if(e=da(ma,e,st(e)),L)it(e);else{L=!0;try{A(pa,e)}finally{L=!1,U()}}}function ya(e,t,n){"focus"===e?(va(),ma=n,(ha=t).attachEvent("onpropertychange",wa)):"blur"===e&&va()}function Ea(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return fa(ma)}function xa(e,t){if("click"===e)return fa(t)}function ka(e,t){if("input"===e||"change"===e)return fa(t)}I&&(ba=ct("input")&&(!document.documentMode||9<document.documentMode));var Ta={eventTypes:ua,_isInputEventSupported:ba,extractEvents:function(e,t,n,a){var r=t?Rn(t):window,l=r.nodeName&&r.nodeName.toLowerCase();if("select"===l||"input"===l&&"file"===r.type)var o=ga;else if(ca(r))if(ba)o=ka;else{o=Ea;var i=ya}else(l=r.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===r.type||"radio"===r.type)&&(o=xa);if(o&&(o=o(e,t)))return da(o,n,a);i&&i(e,r,t),"blur"===e&&(e=r._wrapperState)&&e.controlled&&"number"===r.type&&Ie(r,"number",r.value)}},Ca=Hn.extend({view:null,detail:null}),Pa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ia(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pa[e])&&!!t[e]}function Sa(){return Ia}var Ra=0,Fa=0,ja=!1,za=!1,Na=Ca.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Sa,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Ra;return Ra=e.screenX,ja?"mousemove"===e.type?e.screenX-t:0:(ja=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Fa;return Fa=e.screenY,za?"mousemove"===e.type?e.screenY-t:0:(za=!0,0)}}),Aa=Na.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Oa={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},_a={eventTypes:Oa,extractEvents:function(e,t,n,a,r){var l="mouseover"===e||"pointerover"===e,o="mouseout"===e||"pointerout"===e;if(l&&0==(32&r)&&(n.relatedTarget||n.fromElement)||!o&&!l)return null;(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,o)?(o=t,null!==(t=(t=n.relatedTarget||n.toElement)?In(t):null)&&(t!==Ze(t)||5!==t.tag&&6!==t.tag)&&(t=null)):o=null;if(o===t)return null;if("mouseout"===e||"mouseover"===e)var i=Na,s=Oa.mouseLeave,c=Oa.mouseEnter,u="mouse";else"pointerout"!==e&&"pointerover"!==e||(i=Aa,s=Oa.pointerLeave,c=Oa.pointerEnter,u="pointer");if(e=null==o?l:Rn(o),l=null==t?l:Rn(t),(s=i.getPooled(s,o,n,a)).type=u+"leave",s.target=e,s.relatedTarget=l,(n=i.getPooled(c,t,n,a)).type=u+"enter",n.target=l,n.relatedTarget=e,u=t,(a=o)&&u)e:{for(c=u,o=0,e=i=a;e;e=jn(e))o++;for(e=0,t=c;t;t=jn(t))e++;for(;0<o-e;)i=jn(i),o--;for(;0<e-o;)c=jn(c),e--;for(;o--;){if(i===c||i===c.alternate)break e;i=jn(i),c=jn(c)}i=null}else i=null;for(c=i,i=[];a&&a!==c&&(null===(o=a.alternate)||o!==c);)i.push(a),a=jn(a);for(a=[];u&&u!==c&&(null===(o=u.alternate)||o!==c);)a.push(u),u=jn(u);for(u=0;u<i.length;u++)On(i[u],"bubbled",s);for(u=a.length;0<u--;)On(a[u],"captured",n);return 0==(64&r)?[s]:[s,n]}};var Ma="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},La=Object.prototype.hasOwnProperty;function Da(e,t){if(Ma(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++)if(!La.call(t,n[a])||!Ma(e[n[a]],t[n[a]]))return!1;return!0}var Ua=I&&"documentMode"in document&&11>=document.documentMode,Va={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Wa=null,Ba=null,Ha=null,qa=!1;function $a(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return qa||null==Wa||Wa!==un(n)?null:("selectionStart"in(n=Wa)&&pn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Ha&&Da(Ha,n)?null:(Ha=n,(e=Hn.getPooled(Va.select,Ba,e,t)).type="select",e.target=Wa,Mn(e),e))}var Qa={eventTypes:Va,extractEvents:function(e,t,n,a,r,l){if(!(l=!(r=l||(a.window===a?a.document:9===a.nodeType?a:a.ownerDocument)))){e:{r=Je(r),l=C.onSelect;for(var o=0;o<l.length;o++)if(!r.has(l[o])){r=!1;break e}r=!0}l=!r}if(l)return null;switch(r=t?Rn(t):window,e){case"focus":(ca(r)||"true"===r.contentEditable)&&(Wa=r,Ba=t,Ha=null);break;case"blur":Ha=Ba=Wa=null;break;case"mousedown":qa=!0;break;case"contextmenu":case"mouseup":case"dragend":return qa=!1,$a(n,a);case"selectionchange":if(Ua)break;case"keydown":case"keyup":return $a(n,a)}return null}},Ka=Hn.extend({animationName:null,elapsedTime:null,pseudoElement:null}),Ya=Hn.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Xa=Ca.extend({relatedTarget:null});function Ga(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var Ja={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Za={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},er=Ca.extend({key:function(e){if(e.key){var t=Ja[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ga(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Za[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Sa,charCode:function(e){return"keypress"===e.type?Ga(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ga(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),tr=Na.extend({dataTransfer:null}),nr=Ca.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Sa}),ar=Hn.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),rr=Na.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),lr={eventTypes:Mt,extractEvents:function(e,t,n,a){var r=Lt.get(e);if(!r)return null;switch(e){case"keypress":if(0===Ga(n))return null;case"keydown":case"keyup":e=er;break;case"blur":case"focus":e=Xa;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Na;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=tr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=nr;break;case $e:case Qe:case Ke:e=Ka;break;case Ye:e=ar;break;case"scroll":e=Ca;break;case"wheel":e=rr;break;case"copy":case"cut":case"paste":e=Ya;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=Aa;break;default:e=Hn}return Mn(t=e.getPooled(r,t,n,a)),t}};if(v)throw Error(o(101));v=Array.prototype.slice.call("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),y(),p=Fn,f=Sn,g=Rn,P({SimpleEventPlugin:lr,EnterLeaveEventPlugin:_a,ChangeEventPlugin:Ta,SelectEventPlugin:Qa,BeforeInputEventPlugin:ia});var or=[],ir=-1;function sr(e){0>ir||(e.current=or[ir],or[ir]=null,ir--)}function cr(e,t){ir++,or[ir]=e.current,e.current=t}var ur={},dr={current:ur},hr={current:!1},mr=ur;function pr(e,t){var n=e.type.contextTypes;if(!n)return ur;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,l={};for(r in n)l[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=l),l}function fr(e){return null!=(e=e.childContextTypes)}function gr(){sr(hr),sr(dr)}function br(e,t,n){if(dr.current!==ur)throw Error(o(168));cr(dr,t),cr(hr,n)}function vr(e,t,n){var a=e.stateNode;if(e=t.childContextTypes,"function"!=typeof a.getChildContext)return n;for(var l in a=a.getChildContext())if(!(l in e))throw Error(o(108,ge(t)||"Unknown",l));return r({},n,{},a)}function wr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ur,mr=dr.current,cr(dr,e),cr(hr,hr.current),!0}function yr(e,t,n){var a=e.stateNode;if(!a)throw Error(o(169));n?(e=vr(e,t,mr),a.__reactInternalMemoizedMergedChildContext=e,sr(hr),sr(dr),cr(dr,e)):sr(hr),cr(hr,n)}var Er=l.unstable_runWithPriority,xr=l.unstable_scheduleCallback,kr=l.unstable_cancelCallback,Tr=l.unstable_requestPaint,Cr=l.unstable_now,Pr=l.unstable_getCurrentPriorityLevel,Ir=l.unstable_ImmediatePriority,Sr=l.unstable_UserBlockingPriority,Rr=l.unstable_NormalPriority,Fr=l.unstable_LowPriority,jr=l.unstable_IdlePriority,zr={},Nr=l.unstable_shouldYield,Ar=void 0!==Tr?Tr:function(){},Or=null,_r=null,Mr=!1,Lr=Cr(),Dr=1e4>Lr?Cr:function(){return Cr()-Lr};function Ur(){switch(Pr()){case Ir:return 99;case Sr:return 98;case Rr:return 97;case Fr:return 96;case jr:return 95;default:throw Error(o(332))}}function Vr(e){switch(e){case 99:return Ir;case 98:return Sr;case 97:return Rr;case 96:return Fr;case 95:return jr;default:throw Error(o(332))}}function Wr(e,t){return e=Vr(e),Er(e,t)}function Br(e,t,n){return e=Vr(e),xr(e,t,n)}function Hr(e){return null===Or?(Or=[e],_r=xr(Ir,$r)):Or.push(e),zr}function qr(){if(null!==_r){var e=_r;_r=null,kr(e)}$r()}function $r(){if(!Mr&&null!==Or){Mr=!0;var e=0;try{var t=Or;Wr(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Or=null}catch(t){throw null!==Or&&(Or=Or.slice(e+1)),xr(Ir,qr),t}finally{Mr=!1}}}function Qr(e,t,n){return 1073741821-(1+((1073741821-e+t/10)/(n/=10)|0))*n}function Kr(e,t){if(e&&e.defaultProps)for(var n in t=r({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var Yr={current:null},Xr=null,Gr=null,Jr=null;function Zr(){Jr=Gr=Xr=null}function el(e){var t=Yr.current;sr(Yr),e.type._context._currentValue=t}function tl(e,t){for(;null!==e;){var n=e.alternate;if(e.childExpirationTime<t)e.childExpirationTime=t,null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t);else{if(!(null!==n&&n.childExpirationTime<t))break;n.childExpirationTime=t}e=e.return}}function nl(e,t){Xr=e,Jr=Gr=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.expirationTime>=t&&(Fo=!0),e.firstContext=null)}function al(e,t){if(Jr!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Jr=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Gr){if(null===Xr)throw Error(o(308));Gr=t,Xr.dependencies={expirationTime:0,firstContext:t,responders:null}}else Gr=Gr.next=t;return e._currentValue}var rl=!1;function ll(e){e.updateQueue={baseState:e.memoizedState,baseQueue:null,shared:{pending:null},effects:null}}function ol(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,baseQueue:e.baseQueue,shared:e.shared,effects:e.effects})}function il(e,t){return(e={expirationTime:e,suspenseConfig:t,tag:0,payload:null,callback:null,next:null}).next=e}function sl(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function cl(e,t){var n=e.alternate;null!==n&&ol(n,e),null===(n=(e=e.updateQueue).baseQueue)?(e.baseQueue=t.next=t,t.next=t):(t.next=n.next,n.next=t)}function ul(e,t,n,a){var l=e.updateQueue;rl=!1;var o=l.baseQueue,i=l.shared.pending;if(null!==i){if(null!==o){var s=o.next;o.next=i.next,i.next=s}o=i,l.shared.pending=null,null!==(s=e.alternate)&&(null!==(s=s.updateQueue)&&(s.baseQueue=i))}if(null!==o){s=o.next;var c=l.baseState,u=0,d=null,h=null,m=null;if(null!==s)for(var p=s;;){if((i=p.expirationTime)<a){var f={expirationTime:p.expirationTime,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null};null===m?(h=m=f,d=c):m=m.next=f,i>u&&(u=i)}else{null!==m&&(m=m.next={expirationTime:1073741823,suspenseConfig:p.suspenseConfig,tag:p.tag,payload:p.payload,callback:p.callback,next:null}),ls(i,p.suspenseConfig);e:{var g=e,b=p;switch(i=t,f=n,b.tag){case 1:if("function"==typeof(g=b.payload)){c=g.call(f,c,i);break e}c=g;break e;case 3:g.effectTag=-4097&g.effectTag|64;case 0:if(null==(i="function"==typeof(g=b.payload)?g.call(f,c,i):g))break e;c=r({},c,i);break e;case 2:rl=!0}}null!==p.callback&&(e.effectTag|=32,null===(i=l.effects)?l.effects=[p]:i.push(p))}if(null===(p=p.next)||p===s){if(null===(i=l.shared.pending))break;p=o.next=i.next,i.next=s,l.baseQueue=o=i,l.shared.pending=null}}null===m?d=c:m.next=h,l.baseState=d,l.baseQueue=m,os(u),e.expirationTime=u,e.memoizedState=c}}function dl(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=r,r=n,"function"!=typeof a)throw Error(o(191,a));a.call(r)}}}var hl=X.ReactCurrentBatchConfig,ml=(new a.Component).refs;function pl(e,t,n,a){n=null==(n=n(a,t=e.memoizedState))?t:r({},t,n),e.memoizedState=n,0===e.expirationTime&&(e.updateQueue.baseState=n)}var fl={isMounted:function(e){return!!(e=e._reactInternalFiber)&&Ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var a=$i(),r=hl.suspense;(r=il(a=Qi(a,e,r),r)).payload=t,null!=n&&(r.callback=n),sl(e,r),Ki(e,a)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var a=$i(),r=hl.suspense;(r=il(a=Qi(a,e,r),r)).tag=1,r.payload=t,null!=n&&(r.callback=n),sl(e,r),Ki(e,a)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=$i(),a=hl.suspense;(a=il(n=Qi(n,e,a),a)).tag=2,null!=t&&(a.callback=t),sl(e,a),Ki(e,n)}};function gl(e,t,n,a,r,l,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,l,o):!t.prototype||!t.prototype.isPureReactComponent||(!Da(n,a)||!Da(r,l))}function bl(e,t,n){var a=!1,r=ur,l=t.contextType;return"object"==typeof l&&null!==l?l=al(l):(r=fr(t)?mr:dr.current,l=(a=null!=(a=t.contextTypes))?pr(e,r):ur),t=new t(n,l),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=fl,e.stateNode=t,t._reactInternalFiber=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=l),t}function vl(e,t,n,a){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&fl.enqueueReplaceState(t,t.state,null)}function wl(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs=ml,ll(e);var l=t.contextType;"object"==typeof l&&null!==l?r.context=al(l):(l=fr(t)?mr:dr.current,r.context=pr(e,l)),ul(e,n,r,a),r.state=e.memoizedState,"function"==typeof(l=t.getDerivedStateFromProps)&&(pl(e,t,l,n),r.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof r.getSnapshotBeforeUpdate||"function"!=typeof r.UNSAFE_componentWillMount&&"function"!=typeof r.componentWillMount||(t=r.state,"function"==typeof r.componentWillMount&&r.componentWillMount(),"function"==typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&fl.enqueueReplaceState(r,r.state,null),ul(e,n,r,a),r.state=e.memoizedState),"function"==typeof r.componentDidMount&&(e.effectTag|=4)}var yl=Array.isArray;function El(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var a=n.stateNode}if(!a)throw Error(o(147,e));var r=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===r?t.ref:((t=function(e){var t=a.refs;t===ml&&(t=a.refs={}),null===e?delete t[r]:t[r]=e})._stringRef=r,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function xl(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,""))}function kl(e){function t(t,n){if(e){var a=t.lastEffect;null!==a?(a.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Ps(e,t)).index=0,e.sibling=null,e}function l(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.effectTag=2,n):a:(t.effectTag=2,n):n}function i(t){return e&&null===t.alternate&&(t.effectTag=2),t}function s(e,t,n,a){return null===t||6!==t.tag?((t=Rs(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){return null!==t&&t.elementType===n.type?((a=r(t,n.props)).ref=El(e,t,n),a.return=e,a):((a=Is(n.type,n.key,n.props,null,e.mode,a)).ref=El(e,t,n),a.return=e,a)}function u(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fs(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,a,l){return null===t||7!==t.tag?((t=Ss(n,e.mode,a,l)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Rs(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case ee:return(n=Is(t.type,t.key,t.props,null,e.mode,n)).ref=El(e,null,t),n.return=e,n;case te:return(t=Fs(t,e.mode,n)).return=e,t}if(yl(t)||fe(t))return(t=Ss(t,e.mode,n,null)).return=e,t;xl(e,t)}return null}function m(e,t,n,a){var r=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==r?null:s(e,t,""+n,a);if("object"==typeof n&&null!==n){switch(n.$$typeof){case ee:return n.key===r?n.type===ne?d(e,t,n.props.children,a,r):c(e,t,n,a):null;case te:return n.key===r?u(e,t,n,a):null}if(yl(n)||fe(n))return null!==r?null:d(e,t,n,a,null);xl(e,n)}return null}function p(e,t,n,a,r){if("string"==typeof a||"number"==typeof a)return s(t,e=e.get(n)||null,""+a,r);if("object"==typeof a&&null!==a){switch(a.$$typeof){case ee:return e=e.get(null===a.key?n:a.key)||null,a.type===ne?d(t,e,a.props.children,r,a.key):c(t,e,a,r);case te:return u(t,e=e.get(null===a.key?n:a.key)||null,a,r)}if(yl(a)||fe(a))return d(t,e=e.get(n)||null,a,r,null);xl(t,a)}return null}function f(r,o,i,s){for(var c=null,u=null,d=o,f=o=0,g=null;null!==d&&f<i.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var b=m(r,d,i[f],s);if(null===b){null===d&&(d=g);break}e&&d&&null===b.alternate&&t(r,d),o=l(b,o,f),null===u?c=b:u.sibling=b,u=b,d=g}if(f===i.length)return n(r,d),c;if(null===d){for(;f<i.length;f++)null!==(d=h(r,i[f],s))&&(o=l(d,o,f),null===u?c=d:u.sibling=d,u=d);return c}for(d=a(r,d);f<i.length;f++)null!==(g=p(d,r,f,i[f],s))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),o=l(g,o,f),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(r,e)})),c}function g(r,i,s,c){var u=fe(s);if("function"!=typeof u)throw Error(o(150));if(null==(s=u.call(s)))throw Error(o(151));for(var d=u=null,f=i,g=i=0,b=null,v=s.next();null!==f&&!v.done;g++,v=s.next()){f.index>g?(b=f,f=null):b=f.sibling;var w=m(r,f,v.value,c);if(null===w){null===f&&(f=b);break}e&&f&&null===w.alternate&&t(r,f),i=l(w,i,g),null===d?u=w:d.sibling=w,d=w,f=b}if(v.done)return n(r,f),u;if(null===f){for(;!v.done;g++,v=s.next())null!==(v=h(r,v.value,c))&&(i=l(v,i,g),null===d?u=v:d.sibling=v,d=v);return u}for(f=a(r,f);!v.done;g++,v=s.next())null!==(v=p(f,r,g,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),i=l(v,i,g),null===d?u=v:d.sibling=v,d=v);return e&&f.forEach((function(e){return t(r,e)})),u}return function(e,a,l,s){var c="object"==typeof l&&null!==l&&l.type===ne&&null===l.key;c&&(l=l.props.children);var u="object"==typeof l&&null!==l;if(u)switch(l.$$typeof){case ee:e:{for(u=l.key,c=a;null!==c;){if(c.key===u){switch(c.tag){case 7:if(l.type===ne){n(e,c.sibling),(a=r(c,l.props.children)).return=e,e=a;break e}break;default:if(c.elementType===l.type){n(e,c.sibling),(a=r(c,l.props)).ref=El(e,c,l),a.return=e,e=a;break e}}n(e,c);break}t(e,c),c=c.sibling}l.type===ne?((a=Ss(l.props.children,e.mode,s,l.key)).return=e,e=a):((s=Is(l.type,l.key,l.props,null,e.mode,s)).ref=El(e,a,l),s.return=e,e=s)}return i(e);case te:e:{for(c=l.key;null!==a;){if(a.key===c){if(4===a.tag&&a.stateNode.containerInfo===l.containerInfo&&a.stateNode.implementation===l.implementation){n(e,a.sibling),(a=r(a,l.children||[])).return=e,e=a;break e}n(e,a);break}t(e,a),a=a.sibling}(a=Fs(l,e.mode,s)).return=e,e=a}return i(e)}if("string"==typeof l||"number"==typeof l)return l=""+l,null!==a&&6===a.tag?(n(e,a.sibling),(a=r(a,l)).return=e,e=a):(n(e,a),(a=Rs(l,e.mode,s)).return=e,e=a),i(e);if(yl(l))return f(e,a,l,s);if(fe(l))return g(e,a,l,s);if(u&&xl(e,l),void 0===l&&!c)switch(e.tag){case 1:case 0:throw e=e.type,Error(o(152,e.displayName||e.name||"Component"))}return n(e,a)}}var Tl=kl(!0),Cl=kl(!1),Pl={},Il={current:Pl},Sl={current:Pl},Rl={current:Pl};function Fl(e){if(e===Pl)throw Error(o(174));return e}function jl(e,t){switch(cr(Rl,t),cr(Sl,e),cr(Il,Pl),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Me(null,"");break;default:t=Me(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}sr(Il),cr(Il,t)}function zl(){sr(Il),sr(Sl),sr(Rl)}function Nl(e){Fl(Rl.current);var t=Fl(Il.current),n=Me(t,e.type);t!==n&&(cr(Sl,e),cr(Il,n))}function Al(e){Sl.current===e&&(sr(Il),sr(Sl))}var Ol={current:0};function _l(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.effectTag))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Ml(e,t){return{responder:e,props:t}}var Ll=X.ReactCurrentDispatcher,Dl=X.ReactCurrentBatchConfig,Ul=0,Vl=null,Wl=null,Bl=null,Hl=!1;function ql(){throw Error(o(321))}function $l(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ma(e[n],t[n]))return!1;return!0}function Ql(e,t,n,a,r,l){if(Ul=l,Vl=t,t.memoizedState=null,t.updateQueue=null,t.expirationTime=0,Ll.current=null===e||null===e.memoizedState?bo:vo,e=n(a,r),t.expirationTime===Ul){l=0;do{if(t.expirationTime=0,!(25>l))throw Error(o(301));l+=1,Bl=Wl=null,t.updateQueue=null,Ll.current=wo,e=n(a,r)}while(t.expirationTime===Ul)}if(Ll.current=go,t=null!==Wl&&null!==Wl.next,Ul=0,Bl=Wl=Vl=null,Hl=!1,t)throw Error(o(300));return e}function Kl(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Bl?Vl.memoizedState=Bl=e:Bl=Bl.next=e,Bl}function Yl(){if(null===Wl){var e=Vl.alternate;e=null!==e?e.memoizedState:null}else e=Wl.next;var t=null===Bl?Vl.memoizedState:Bl.next;if(null!==t)Bl=t,Wl=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Wl=e).memoizedState,baseState:Wl.baseState,baseQueue:Wl.baseQueue,queue:Wl.queue,next:null},null===Bl?Vl.memoizedState=Bl=e:Bl=Bl.next=e}return Bl}function Xl(e,t){return"function"==typeof t?t(e):t}function Gl(e){var t=Yl(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var a=Wl,r=a.baseQueue,l=n.pending;if(null!==l){if(null!==r){var i=r.next;r.next=l.next,l.next=i}a.baseQueue=r=l,n.pending=null}if(null!==r){r=r.next,a=a.baseState;var s=i=l=null,c=r;do{var u=c.expirationTime;if(u<Ul){var d={expirationTime:c.expirationTime,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===s?(i=s=d,l=a):s=s.next=d,u>Vl.expirationTime&&(Vl.expirationTime=u,os(u))}else null!==s&&(s=s.next={expirationTime:1073741823,suspenseConfig:c.suspenseConfig,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),ls(u,c.suspenseConfig),a=c.eagerReducer===e?c.eagerState:e(a,c.action);c=c.next}while(null!==c&&c!==r);null===s?l=a:s.next=i,Ma(a,t.memoizedState)||(Fo=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=s,n.lastRenderedState=a}return[t.memoizedState,n.dispatch]}function Jl(e){var t=Yl(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,l=t.memoizedState;if(null!==r){n.pending=null;var i=r=r.next;do{l=e(l,i.action),i=i.next}while(i!==r);Ma(l,t.memoizedState)||(Fo=!0),t.memoizedState=l,null===t.baseQueue&&(t.baseState=l),n.lastRenderedState=l}return[l,a]}function Zl(e){var t=Kl();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:Xl,lastRenderedState:e}).dispatch=fo.bind(null,Vl,e),[t.memoizedState,e]}function eo(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=Vl.updateQueue)?(t={lastEffect:null},Vl.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function to(){return Yl().memoizedState}function no(e,t,n,a){var r=Kl();Vl.effectTag|=e,r.memoizedState=eo(1|t,n,void 0,void 0===a?null:a)}function ao(e,t,n,a){var r=Yl();a=void 0===a?null:a;var l=void 0;if(null!==Wl){var o=Wl.memoizedState;if(l=o.destroy,null!==a&&$l(a,o.deps))return void eo(t,n,l,a)}Vl.effectTag|=e,r.memoizedState=eo(1|t,n,l,a)}function ro(e,t){return no(516,4,e,t)}function lo(e,t){return ao(516,4,e,t)}function oo(e,t){return ao(4,2,e,t)}function io(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function so(e,t,n){return n=null!=n?n.concat([e]):null,ao(4,2,io.bind(null,t,e),n)}function co(){}function uo(e,t){return Kl().memoizedState=[e,void 0===t?null:t],e}function ho(e,t){var n=Yl();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&$l(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function mo(e,t){var n=Yl();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&$l(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function po(e,t,n){var a=Ur();Wr(98>a?98:a,(function(){e(!0)})),Wr(97<a?97:a,(function(){var a=Dl.suspense;Dl.suspense=void 0===t?null:t;try{e(!1),n()}finally{Dl.suspense=a}}))}function fo(e,t,n){var a=$i(),r=hl.suspense;r={expirationTime:a=Qi(a,e,r),suspenseConfig:r,action:n,eagerReducer:null,eagerState:null,next:null};var l=t.pending;if(null===l?r.next=r:(r.next=l.next,l.next=r),t.pending=r,l=e.alternate,e===Vl||null!==l&&l===Vl)Hl=!0,r.expirationTime=Ul,Vl.expirationTime=Ul;else{if(0===e.expirationTime&&(null===l||0===l.expirationTime)&&null!==(l=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=l(o,n);if(r.eagerReducer=l,r.eagerState=i,Ma(i,o))return}catch(e){}Ki(e,a)}}var go={readContext:al,useCallback:ql,useContext:ql,useEffect:ql,useImperativeHandle:ql,useLayoutEffect:ql,useMemo:ql,useReducer:ql,useRef:ql,useState:ql,useDebugValue:ql,useResponder:ql,useDeferredValue:ql,useTransition:ql},bo={readContext:al,useCallback:uo,useContext:al,useEffect:ro,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,no(4,2,io.bind(null,t,e),n)},useLayoutEffect:function(e,t){return no(4,2,e,t)},useMemo:function(e,t){var n=Kl();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Kl();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e=(e=a.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=fo.bind(null,Vl,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},Kl().memoizedState=e},useState:Zl,useDebugValue:co,useResponder:Ml,useDeferredValue:function(e,t){var n=Zl(e),a=n[0],r=n[1];return ro((function(){var n=Dl.suspense;Dl.suspense=void 0===t?null:t;try{r(e)}finally{Dl.suspense=n}}),[e,t]),a},useTransition:function(e){var t=Zl(!1),n=t[0];return t=t[1],[uo(po.bind(null,t,e),[t,e]),n]}},vo={readContext:al,useCallback:ho,useContext:al,useEffect:lo,useImperativeHandle:so,useLayoutEffect:oo,useMemo:mo,useReducer:Gl,useRef:to,useState:function(){return Gl(Xl)},useDebugValue:co,useResponder:Ml,useDeferredValue:function(e,t){var n=Gl(Xl),a=n[0],r=n[1];return lo((function(){var n=Dl.suspense;Dl.suspense=void 0===t?null:t;try{r(e)}finally{Dl.suspense=n}}),[e,t]),a},useTransition:function(e){var t=Gl(Xl),n=t[0];return t=t[1],[ho(po.bind(null,t,e),[t,e]),n]}},wo={readContext:al,useCallback:ho,useContext:al,useEffect:lo,useImperativeHandle:so,useLayoutEffect:oo,useMemo:mo,useReducer:Jl,useRef:to,useState:function(){return Jl(Xl)},useDebugValue:co,useResponder:Ml,useDeferredValue:function(e,t){var n=Jl(Xl),a=n[0],r=n[1];return lo((function(){var n=Dl.suspense;Dl.suspense=void 0===t?null:t;try{r(e)}finally{Dl.suspense=n}}),[e,t]),a},useTransition:function(e){var t=Jl(Xl),n=t[0];return t=t[1],[ho(po.bind(null,t,e),[t,e]),n]}},yo=null,Eo=null,xo=!1;function ko(e,t){var n=Ts(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function To(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Co(e){if(xo){var t=Eo;if(t){var n=t;if(!To(e,t)){if(!(t=En(n.nextSibling))||!To(e,t))return e.effectTag=-1025&e.effectTag|2,xo=!1,void(yo=e);ko(yo,n)}yo=e,Eo=En(t.firstChild)}else e.effectTag=-1025&e.effectTag|2,xo=!1,yo=e}}function Po(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;yo=e}function Io(e){if(e!==yo)return!1;if(!xo)return Po(e),xo=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!vn(t,e.memoizedProps))for(t=Eo;t;)ko(e,t),t=En(t.nextSibling);if(Po(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Eo=En(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Eo=null}}else Eo=yo?En(e.stateNode.nextSibling):null;return!0}function So(){Eo=yo=null,xo=!1}var Ro=X.ReactCurrentOwner,Fo=!1;function jo(e,t,n,a){t.child=null===e?Cl(t,null,n,a):Tl(t,e.child,n,a)}function zo(e,t,n,a,r){n=n.render;var l=t.ref;return nl(t,r),a=Ql(e,t,n,a,l,r),null===e||Fo?(t.effectTag|=1,jo(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ko(e,t,r))}function No(e,t,n,a,r,l){if(null===e){var o=n.type;return"function"!=typeof o||Cs(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Is(n.type,null,a,null,t.mode,l)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ao(e,t,o,a,r,l))}return o=e.child,r<l&&(r=o.memoizedProps,(n=null!==(n=n.compare)?n:Da)(r,a)&&e.ref===t.ref)?Ko(e,t,l):(t.effectTag|=1,(e=Ps(o,a)).ref=t.ref,e.return=t,t.child=e)}function Ao(e,t,n,a,r,l){return null!==e&&Da(e.memoizedProps,a)&&e.ref===t.ref&&(Fo=!1,r<l)?(t.expirationTime=e.expirationTime,Ko(e,t,l)):_o(e,t,n,a,l)}function Oo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function _o(e,t,n,a,r){var l=fr(n)?mr:dr.current;return l=pr(t,l),nl(t,r),n=Ql(e,t,n,a,l,r),null===e||Fo?(t.effectTag|=1,jo(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=r&&(e.expirationTime=0),Ko(e,t,r))}function Mo(e,t,n,a,r){if(fr(n)){var l=!0;wr(t)}else l=!1;if(nl(t,r),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),bl(t,n,a),wl(t,n,a,r),a=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var s=o.context,c=n.contextType;"object"==typeof c&&null!==c?c=al(c):c=pr(t,c=fr(n)?mr:dr.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(i!==a||s!==c)&&vl(t,o,a,c),rl=!1;var h=t.memoizedState;o.state=h,ul(t,a,o,r),s=t.memoizedState,i!==a||h!==s||hr.current||rl?("function"==typeof u&&(pl(t,n,u,a),s=t.memoizedState),(i=rl||gl(t,n,i,a,h,s,c))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=a,t.memoizedState=s),o.props=a,o.state=s,o.context=c,a=i):("function"==typeof o.componentDidMount&&(t.effectTag|=4),a=!1)}else o=t.stateNode,ol(e,t),i=t.memoizedProps,o.props=t.type===t.elementType?i:Kr(t.type,i),s=o.context,"object"==typeof(c=n.contextType)&&null!==c?c=al(c):c=pr(t,c=fr(n)?mr:dr.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(i!==a||s!==c)&&vl(t,o,a,c),rl=!1,s=t.memoizedState,o.state=s,ul(t,a,o,r),h=t.memoizedState,i!==a||s!==h||hr.current||rl?("function"==typeof u&&(pl(t,n,u,a),h=t.memoizedState),(u=rl||gl(t,n,i,a,s,h,c))?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(a,h,c),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(a,h,c)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||i===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),t.memoizedProps=a,t.memoizedState=h),o.props=a,o.state=h,o.context=c,a=u):("function"!=typeof o.componentDidUpdate||i===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&s===e.memoizedState||(t.effectTag|=256),a=!1);return Lo(e,t,n,a,l,r)}function Lo(e,t,n,a,r,l){Oo(e,t);var o=0!=(64&t.effectTag);if(!a&&!o)return r&&yr(t,n,!1),Ko(e,t,l);a=t.stateNode,Ro.current=t;var i=o&&"function"!=typeof n.getDerivedStateFromError?null:a.render();return t.effectTag|=1,null!==e&&o?(t.child=Tl(t,e.child,null,l),t.child=Tl(t,null,i,l)):jo(e,t,i,l),t.memoizedState=a.state,r&&yr(t,n,!0),t.child}function Do(e){var t=e.stateNode;t.pendingContext?br(0,t.pendingContext,t.pendingContext!==t.context):t.context&&br(0,t.context,!1),jl(e,t.containerInfo)}var Uo,Vo,Wo,Bo={dehydrated:null,retryTime:0};function Ho(e,t,n){var a,r=t.mode,l=t.pendingProps,o=Ol.current,i=!1;if((a=0!=(64&t.effectTag))||(a=0!=(2&o)&&(null===e||null!==e.memoizedState)),a?(i=!0,t.effectTag&=-65):null!==e&&null===e.memoizedState||void 0===l.fallback||!0===l.unstable_avoidThisFallback||(o|=1),cr(Ol,1&o),null===e){if(void 0!==l.fallback&&Co(t),i){if(i=l.fallback,(l=Ss(null,r,0,null)).return=t,0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,l.child=e;null!==e;)e.return=l,e=e.sibling;return(n=Ss(i,r,n,null)).return=t,l.sibling=n,t.memoizedState=Bo,t.child=l,n}return r=l.children,t.memoizedState=null,t.child=Cl(t,null,r,n)}if(null!==e.memoizedState){if(r=(e=e.child).sibling,i){if(l=l.fallback,(n=Ps(e,e.pendingProps)).return=t,0==(2&t.mode)&&(i=null!==t.memoizedState?t.child.child:t.child)!==e.child)for(n.child=i;null!==i;)i.return=n,i=i.sibling;return(r=Ps(r,l)).return=t,n.sibling=r,n.childExpirationTime=0,t.memoizedState=Bo,t.child=n,r}return n=Tl(t,e.child,l.children,n),t.memoizedState=null,t.child=n}if(e=e.child,i){if(i=l.fallback,(l=Ss(null,r,0,null)).return=t,l.child=e,null!==e&&(e.return=l),0==(2&t.mode))for(e=null!==t.memoizedState?t.child.child:t.child,l.child=e;null!==e;)e.return=l,e=e.sibling;return(n=Ss(i,r,n,null)).return=t,l.sibling=n,n.effectTag|=2,l.childExpirationTime=0,t.memoizedState=Bo,t.child=l,n}return t.memoizedState=null,t.child=Tl(t,e,l.children,n)}function qo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t),tl(e.return,t)}function $o(e,t,n,a,r,l){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailExpiration:0,tailMode:r,lastEffect:l}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=a,o.tail=n,o.tailExpiration=0,o.tailMode=r,o.lastEffect=l)}function Qo(e,t,n){var a=t.pendingProps,r=a.revealOrder,l=a.tail;if(jo(e,t,a.children,n),0!=(2&(a=Ol.current)))a=1&a|2,t.effectTag|=64;else{if(null!==e&&0!=(64&e.effectTag))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&qo(e,n);else if(19===e.tag)qo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(cr(Ol,a),0==(2&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===_l(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),$o(t,!1,r,n,l,t.lastEffect);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===_l(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}$o(t,!0,n,null,l,t.lastEffect);break;case"together":$o(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Ko(e,t,n){null!==e&&(t.dependencies=e.dependencies);var a=t.expirationTime;if(0!==a&&os(a),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ps(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ps(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Yo(e,t){switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Xo(e,t,n){var a=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return fr(t.type)&&gr(),null;case 3:return zl(),sr(hr),sr(dr),(n=t.stateNode).pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||!Io(t)||(t.effectTag|=4),null;case 5:Al(t),n=Fl(Rl.current);var l=t.type;if(null!==e&&null!=t.stateNode)Vo(e,t,l,a,n),e.ref!==t.ref&&(t.effectTag|=128);else{if(!a){if(null===t.stateNode)throw Error(o(166));return null}if(e=Fl(Il.current),Io(t)){a=t.stateNode,l=t.type;var i=t.memoizedProps;switch(a[Tn]=t,a[Cn]=i,l){case"iframe":case"object":case"embed":Qt("load",a);break;case"video":case"audio":for(e=0;e<Xe.length;e++)Qt(Xe[e],a);break;case"source":Qt("error",a);break;case"img":case"image":case"link":Qt("error",a),Qt("load",a);break;case"form":Qt("reset",a),Qt("submit",a);break;case"details":Qt("toggle",a);break;case"input":ke(a,i),Qt("invalid",a),sn(n,"onChange");break;case"select":a._wrapperState={wasMultiple:!!i.multiple},Qt("invalid",a),sn(n,"onChange");break;case"textarea":je(a,i),Qt("invalid",a),sn(n,"onChange")}for(var s in rn(l,i),e=null,i)if(i.hasOwnProperty(s)){var c=i[s];"children"===s?"string"==typeof c?a.textContent!==c&&(e=["children",c]):"number"==typeof c&&a.textContent!==""+c&&(e=["children",""+c]):T.hasOwnProperty(s)&&null!=c&&sn(n,s)}switch(l){case"input":ye(a),Pe(a,i,!0);break;case"textarea":ye(a),Ne(a);break;case"select":case"option":break;default:"function"==typeof i.onClick&&(a.onclick=cn)}n=e,t.updateQueue=n,null!==n&&(t.effectTag|=4)}else{switch(s=9===n.nodeType?n:n.ownerDocument,e===on&&(e=_e(l)),e===on?"script"===l?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof a.is?e=s.createElement(l,{is:a.is}):(e=s.createElement(l),"select"===l&&(s=e,a.multiple?s.multiple=!0:a.size&&(s.size=a.size))):e=s.createElementNS(e,l),e[Tn]=t,e[Cn]=a,Uo(e,t),t.stateNode=e,s=ln(l,a),l){case"iframe":case"object":case"embed":Qt("load",e),c=a;break;case"video":case"audio":for(c=0;c<Xe.length;c++)Qt(Xe[c],e);c=a;break;case"source":Qt("error",e),c=a;break;case"img":case"image":case"link":Qt("error",e),Qt("load",e),c=a;break;case"form":Qt("reset",e),Qt("submit",e),c=a;break;case"details":Qt("toggle",e),c=a;break;case"input":ke(e,a),c=xe(e,a),Qt("invalid",e),sn(n,"onChange");break;case"option":c=Se(e,a);break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=r({},a,{value:void 0}),Qt("invalid",e),sn(n,"onChange");break;case"textarea":je(e,a),c=Fe(e,a),Qt("invalid",e),sn(n,"onChange");break;default:c=a}rn(l,c);var u=c;for(i in u)if(u.hasOwnProperty(i)){var d=u[i];"style"===i?nn(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&De(e,d):"children"===i?"string"==typeof d?("textarea"!==l||""!==d)&&Ue(e,d):"number"==typeof d&&Ue(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(T.hasOwnProperty(i)?null!=d&&sn(n,i):null!=d&&G(e,i,d,s))}switch(l){case"input":ye(e),Pe(e,a,!1);break;case"textarea":ye(e),Ne(e);break;case"option":null!=a.value&&e.setAttribute("value",""+ve(a.value));break;case"select":e.multiple=!!a.multiple,null!=(n=a.value)?Re(e,!!a.multiple,n,!1):null!=a.defaultValue&&Re(e,!!a.multiple,a.defaultValue,!0);break;default:"function"==typeof c.onClick&&(e.onclick=cn)}bn(l,a)&&(t.effectTag|=4)}null!==t.ref&&(t.effectTag|=128)}return null;case 6:if(e&&null!=t.stateNode)Wo(0,t,e.memoizedProps,a);else{if("string"!=typeof a&&null===t.stateNode)throw Error(o(166));n=Fl(Rl.current),Fl(Il.current),Io(t)?(n=t.stateNode,a=t.memoizedProps,n[Tn]=t,n.nodeValue!==a&&(t.effectTag|=4)):((n=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[Tn]=t,t.stateNode=n)}return null;case 13:return sr(Ol),a=t.memoizedState,0!=(64&t.effectTag)?(t.expirationTime=n,t):(n=null!==a,a=!1,null===e?void 0!==t.memoizedProps.fallback&&Io(t):(a=null!==(l=e.memoizedState),n||null===l||null!==(l=e.child.sibling)&&(null!==(i=t.firstEffect)?(t.firstEffect=l,l.nextEffect=i):(t.firstEffect=t.lastEffect=l,l.nextEffect=null),l.effectTag=8)),n&&!a&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Ol.current)?Ii===yi&&(Ii=Ei):(Ii!==yi&&Ii!==Ei||(Ii=xi),0!==zi&&null!==Ti&&(Ns(Ti,Pi),As(Ti,zi)))),(n||a)&&(t.effectTag|=4),null);case 4:return zl(),null;case 10:return el(t),null;case 17:return fr(t.type)&&gr(),null;case 19:if(sr(Ol),null===(a=t.memoizedState))return null;if(l=0!=(64&t.effectTag),null===(i=a.rendering)){if(l)Yo(a,!1);else if(Ii!==yi||null!==e&&0!=(64&e.effectTag))for(i=t.child;null!==i;){if(null!==(e=_l(i))){for(t.effectTag|=64,Yo(a,!1),null!==(l=e.updateQueue)&&(t.updateQueue=l,t.effectTag|=4),null===a.lastEffect&&(t.firstEffect=null),t.lastEffect=a.lastEffect,a=t.child;null!==a;)i=n,(l=a).effectTag&=2,l.nextEffect=null,l.firstEffect=null,l.lastEffect=null,null===(e=l.alternate)?(l.childExpirationTime=0,l.expirationTime=i,l.child=null,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null):(l.childExpirationTime=e.childExpirationTime,l.expirationTime=e.expirationTime,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,i=e.dependencies,l.dependencies=null===i?null:{expirationTime:i.expirationTime,firstContext:i.firstContext,responders:i.responders}),a=a.sibling;return cr(Ol,1&Ol.current|2),t.child}i=i.sibling}}else{if(!l)if(null!==(e=_l(i))){if(t.effectTag|=64,l=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.effectTag|=4),Yo(a,!0),null===a.tail&&"hidden"===a.tailMode&&!i.alternate)return null!==(t=t.lastEffect=a.lastEffect)&&(t.nextEffect=null),null}else 2*Dr()-a.renderingStartTime>a.tailExpiration&&1<n&&(t.effectTag|=64,l=!0,Yo(a,!1),t.expirationTime=t.childExpirationTime=n-1);a.isBackwards?(i.sibling=t.child,t.child=i):(null!==(n=a.last)?n.sibling=i:t.child=i,a.last=i)}return null!==a.tail?(0===a.tailExpiration&&(a.tailExpiration=Dr()+500),n=a.tail,a.rendering=n,a.tail=n.sibling,a.lastEffect=t.lastEffect,a.renderingStartTime=Dr(),n.sibling=null,t=Ol.current,cr(Ol,l?1&t|2:1&t),n):null}throw Error(o(156,t.tag))}function Go(e){switch(e.tag){case 1:fr(e.type)&&gr();var t=e.effectTag;return 4096&t?(e.effectTag=-4097&t|64,e):null;case 3:if(zl(),sr(hr),sr(dr),0!=(64&(t=e.effectTag)))throw Error(o(285));return e.effectTag=-4097&t|64,e;case 5:return Al(e),null;case 13:return sr(Ol),4096&(t=e.effectTag)?(e.effectTag=-4097&t|64,e):null;case 19:return sr(Ol),null;case 4:return zl(),null;case 10:return el(e),null;default:return null}}function Jo(e,t){return{value:e,source:t,stack:be(t)}}Uo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Vo=function(e,t,n,a,l){var o=e.memoizedProps;if(o!==a){var i,s,c=t.stateNode;switch(Fl(Il.current),e=null,n){case"input":o=xe(c,o),a=xe(c,a),e=[];break;case"option":o=Se(c,o),a=Se(c,a),e=[];break;case"select":o=r({},o,{value:void 0}),a=r({},a,{value:void 0}),e=[];break;case"textarea":o=Fe(c,o),a=Fe(c,a),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof a.onClick&&(c.onclick=cn)}for(i in rn(n,a),n=null,o)if(!a.hasOwnProperty(i)&&o.hasOwnProperty(i)&&null!=o[i])if("style"===i)for(s in c=o[i])c.hasOwnProperty(s)&&(n||(n={}),n[s]="");else"dangerouslySetInnerHTML"!==i&&"children"!==i&&"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(T.hasOwnProperty(i)?e||(e=[]):(e=e||[]).push(i,null));for(i in a){var u=a[i];if(c=null!=o?o[i]:void 0,a.hasOwnProperty(i)&&u!==c&&(null!=u||null!=c))if("style"===i)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(e||(e=[]),e.push(i,n)),n=u;else"dangerouslySetInnerHTML"===i?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(i,u)):"children"===i?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(i,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&(T.hasOwnProperty(i)?(null!=u&&sn(l,i),e||c===u||(e=[])):(e=e||[]).push(i,u))}n&&(e=e||[]).push("style",n),l=e,(t.updateQueue=l)&&(t.effectTag|=4)}},Wo=function(e,t,n,a){n!==a&&(t.effectTag|=4)};var Zo="function"==typeof WeakSet?WeakSet:Set;function ei(e,t){var n=t.source,a=t.stack;null===a&&null!==n&&(a=be(n)),null!==n&&ge(n.type),t=t.value,null!==e&&1===e.tag&&ge(e.type);try{console.error(t)}catch(e){setTimeout((function(){throw e}))}}function ti(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){vs(e,t)}else t.current=null}function ni(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,a=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Kr(t.type,n),a),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ai(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.destroy;n.destroy=void 0,void 0!==a&&a()}n=n.next}while(n!==t)}}function ri(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function li(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:return void ri(3,n);case 1:if(e=n.stateNode,4&n.effectTag)if(null===t)e.componentDidMount();else{var a=n.elementType===n.type?t.memoizedProps:Kr(n.type,t.memoizedProps);e.componentDidUpdate(a,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate)}return void(null!==(t=n.updateQueue)&&dl(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}dl(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.effectTag&&bn(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&_t(n)))));case 19:case 17:case 20:case 21:return}throw Error(o(163))}function oi(e,t,n){switch("function"==typeof xs&&xs(t),t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var a=e.next;Wr(97<n?97:n,(function(){var e=a;do{var n=e.destroy;if(void 0!==n){var r=t;try{n()}catch(e){vs(r,e)}}e=e.next}while(e!==a)}))}break;case 1:ti(t),"function"==typeof(n=t.stateNode).componentWillUnmount&&function(e,t){try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){vs(e,t)}}(t,n);break;case 5:ti(t);break;case 4:ui(e,t,n)}}function ii(e){var t=e.alternate;e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.alternate=null,e.firstEffect=null,e.lastEffect=null,e.pendingProps=null,e.memoizedProps=null,e.stateNode=null,null!==t&&ii(t)}function si(e){return 5===e.tag||3===e.tag||4===e.tag}function ci(e){e:{for(var t=e.return;null!==t;){if(si(t)){var n=t;break e}t=t.return}throw Error(o(160))}switch(t=n.stateNode,n.tag){case 5:var a=!1;break;case 3:case 4:t=t.containerInfo,a=!0;break;default:throw Error(o(161))}16&n.effectTag&&(Ue(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||si(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}a?function e(t,n,a){var r=t.tag,l=5===r||6===r;if(l)t=l?t.stateNode:t.stateNode.instance,n?8===a.nodeType?a.parentNode.insertBefore(t,n):a.insertBefore(t,n):(8===a.nodeType?(n=a.parentNode).insertBefore(t,a):(n=a).appendChild(t),null!==(a=a._reactRootContainer)&&void 0!==a||null!==n.onclick||(n.onclick=cn));else if(4!==r&&null!==(t=t.child))for(e(t,n,a),t=t.sibling;null!==t;)e(t,n,a),t=t.sibling}(e,n,t):function e(t,n,a){var r=t.tag,l=5===r||6===r;if(l)t=l?t.stateNode:t.stateNode.instance,n?a.insertBefore(t,n):a.appendChild(t);else if(4!==r&&null!==(t=t.child))for(e(t,n,a),t=t.sibling;null!==t;)e(t,n,a),t=t.sibling}(e,n,t)}function ui(e,t,n){for(var a,r,l=t,i=!1;;){if(!i){i=l.return;e:for(;;){if(null===i)throw Error(o(160));switch(a=i.stateNode,i.tag){case 5:r=!1;break e;case 3:case 4:a=a.containerInfo,r=!0;break e}i=i.return}i=!0}if(5===l.tag||6===l.tag){e:for(var s=e,c=l,u=n,d=c;;)if(oi(s,d,u),null!==d.child&&4!==d.tag)d.child.return=d,d=d.child;else{if(d===c)break e;for(;null===d.sibling;){if(null===d.return||d.return===c)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}r?(s=a,c=l.stateNode,8===s.nodeType?s.parentNode.removeChild(c):s.removeChild(c)):a.removeChild(l.stateNode)}else if(4===l.tag){if(null!==l.child){a=l.stateNode.containerInfo,r=!0,l.child.return=l,l=l.child;continue}}else if(oi(e,l,n),null!==l.child){l.child.return=l,l=l.child;continue}if(l===t)break;for(;null===l.sibling;){if(null===l.return||l.return===t)return;4===(l=l.return).tag&&(i=!1)}l.sibling.return=l.return,l=l.sibling}}function di(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:return void ai(3,t);case 1:return;case 5:var n=t.stateNode;if(null!=n){var a=t.memoizedProps,r=null!==e?e.memoizedProps:a;e=t.type;var l=t.updateQueue;if(t.updateQueue=null,null!==l){for(n[Cn]=a,"input"===e&&"radio"===a.type&&null!=a.name&&Te(n,a),ln(e,r),t=ln(e,a),r=0;r<l.length;r+=2){var i=l[r],s=l[r+1];"style"===i?nn(n,s):"dangerouslySetInnerHTML"===i?De(n,s):"children"===i?Ue(n,s):G(n,i,s,t)}switch(e){case"input":Ce(n,a);break;case"textarea":ze(n,a);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!a.multiple,null!=(e=a.value)?Re(n,!!a.multiple,e,!1):t!==!!a.multiple&&(null!=a.defaultValue?Re(n,!!a.multiple,a.defaultValue,!0):Re(n,!!a.multiple,a.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((t=t.stateNode).hydrate&&(t.hydrate=!1,_t(t.containerInfo)));case 12:return;case 13:if(n=t,null===t.memoizedState?a=!1:(a=!0,n=t.child,Ai=Dr()),null!==n)e:for(e=n;;){if(5===e.tag)l=e.stateNode,a?"function"==typeof(l=l.style).setProperty?l.setProperty("display","none","important"):l.display="none":(l=e.stateNode,r=null!=(r=e.memoizedProps.style)&&r.hasOwnProperty("display")?r.display:null,l.style.display=tn("display",r));else if(6===e.tag)e.stateNode.nodeValue=a?"":e.memoizedProps;else{if(13===e.tag&&null!==e.memoizedState&&null===e.memoizedState.dehydrated){(l=e.child.sibling).return=e,e=l;continue}if(null!==e.child){e.child.return=e,e=e.child;continue}}if(e===n)break;for(;null===e.sibling;){if(null===e.return||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}return void hi(t);case 19:return void hi(t);case 17:return}throw Error(o(163))}function hi(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var a=ys.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}var mi="function"==typeof WeakMap?WeakMap:Map;function pi(e,t,n){(n=il(n,null)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){_i||(_i=!0,Mi=a),ei(e,t)},n}function fi(e,t,n){(n=il(n,null)).tag=3;var a=e.type.getDerivedStateFromError;if("function"==typeof a){var r=t.value;n.payload=function(){return ei(e,t),a(r)}}var l=e.stateNode;return null!==l&&"function"==typeof l.componentDidCatch&&(n.callback=function(){"function"!=typeof a&&(null===Li?Li=new Set([this]):Li.add(this),ei(e,t));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}var gi,bi=Math.ceil,vi=X.ReactCurrentDispatcher,wi=X.ReactCurrentOwner,yi=0,Ei=3,xi=4,ki=0,Ti=null,Ci=null,Pi=0,Ii=yi,Si=null,Ri=1073741823,Fi=1073741823,ji=null,zi=0,Ni=!1,Ai=0,Oi=null,_i=!1,Mi=null,Li=null,Di=!1,Ui=null,Vi=90,Wi=null,Bi=0,Hi=null,qi=0;function $i(){return 0!=(48&ki)?1073741821-(Dr()/10|0):0!==qi?qi:qi=1073741821-(Dr()/10|0)}function Qi(e,t,n){if(0==(2&(t=t.mode)))return 1073741823;var a=Ur();if(0==(4&t))return 99===a?1073741823:1073741822;if(0!=(16&ki))return Pi;if(null!==n)e=Qr(e,0|n.timeoutMs||5e3,250);else switch(a){case 99:e=1073741823;break;case 98:e=Qr(e,150,100);break;case 97:case 96:e=Qr(e,5e3,250);break;case 95:e=2;break;default:throw Error(o(326))}return null!==Ti&&e===Pi&&--e,e}function Ki(e,t){if(50<Bi)throw Bi=0,Hi=null,Error(o(185));if(null!==(e=Yi(e,t))){var n=Ur();1073741823===t?0!=(8&ki)&&0==(48&ki)?Zi(e):(Gi(e),0===ki&&qr()):Gi(e),0==(4&ki)||98!==n&&99!==n||(null===Wi?Wi=new Map([[e,t]]):(void 0===(n=Wi.get(e))||n>t)&&Wi.set(e,t))}}function Yi(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var a=e.return,r=null;if(null===a&&3===e.tag)r=e.stateNode;else for(;null!==a;){if(n=a.alternate,a.childExpirationTime<t&&(a.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===a.return&&3===a.tag){r=a.stateNode;break}a=a.return}return null!==r&&(Ti===r&&(os(t),Ii===xi&&Ns(r,Pi)),As(r,t)),r}function Xi(e){var t=e.lastExpiredTime;if(0!==t)return t;if(!zs(e,t=e.firstPendingTime))return t;var n=e.lastPingedTime;return 2>=(e=n>(e=e.nextKnownPendingLevel)?n:e)&&t!==e?0:e}function Gi(e){if(0!==e.lastExpiredTime)e.callbackExpirationTime=1073741823,e.callbackPriority=99,e.callbackNode=Hr(Zi.bind(null,e));else{var t=Xi(e),n=e.callbackNode;if(0===t)null!==n&&(e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90);else{var a=$i();if(1073741823===t?a=99:1===t||2===t?a=95:a=0>=(a=10*(1073741821-t)-10*(1073741821-a))?99:250>=a?98:5250>=a?97:95,null!==n){var r=e.callbackPriority;if(e.callbackExpirationTime===t&&r>=a)return;n!==zr&&kr(n)}e.callbackExpirationTime=t,e.callbackPriority=a,t=1073741823===t?Hr(Zi.bind(null,e)):Br(a,Ji.bind(null,e),{timeout:10*(1073741821-t)-Dr()}),e.callbackNode=t}}}function Ji(e,t){if(qi=0,t)return Os(e,t=$i()),Gi(e),null;var n=Xi(e);if(0!==n){if(t=e.callbackNode,0!=(48&ki))throw Error(o(327));if(fs(),e===Ti&&n===Pi||ns(e,n),null!==Ci){var a=ki;ki|=16;for(var r=rs();;)try{ss();break}catch(t){as(e,t)}if(Zr(),ki=a,vi.current=r,1===Ii)throw t=Si,ns(e,n),Ns(e,n),Gi(e),t;if(null===Ci)switch(r=e.finishedWork=e.current.alternate,e.finishedExpirationTime=n,a=Ii,Ti=null,a){case yi:case 1:throw Error(o(345));case 2:Os(e,2<n?2:n);break;case Ei:if(Ns(e,n),n===(a=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=ds(r)),1073741823===Ri&&10<(r=Ai+500-Dr())){if(Ni){var l=e.lastPingedTime;if(0===l||l>=n){e.lastPingedTime=n,ns(e,n);break}}if(0!==(l=Xi(e))&&l!==n)break;if(0!==a&&a!==n){e.lastPingedTime=a;break}e.timeoutHandle=wn(hs.bind(null,e),r);break}hs(e);break;case xi:if(Ns(e,n),n===(a=e.lastSuspendedTime)&&(e.nextKnownPendingLevel=ds(r)),Ni&&(0===(r=e.lastPingedTime)||r>=n)){e.lastPingedTime=n,ns(e,n);break}if(0!==(r=Xi(e))&&r!==n)break;if(0!==a&&a!==n){e.lastPingedTime=a;break}if(1073741823!==Fi?a=10*(1073741821-Fi)-Dr():1073741823===Ri?a=0:(a=10*(1073741821-Ri)-5e3,0>(a=(r=Dr())-a)&&(a=0),(n=10*(1073741821-n)-r)<(a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*bi(a/1960))-a)&&(a=n)),10<a){e.timeoutHandle=wn(hs.bind(null,e),a);break}hs(e);break;case 5:if(1073741823!==Ri&&null!==ji){l=Ri;var i=ji;if(0>=(a=0|i.busyMinDurationMs)?a=0:(r=0|i.busyDelayMs,a=(l=Dr()-(10*(1073741821-l)-(0|i.timeoutMs||5e3)))<=r?0:r+a-l),10<a){Ns(e,n),e.timeoutHandle=wn(hs.bind(null,e),a);break}}hs(e);break;default:throw Error(o(329))}if(Gi(e),e.callbackNode===t)return Ji.bind(null,e)}}return null}function Zi(e){var t=e.lastExpiredTime;if(t=0!==t?t:1073741823,0!=(48&ki))throw Error(o(327));if(fs(),e===Ti&&t===Pi||ns(e,t),null!==Ci){var n=ki;ki|=16;for(var a=rs();;)try{is();break}catch(t){as(e,t)}if(Zr(),ki=n,vi.current=a,1===Ii)throw n=Si,ns(e,t),Ns(e,t),Gi(e),n;if(null!==Ci)throw Error(o(261));e.finishedWork=e.current.alternate,e.finishedExpirationTime=t,Ti=null,hs(e),Gi(e)}return null}function es(e,t){var n=ki;ki|=1;try{return e(t)}finally{0===(ki=n)&&qr()}}function ts(e,t){var n=ki;ki&=-2,ki|=8;try{return e(t)}finally{0===(ki=n)&&qr()}}function ns(e,t){e.finishedWork=null,e.finishedExpirationTime=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,yn(n)),null!==Ci)for(n=Ci.return;null!==n;){var a=n;switch(a.tag){case 1:null!=(a=a.type.childContextTypes)&&gr();break;case 3:zl(),sr(hr),sr(dr);break;case 5:Al(a);break;case 4:zl();break;case 13:case 19:sr(Ol);break;case 10:el(a)}n=n.return}Ti=e,Ci=Ps(e.current,null),Pi=t,Ii=yi,Si=null,Fi=Ri=1073741823,ji=null,zi=0,Ni=!1}function as(e,t){for(;;){try{if(Zr(),Ll.current=go,Hl)for(var n=Vl.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}if(Ul=0,Bl=Wl=Vl=null,Hl=!1,null===Ci||null===Ci.return)return Ii=1,Si=t,Ci=null;e:{var r=e,l=Ci.return,o=Ci,i=t;if(t=Pi,o.effectTag|=2048,o.firstEffect=o.lastEffect=null,null!==i&&"object"==typeof i&&"function"==typeof i.then){var s=i;if(0==(2&o.mode)){var c=o.alternate;c?(o.updateQueue=c.updateQueue,o.memoizedState=c.memoizedState,o.expirationTime=c.expirationTime):(o.updateQueue=null,o.memoizedState=null)}var u=0!=(1&Ol.current),d=l;do{var h;if(h=13===d.tag){var m=d.memoizedState;if(null!==m)h=null!==m.dehydrated;else{var p=d.memoizedProps;h=void 0!==p.fallback&&(!0!==p.unstable_avoidThisFallback||!u)}}if(h){var f=d.updateQueue;if(null===f){var g=new Set;g.add(s),d.updateQueue=g}else f.add(s);if(0==(2&d.mode)){if(d.effectTag|=64,o.effectTag&=-2981,1===o.tag)if(null===o.alternate)o.tag=17;else{var b=il(1073741823,null);b.tag=2,sl(o,b)}o.expirationTime=1073741823;break e}i=void 0,o=t;var v=r.pingCache;if(null===v?(v=r.pingCache=new mi,i=new Set,v.set(s,i)):void 0===(i=v.get(s))&&(i=new Set,v.set(s,i)),!i.has(o)){i.add(o);var w=ws.bind(null,r,s,o);s.then(w,w)}d.effectTag|=4096,d.expirationTime=t;break e}d=d.return}while(null!==d);i=Error((ge(o.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+be(o))}5!==Ii&&(Ii=2),i=Jo(i,o),d=l;do{switch(d.tag){case 3:s=i,d.effectTag|=4096,d.expirationTime=t,cl(d,pi(d,s,t));break e;case 1:s=i;var y=d.type,E=d.stateNode;if(0==(64&d.effectTag)&&("function"==typeof y.getDerivedStateFromError||null!==E&&"function"==typeof E.componentDidCatch&&(null===Li||!Li.has(E)))){d.effectTag|=4096,d.expirationTime=t,cl(d,fi(d,s,t));break e}}d=d.return}while(null!==d)}Ci=us(Ci)}catch(e){t=e;continue}break}}function rs(){var e=vi.current;return vi.current=go,null===e?go:e}function ls(e,t){e<Ri&&2<e&&(Ri=e),null!==t&&e<Fi&&2<e&&(Fi=e,ji=t)}function os(e){e>zi&&(zi=e)}function is(){for(;null!==Ci;)Ci=cs(Ci)}function ss(){for(;null!==Ci&&!Nr();)Ci=cs(Ci)}function cs(e){var t=gi(e.alternate,e,Pi);return e.memoizedProps=e.pendingProps,null===t&&(t=us(e)),wi.current=null,t}function us(e){Ci=e;do{var t=Ci.alternate;if(e=Ci.return,0==(2048&Ci.effectTag)){if(t=Xo(t,Ci,Pi),1===Pi||1!==Ci.childExpirationTime){for(var n=0,a=Ci.child;null!==a;){var r=a.expirationTime,l=a.childExpirationTime;r>n&&(n=r),l>n&&(n=l),a=a.sibling}Ci.childExpirationTime=n}if(null!==t)return t;null!==e&&0==(2048&e.effectTag)&&(null===e.firstEffect&&(e.firstEffect=Ci.firstEffect),null!==Ci.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=Ci.firstEffect),e.lastEffect=Ci.lastEffect),1<Ci.effectTag&&(null!==e.lastEffect?e.lastEffect.nextEffect=Ci:e.firstEffect=Ci,e.lastEffect=Ci))}else{if(null!==(t=Go(Ci)))return t.effectTag&=2047,t;null!==e&&(e.firstEffect=e.lastEffect=null,e.effectTag|=2048)}if(null!==(t=Ci.sibling))return t;Ci=e}while(null!==Ci);return Ii===yi&&(Ii=5),null}function ds(e){var t=e.expirationTime;return t>(e=e.childExpirationTime)?t:e}function hs(e){var t=Ur();return Wr(99,ms.bind(null,e,t)),null}function ms(e,t){do{fs()}while(null!==Ui);if(0!=(48&ki))throw Error(o(327));var n=e.finishedWork,a=e.finishedExpirationTime;if(null===n)return null;if(e.finishedWork=null,e.finishedExpirationTime=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackExpirationTime=0,e.callbackPriority=90,e.nextKnownPendingLevel=0;var r=ds(n);if(e.firstPendingTime=r,a<=e.lastSuspendedTime?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:a<=e.firstSuspendedTime&&(e.firstSuspendedTime=a-1),a<=e.lastPingedTime&&(e.lastPingedTime=0),a<=e.lastExpiredTime&&(e.lastExpiredTime=0),e===Ti&&(Ci=Ti=null,Pi=0),1<n.effectTag?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){var l=ki;ki|=32,wi.current=null,fn=$t;var i=mn();if(pn(i)){if("selectionStart"in i)var s={start:i.selectionStart,end:i.selectionEnd};else e:{var c=(s=(s=i.ownerDocument)&&s.defaultView||window).getSelection&&s.getSelection();if(c&&0!==c.rangeCount){s=c.anchorNode;var u=c.anchorOffset,d=c.focusNode;c=c.focusOffset;try{s.nodeType,d.nodeType}catch(e){s=null;break e}var h=0,m=-1,p=-1,f=0,g=0,b=i,v=null;t:for(;;){for(var w;b!==s||0!==u&&3!==b.nodeType||(m=h+u),b!==d||0!==c&&3!==b.nodeType||(p=h+c),3===b.nodeType&&(h+=b.nodeValue.length),null!==(w=b.firstChild);)v=b,b=w;for(;;){if(b===i)break t;if(v===s&&++f===u&&(m=h),v===d&&++g===c&&(p=h),null!==(w=b.nextSibling))break;v=(b=v).parentNode}b=w}s=-1===m||-1===p?null:{start:m,end:p}}else s=null}s=s||{start:0,end:0}}else s=null;gn={activeElementDetached:null,focusedElem:i,selectionRange:s},$t=!1,Oi=r;do{try{ps()}catch(e){if(null===Oi)throw Error(o(330));vs(Oi,e),Oi=Oi.nextEffect}}while(null!==Oi);Oi=r;do{try{for(i=e,s=t;null!==Oi;){var y=Oi.effectTag;if(16&y&&Ue(Oi.stateNode,""),128&y){var E=Oi.alternate;if(null!==E){var x=E.ref;null!==x&&("function"==typeof x?x(null):x.current=null)}}switch(1038&y){case 2:ci(Oi),Oi.effectTag&=-3;break;case 6:ci(Oi),Oi.effectTag&=-3,di(Oi.alternate,Oi);break;case 1024:Oi.effectTag&=-1025;break;case 1028:Oi.effectTag&=-1025,di(Oi.alternate,Oi);break;case 4:di(Oi.alternate,Oi);break;case 8:ui(i,u=Oi,s),ii(u)}Oi=Oi.nextEffect}}catch(e){if(null===Oi)throw Error(o(330));vs(Oi,e),Oi=Oi.nextEffect}}while(null!==Oi);if(x=gn,E=mn(),y=x.focusedElem,s=x.selectionRange,E!==y&&y&&y.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(y.ownerDocument.documentElement,y)){null!==s&&pn(y)&&(E=s.start,void 0===(x=s.end)&&(x=E),"selectionStart"in y?(y.selectionStart=E,y.selectionEnd=Math.min(x,y.value.length)):(x=(E=y.ownerDocument||document)&&E.defaultView||window).getSelection&&(x=x.getSelection(),u=y.textContent.length,i=Math.min(s.start,u),s=void 0===s.end?i:Math.min(s.end,u),!x.extend&&i>s&&(u=s,s=i,i=u),u=hn(y,i),d=hn(y,s),u&&d&&(1!==x.rangeCount||x.anchorNode!==u.node||x.anchorOffset!==u.offset||x.focusNode!==d.node||x.focusOffset!==d.offset)&&((E=E.createRange()).setStart(u.node,u.offset),x.removeAllRanges(),i>s?(x.addRange(E),x.extend(d.node,d.offset)):(E.setEnd(d.node,d.offset),x.addRange(E))))),E=[];for(x=y;x=x.parentNode;)1===x.nodeType&&E.push({element:x,left:x.scrollLeft,top:x.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<E.length;y++)(x=E[y]).element.scrollLeft=x.left,x.element.scrollTop=x.top}$t=!!fn,gn=fn=null,e.current=n,Oi=r;do{try{for(y=e;null!==Oi;){var k=Oi.effectTag;if(36&k&&li(y,Oi.alternate,Oi),128&k){E=void 0;var T=Oi.ref;if(null!==T){var C=Oi.stateNode;switch(Oi.tag){case 5:E=C;break;default:E=C}"function"==typeof T?T(E):T.current=E}}Oi=Oi.nextEffect}}catch(e){if(null===Oi)throw Error(o(330));vs(Oi,e),Oi=Oi.nextEffect}}while(null!==Oi);Oi=null,Ar(),ki=l}else e.current=n;if(Di)Di=!1,Ui=e,Vi=t;else for(Oi=r;null!==Oi;)t=Oi.nextEffect,Oi.nextEffect=null,Oi=t;if(0===(t=e.firstPendingTime)&&(Li=null),1073741823===t?e===Hi?Bi++:(Bi=0,Hi=e):Bi=0,"function"==typeof Es&&Es(n.stateNode,a),Gi(e),_i)throw _i=!1,e=Mi,Mi=null,e;return 0!=(8&ki)||qr(),null}function ps(){for(;null!==Oi;){var e=Oi.effectTag;0!=(256&e)&&ni(Oi.alternate,Oi),0==(512&e)||Di||(Di=!0,Br(97,(function(){return fs(),null}))),Oi=Oi.nextEffect}}function fs(){if(90!==Vi){var e=97<Vi?97:Vi;return Vi=90,Wr(e,gs)}}function gs(){if(null===Ui)return!1;var e=Ui;if(Ui=null,0!=(48&ki))throw Error(o(331));var t=ki;for(ki|=32,e=e.current.firstEffect;null!==e;){try{var n=e;if(0!=(512&n.effectTag))switch(n.tag){case 0:case 11:case 15:case 22:ai(5,n),ri(5,n)}}catch(t){if(null===e)throw Error(o(330));vs(e,t)}n=e.nextEffect,e.nextEffect=null,e=n}return ki=t,qr(),!0}function bs(e,t,n){sl(e,t=pi(e,t=Jo(n,t),1073741823)),null!==(e=Yi(e,1073741823))&&Gi(e)}function vs(e,t){if(3===e.tag)bs(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){bs(n,e,t);break}if(1===n.tag){var a=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof a.componentDidCatch&&(null===Li||!Li.has(a))){sl(n,e=fi(n,e=Jo(t,e),1073741823)),null!==(n=Yi(n,1073741823))&&Gi(n);break}}n=n.return}}function ws(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),Ti===e&&Pi===n?Ii===xi||Ii===Ei&&1073741823===Ri&&Dr()-Ai<500?ns(e,Pi):Ni=!0:zs(e,n)&&(0!==(t=e.lastPingedTime)&&t<n||(e.lastPingedTime=n,Gi(e)))}function ys(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(t=Qi(t=$i(),e,null)),null!==(e=Yi(e,t))&&Gi(e)}gi=function(e,t,n){var a=t.expirationTime;if(null!==e){var r=t.pendingProps;if(e.memoizedProps!==r||hr.current)Fo=!0;else{if(a<n){switch(Fo=!1,t.tag){case 3:Do(t),So();break;case 5:if(Nl(t),4&t.mode&&1!==n&&r.hidden)return t.expirationTime=t.childExpirationTime=1,null;break;case 1:fr(t.type)&&wr(t);break;case 4:jl(t,t.stateNode.containerInfo);break;case 10:a=t.memoizedProps.value,r=t.type._context,cr(Yr,r._currentValue),r._currentValue=a;break;case 13:if(null!==t.memoizedState)return 0!==(a=t.child.childExpirationTime)&&a>=n?Ho(e,t,n):(cr(Ol,1&Ol.current),null!==(t=Ko(e,t,n))?t.sibling:null);cr(Ol,1&Ol.current);break;case 19:if(a=t.childExpirationTime>=n,0!=(64&e.effectTag)){if(a)return Qo(e,t,n);t.effectTag|=64}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null),cr(Ol,Ol.current),!a)return null}return Ko(e,t,n)}Fo=!1}}else Fo=!1;switch(t.expirationTime=0,t.tag){case 2:if(a=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,r=pr(t,dr.current),nl(t,n),r=Ql(null,t,a,e,r,n),t.effectTag|=1,"object"==typeof r&&null!==r&&"function"==typeof r.render&&void 0===r.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,fr(a)){var l=!0;wr(t)}else l=!1;t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,ll(t);var i=a.getDerivedStateFromProps;"function"==typeof i&&pl(t,a,i,e),r.updater=fl,t.stateNode=r,r._reactInternalFiber=t,wl(t,a,e,n),t=Lo(null,t,a,!0,l,n)}else t.tag=0,jo(null,t,r,n),t=t.child;return t;case 16:e:{if(r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps,function(e){if(-1===e._status){e._status=0;var t=e._ctor;t=t(),e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}}(r),1!==r._status)throw r._result;switch(r=r._result,t.type=r,l=t.tag=function(e){if("function"==typeof e)return Cs(e)?1:0;if(null!=e){if((e=e.$$typeof)===se)return 11;if(e===de)return 14}return 2}(r),e=Kr(r,e),l){case 0:t=_o(null,t,r,e,n);break e;case 1:t=Mo(null,t,r,e,n);break e;case 11:t=zo(null,t,r,e,n);break e;case 14:t=No(null,t,r,Kr(r.type,e),a,n);break e}throw Error(o(306,r,""))}return t;case 0:return a=t.type,r=t.pendingProps,_o(e,t,a,r=t.elementType===a?r:Kr(a,r),n);case 1:return a=t.type,r=t.pendingProps,Mo(e,t,a,r=t.elementType===a?r:Kr(a,r),n);case 3:if(Do(t),a=t.updateQueue,null===e||null===a)throw Error(o(282));if(a=t.pendingProps,r=null!==(r=t.memoizedState)?r.element:null,ol(e,t),ul(t,a,null,n),(a=t.memoizedState.element)===r)So(),t=Ko(e,t,n);else{if((r=t.stateNode.hydrate)&&(Eo=En(t.stateNode.containerInfo.firstChild),yo=t,r=xo=!0),r)for(n=Cl(t,null,a,n),t.child=n;n;)n.effectTag=-3&n.effectTag|1024,n=n.sibling;else jo(e,t,a,n),So();t=t.child}return t;case 5:return Nl(t),null===e&&Co(t),a=t.type,r=t.pendingProps,l=null!==e?e.memoizedProps:null,i=r.children,vn(a,r)?i=null:null!==l&&vn(a,l)&&(t.effectTag|=16),Oo(e,t),4&t.mode&&1!==n&&r.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(jo(e,t,i,n),t=t.child),t;case 6:return null===e&&Co(t),null;case 13:return Ho(e,t,n);case 4:return jl(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=Tl(t,null,a,n):jo(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,zo(e,t,a,r=t.elementType===a?r:Kr(a,r),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{a=t.type._context,r=t.pendingProps,i=t.memoizedProps,l=r.value;var s=t.type._context;if(cr(Yr,s._currentValue),s._currentValue=l,null!==i)if(s=i.value,0===(l=Ma(s,l)?0:0|("function"==typeof a._calculateChangedBits?a._calculateChangedBits(s,l):1073741823))){if(i.children===r.children&&!hr.current){t=Ko(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){i=s.child;for(var u=c.firstContext;null!==u;){if(u.context===a&&0!=(u.observedBits&l)){1===s.tag&&((u=il(n,null)).tag=2,sl(s,u)),s.expirationTime<n&&(s.expirationTime=n),null!==(u=s.alternate)&&u.expirationTime<n&&(u.expirationTime=n),tl(s.return,n),c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else i=10===s.tag&&s.type===t.type?null:s.child;if(null!==i)i.return=s;else for(i=s;null!==i;){if(i===t){i=null;break}if(null!==(s=i.sibling)){s.return=i.return,i=s;break}i=i.return}s=i}jo(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=(l=t.pendingProps).children,nl(t,n),a=a(r=al(r,l.unstable_observedBits)),t.effectTag|=1,jo(e,t,a,n),t.child;case 14:return l=Kr(r=t.type,t.pendingProps),No(e,t,r,l=Kr(r.type,l),a,n);case 15:return Ao(e,t,t.type,t.pendingProps,a,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:Kr(a,r),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,fr(a)?(e=!0,wr(t)):e=!1,nl(t,n),bl(t,a,r),wl(t,a,r,n),Lo(null,t,a,!0,e,n);case 19:return Qo(e,t,n)}throw Error(o(156,t.tag))};var Es=null,xs=null;function ks(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Ts(e,t,n,a){return new ks(e,t,n,a)}function Cs(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ps(e,t){var n=e.alternate;return null===n?((n=Ts(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{expirationTime:t.expirationTime,firstContext:t.firstContext,responders:t.responders},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Is(e,t,n,a,r,l){var i=2;if(a=e,"function"==typeof e)Cs(e)&&(i=1);else if("string"==typeof e)i=5;else e:switch(e){case ne:return Ss(n.children,r,l,t);case ie:i=8,r|=7;break;case ae:i=8,r|=1;break;case re:return(e=Ts(12,n,t,8|r)).elementType=re,e.type=re,e.expirationTime=l,e;case ce:return(e=Ts(13,n,t,r)).type=ce,e.elementType=ce,e.expirationTime=l,e;case ue:return(e=Ts(19,n,t,r)).elementType=ue,e.expirationTime=l,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case le:i=10;break e;case oe:i=9;break e;case se:i=11;break e;case de:i=14;break e;case he:i=16,a=null;break e;case me:i=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ts(i,n,t,r)).elementType=e,t.type=a,t.expirationTime=l,t}function Ss(e,t,n,a){return(e=Ts(7,e,a,t)).expirationTime=n,e}function Rs(e,t,n){return(e=Ts(6,e,null,t)).expirationTime=n,e}function Fs(e,t,n){return(t=Ts(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function js(e,t,n){this.tag=t,this.current=null,this.containerInfo=e,this.pingCache=this.pendingChildren=null,this.finishedExpirationTime=0,this.finishedWork=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=90,this.lastExpiredTime=this.lastPingedTime=this.nextKnownPendingLevel=this.lastSuspendedTime=this.firstSuspendedTime=this.firstPendingTime=0}function zs(e,t){var n=e.firstSuspendedTime;return e=e.lastSuspendedTime,0!==n&&n>=t&&e<=t}function Ns(e,t){var n=e.firstSuspendedTime,a=e.lastSuspendedTime;n<t&&(e.firstSuspendedTime=t),(a>t||0===n)&&(e.lastSuspendedTime=t),t<=e.lastPingedTime&&(e.lastPingedTime=0),t<=e.lastExpiredTime&&(e.lastExpiredTime=0)}function As(e,t){t>e.firstPendingTime&&(e.firstPendingTime=t);var n=e.firstSuspendedTime;0!==n&&(t>=n?e.firstSuspendedTime=e.lastSuspendedTime=e.nextKnownPendingLevel=0:t>=e.lastSuspendedTime&&(e.lastSuspendedTime=t+1),t>e.nextKnownPendingLevel&&(e.nextKnownPendingLevel=t))}function Os(e,t){var n=e.lastExpiredTime;(0===n||n>t)&&(e.lastExpiredTime=t)}function _s(e,t,n,a){var r=t.current,l=$i(),i=hl.suspense;l=Qi(l,r,i);e:if(n){t:{if(Ze(n=n._reactInternalFiber)!==n||1!==n.tag)throw Error(o(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(fr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);throw Error(o(171))}if(1===n.tag){var c=n.type;if(fr(c)){n=vr(n,c,s);break e}}n=s}else n=ur;return null===t.context?t.context=n:t.pendingContext=n,(t=il(l,i)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),sl(r,t),Ki(r,l),l}function Ms(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Ls(e,t){null!==(e=e.memoizedState)&&null!==e.dehydrated&&e.retryTime<t&&(e.retryTime=t)}function Ds(e,t){Ls(e,t),(e=e.alternate)&&Ls(e,t)}function Us(e,t,n){var a=new js(e,t,n=null!=n&&!0===n.hydrate),r=Ts(3,null,null,2===t?7:1===t?3:0);a.current=r,r.stateNode=a,ll(r),e[Pn]=a.current,n&&0!==t&&function(e,t){var n=Je(t);Pt.forEach((function(e){pt(e,t,n)})),It.forEach((function(e){pt(e,t,n)}))}(0,9===e.nodeType?e:e.ownerDocument),this._internalRoot=a}function Vs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ws(e,t,n,a,r){var l=n._reactRootContainer;if(l){var o=l._internalRoot;if("function"==typeof r){var i=r;r=function(){var e=Ms(o);i.call(e)}}_s(t,o,e,r)}else{if(l=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Us(e,0,t?{hydrate:!0}:void 0)}(n,a),o=l._internalRoot,"function"==typeof r){var s=r;r=function(){var e=Ms(o);s.call(e)}}ts((function(){_s(t,o,e,r)}))}return Ms(o)}function Bs(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:te,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}function Hs(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Vs(t))throw Error(o(200));return Bs(e,t,null,n)}Us.prototype.render=function(e){_s(e,this._internalRoot,null,null)},Us.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;_s(null,e,null,(function(){t[Pn]=null}))},ft=function(e){if(13===e.tag){var t=Qr($i(),150,100);Ki(e,t),Ds(e,t)}},gt=function(e){13===e.tag&&(Ki(e,3),Ds(e,3))},bt=function(e){if(13===e.tag){var t=$i();Ki(e,t=Qi(t,e,null)),Ds(e,t)}},S=function(e,t,n){switch(t){case"input":if(Ce(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=Fn(a);if(!r)throw Error(o(90));Ee(a),Ce(a,r)}}}break;case"textarea":ze(e,n);break;case"select":null!=(t=n.value)&&Re(e,!!n.multiple,t,!1)}},A=es,O=function(e,t,n,a,r){var l=ki;ki|=4;try{return Wr(98,e.bind(null,t,n,a,r))}finally{0===(ki=l)&&qr()}},_=function(){0==(49&ki)&&(function(){if(null!==Wi){var e=Wi;Wi=null,e.forEach((function(e,t){Os(t,e),Gi(t)})),qr()}}(),fs())},M=function(e,t){var n=ki;ki|=2;try{return e(t)}finally{0===(ki=n)&&qr()}};var qs,$s,Qs={Events:[Sn,Rn,Fn,P,k,Mn,function(e){rt(e,_n)},z,N,Gt,it,fs,{current:!1}]};$s=(qs={findFiberByHostInstance:In,bundleType:0,version:"16.14.0",rendererPackageName:"react-dom"}).findFiberByHostInstance,function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Es=function(e){try{t.onCommitFiberRoot(n,e,void 0,64==(64&e.current.effectTag))}catch(e){}},xs=function(e){try{t.onCommitFiberUnmount(n,e)}catch(e){}}}catch(e){}}(r({},qs,{overrideHookState:null,overrideProps:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:X.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=nt(e))?null:e.stateNode},findFiberByHostInstance:function(e){return $s?$s(e):null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null})),t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qs,t.createPortal=Hs,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=nt(t))?null:e.stateNode},t.flushSync=function(e,t){if(0!=(48&ki))throw Error(o(187));var n=ki;ki|=1;try{return Wr(99,e.bind(null,t))}finally{ki=n,qr()}},t.hydrate=function(e,t,n){if(!Vs(t))throw Error(o(200));return Ws(null,e,t,!0,n)},t.render=function(e,t,n){if(!Vs(t))throw Error(o(200));return Ws(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Vs(e))throw Error(o(40));return!!e._reactRootContainer&&(ts((function(){Ws(null,null,e,!1,(function(){e._reactRootContainer=null,e[Pn]=null}))})),!0)},t.unstable_batchedUpdates=es,t.unstable_createPortal=function(e,t){return Hs(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Vs(n))throw Error(o(200));if(null==e||void 0===e._reactInternalFiber)throw Error(o(38));return Ws(e,t,n,!1,a)},t.version="16.14.0"},function(e,t,n){"use strict";e.exports=n(7)},function(e,t,n){"use strict";
/** @license React v0.19.1
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var a,r,l,o,i;if("undefined"==typeof window||"function"!=typeof MessageChannel){var s=null,c=null,u=function(){if(null!==s)try{var e=t.unstable_now();s(!0,e),s=null}catch(e){throw setTimeout(u,0),e}},d=Date.now();t.unstable_now=function(){return Date.now()-d},a=function(e){null!==s?setTimeout(a,0,e):(s=e,setTimeout(u,0))},r=function(e,t){c=setTimeout(e,t)},l=function(){clearTimeout(c)},o=function(){return!1},i=t.unstable_forceFrameRate=function(){}}else{var h=window.performance,m=window.Date,p=window.setTimeout,f=window.clearTimeout;if("undefined"!=typeof console){var g=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills")}if("object"==typeof h&&"function"==typeof h.now)t.unstable_now=function(){return h.now()};else{var b=m.now();t.unstable_now=function(){return m.now()-b}}var v=!1,w=null,y=-1,E=5,x=0;o=function(){return t.unstable_now()>=x},i=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing framerates higher than 125 fps is not unsupported"):E=0<e?Math.floor(1e3/e):5};var k=new MessageChannel,T=k.port2;k.port1.onmessage=function(){if(null!==w){var e=t.unstable_now();x=e+E;try{w(!0,e)?T.postMessage(null):(v=!1,w=null)}catch(e){throw T.postMessage(null),e}}else v=!1},a=function(e){w=e,v||(v=!0,T.postMessage(null))},r=function(e,n){y=p((function(){e(t.unstable_now())}),n)},l=function(){f(y),y=-1}}function C(e,t){var n=e.length;e.push(t);e:for(;;){var a=n-1>>>1,r=e[a];if(!(void 0!==r&&0<S(r,t)))break e;e[a]=t,e[n]=r,n=a}}function P(e){return void 0===(e=e[0])?null:e}function I(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length;a<r;){var l=2*(a+1)-1,o=e[l],i=l+1,s=e[i];if(void 0!==o&&0>S(o,n))void 0!==s&&0>S(s,o)?(e[a]=s,e[i]=n,a=i):(e[a]=o,e[l]=n,a=l);else{if(!(void 0!==s&&0>S(s,n)))break e;e[a]=s,e[i]=n,a=i}}}return t}return null}function S(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var R=[],F=[],j=1,z=null,N=3,A=!1,O=!1,_=!1;function M(e){for(var t=P(F);null!==t;){if(null===t.callback)I(F);else{if(!(t.startTime<=e))break;I(F),t.sortIndex=t.expirationTime,C(R,t)}t=P(F)}}function L(e){if(_=!1,M(e),!O)if(null!==P(R))O=!0,a(D);else{var t=P(F);null!==t&&r(L,t.startTime-e)}}function D(e,n){O=!1,_&&(_=!1,l()),A=!0;var a=N;try{for(M(n),z=P(R);null!==z&&(!(z.expirationTime>n)||e&&!o());){var i=z.callback;if(null!==i){z.callback=null,N=z.priorityLevel;var s=i(z.expirationTime<=n);n=t.unstable_now(),"function"==typeof s?z.callback=s:z===P(R)&&I(R),M(n)}else I(R);z=P(R)}if(null!==z)var c=!0;else{var u=P(F);null!==u&&r(L,u.startTime-n),c=!1}return c}finally{z=null,N=a,A=!1}}function U(e){switch(e){case 1:return-1;case 2:return 250;case 5:return 1073741823;case 4:return 1e4;default:return 5e3}}var V=i;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){O||A||(O=!0,a(D))},t.unstable_getCurrentPriorityLevel=function(){return N},t.unstable_getFirstCallbackNode=function(){return P(R)},t.unstable_next=function(e){switch(N){case 1:case 2:case 3:var t=3;break;default:t=N}var n=N;N=t;try{return e()}finally{N=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=V,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=N;N=e;try{return t()}finally{N=n}},t.unstable_scheduleCallback=function(e,n,o){var i=t.unstable_now();if("object"==typeof o&&null!==o){var s=o.delay;s="number"==typeof s&&0<s?i+s:i,o="number"==typeof o.timeout?o.timeout:U(e)}else o=U(e),s=i;return e={id:j++,callback:n,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>i?(e.sortIndex=s,C(F,e),null===P(R)&&e===P(F)&&(_?l():_=!0,r(L,s-i))):(e.sortIndex=o,C(R,e),O||A||(O=!0,a(D))),e},t.unstable_shouldYield=function(){var e=t.unstable_now();M(e);var n=P(R);return n!==z&&null!==z&&null!==n&&null!==n.callback&&n.startTime<=e&&n.expirationTime<z.expirationTime||o()},t.unstable_wrapCallback=function(e){var t=N;return function(){var n=N;N=t;try{return e.apply(this,arguments)}finally{N=n}}}},function(e,t,n){"use strict";var a=n(9);function r(){}function l(){}l.resetWarningCache=r,e.exports=function(){function e(e,t,n,r,l,o){if(o!==a){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:l,resetWarningCache:r};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(3),o=n.n(l);const i=e=>!!e&&"object"==typeof e,s=e=>"function"==typeof e,c=e=>i(e)&&s(e.then),u=e=>e instanceof Promise?e:Promise.resolve(e),d=(e,t,n)=>c(e)?u(e).then(t,n):t?t(e):e;let h=0;const m=new Set,p=new WeakSet,f=new WeakMap,g=new WeakMap,b=new WeakMap,v=new Map,w=new WeakSet,y=new WeakSet,E=new Set,x=new Set,k=Function.prototype.call.bind(Object.prototype.hasOwnProperty),T=(e,t)=>{const n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&i(n.value)&&!c(n.value))return n.value},C=(e,t,n,a=!0)=>{if(!Reflect.defineProperty(e,t,{value:n,writable:a,enumerable:!1,configurable:!0}))throw new Error("Cannot define property")},P=(e,{key:t,preventApply:n}={})=>{if(p.has(e))return e;if(e){const a=new Set,r=new Set;if(s(e))return I(e,t,r,a,n);if(i(e))return c(e)?z(e):X(e,r,a)}return e},I=(e,t,n,a,r)=>{if(p.has(e)||a.has(e))return e;let l;g.has(e)?l=e:(l=f.get(e),l||(l=new Proxy(e,{apply(e,n,a){if(r)throw new Error("The observed constructor must be invoked with 'new'.");return S(e,n,a,{key:t})},construct:(e,t,n)=>H(e,t,n,{isRoot:y.has(l)})}),f.set(e,l))),a.add(l),X(l,n,a);const o=T(e,"prototype");return o&&X(o,n,a),l},S=(e,t,n,{key:a}={})=>{let r;R();try{r=Reflect.apply(e,t,n||[])}catch(e){throw F(!0),e}return c(r)&&(r=z(r,t,a)),F(),r},R=()=>{h+=1},F=e=>{h-=1,e||h||j()},j=()=>{m.forEach(e=>e())},z=(e,t,n)=>{const a=n&&g.has(t);if(!a&&p.has(e))return e;const r=N(e,t,n,a);if(r)return r;const l=W(u(W(e)).then(t=>(B(l,e),j(),t),t=>{throw B(l,e),j(),t})),o=[];return v.set(l,o),b.set(e,l),a?A(l,t,n,o):l},N=(e,t,n,a)=>{let r=e,l=v.get(e);if(!l){if(r=b.get(e),!r)return null;l=v.get(r)}return a?A(r,t,n,l):r},A=(e,t,n,a)=>{const r=g.get(t),l=r.get(n);if(l){if(l.has(e))return e;l.add(e)}else r.set(n,new Set([e]));return a.push({obj:t,key:n}),O(new Set([t])),e},O=e=>{const t=_(e);if(t){const e=new Set;t.forEach(t=>L(t,e)),D(),V()}},_=e=>{const t=new Set;let n=!1;return e.forEach(e=>{i(e)&&(n=!0,g.get(e).roots.forEach(e=>{M(e)&&t.add(e)}))}),n?(E.forEach(e=>t.add(e)),x.forEach(e=>t.add(e)),t):null},M=e=>1===g.get(e).roots.size,L=(e,t=new Set)=>{const n=g.get(e);let a=!!n.size;n.children&&n.children.forEach(e=>{t.has(e)||L(e,t),e.isPending&&(a=!0)}),e.isPending=a,t.add(e)},D=()=>{E.forEach(e=>{e.isPending||(E.delete(e),U(e,e))})},U=(e,t)=>{const n=g.get(e);n.roots.delete(t),n.children.forEach(e=>U(e,t))},V=()=>{x.forEach(e=>{e.isPending||x.delete(e)})},W=e=>{if(g.has(e))throw new Error("Observed non-promise object or function cannot be ignored.");return(s(e)||i(e))&&p.add(e),e},B=(e,t)=>{b.delete(t);const n=v.get(e);if(v.delete(e),n.length){const t=new Set;n.forEach(({obj:n,key:a})=>{const r=g.get(n),l=r.get(a);l.delete(e),l.size||r.delete(a),t.add(n)}),O(t)}},H=(e,t,n,{isRoot:a}={})=>{let r;R();try{r=Reflect.construct(e,t||[],n||e)}catch(e){throw F(!0),e}const l=a?q:P;return c(r)?r=Y(r,l):(a&&!$(r)&&(F(!0),Q()),r=l(r)),F(),r},q=e=>{if($(e)||Q(),y.has(e)||w.has(e))return e;const t=g.has(e)?e:P(e,{preventApply:!0});return s(e)?y.add(t):(E.has(t)&&E.delete(t),w.add(t),K(t,t),L(t)),t},$=e=>(s(e)||i(e)&&!c(e))&&!p.has(e),Q=()=>{throw new Error("Root must be either a function or a non-promise object and it must not be ignored.")},K=(e,t)=>{const n=g.get(e);n.roots.add(t),n.children.forEach(e=>K(e,t))},Y=(e,t)=>z(u(W(e)).then(t)),X=(e,t,n)=>(p.has(e)||t.has(e)||(t.add(e),g.has(e)||G(e),Reflect.ownKeys(e).forEach(a=>{const r=((e,t)=>{const n=Reflect.getOwnPropertyDescriptor(e,t);if(n&&s(n.value))return n.value})(e,a);if(r&&!p.has(r)){const l=g.has(r),o=I(r,a,t,n);l||Reflect.defineProperty(e,a,{value:o})}})),e),G=e=>{if(k(e,"isPending")||k(e,"pending"))throw new Error("Observed object or function must not have an 'isPending' or 'pending' property.");const t=new Map;return s(e)||(t.roots=new Set,t.children=Array.from(function*e(t,n=new Set){n.add(t);const a=Reflect.ownKeys(t);for(const r of a){const a=T(t,r);a&&!n.has(a)&&(g.has(a)?(n.add(a),yield a):yield*e(a,n))}}(e))),C(e,"isPending",!1),C(e,"pending",{has:e=>t.has(e)},!1),g.set(e,t),e};const J=e=>!s(e)&&g.has(e),{createElement:Z,cloneElement:ee}=r.a,{render:te,unmountComponentAtNode:ne}=o.a;const ae=r.a.createContext();var re=n(1),le=n.n(re);let oe=!1;const ie=new Set,se=()=>{oe=!0,window.addEventListener("popstate",ce)},ce=()=>{ue()},ue=e=>{const t=new URL(window.location);ie.forEach(n=>n(t,e))},de=()=>{const e=window.location.hash;if(e){const t=document.getElementById(e.slice(1));t&&t.scrollIntoView()}},he=()=>{oe=!1,window.removeEventListener("popstate",ce)},me=(e,t)=>{e=String(e),pe(e)||(t&&t.replace?history.replaceState(null,"",e):history.pushState(null,"",e)),ue(t)},pe=e=>(e=new URL(String(e),window.location)).href===window.location.href,{createElement:fe}=r.a,ge=/^\w+$/,be=/(\?|#).*/,ve=new WeakMap,we=new WeakMap,ye=e=>{var t;J(e)&&(s(t=e)?y.delete(t):w.has(t)&&(w.delete(t),t.isPending?E.add(t):U(t,t)))},Ee=e=>(e=e.replace(be,"")).endsWith("/")?e.slice(0,-1):e,xe=e=>e.startsWith("/")?Ee(e):Ee("/"+e),ke=(e="")=>e.split("/").filter(e=>e),Te=(e="")=>{const t=ke(e);return t.length?t:[""]};function Ce({basePath:e,routes:t,isCaseInsensitive:n}){const a=new Map,r=new WeakMap,l=new Set,o=new Set,i=new Set,c=new Set,u=new Set,h=Object.freeze(new WeakMap),m=Object.freeze(Object.create(null));let p=null,f=null;const g={basePath:e=e&&xe(e),isCaseInsensitive:n,currentRouteFragments:[],isTransitioning:!1,currentRouteFragment:null,targetRouteFragment:null,params:null,url:null,isMounted:!1},b=new Se(null,a,g);g.list=b.list,g.get=b.get,g.has=b.has,g.add=b.add,g.remove=b.remove,g.jumpToHash=de;g.transitionTo=(t,n)=>{me(Oe(String(t),e),n)},g.mount=()=>{var e;g.isMounted||(e=v,ie.add(e),oe||se(),g.isMounted=!0,v(new URL(window.location)))};const v=P((t,n={})=>{if(g.isTransitioning)return p=t,void(f=n);const{refresh:s,replace:b}=n,v=s===h?h.get(m):null;h.delete(m);const y=_e(t,e);return g.isTransitioning=!0,d(d(Me(y,a,g),P(e=>{if(p)return g.isTransitioning=!1,C();const{routeFragments:n,remainingRouteFragments:a,toExitRouteFragments:s,toEnterRouteFragments:u}=v?He(v,e,g.currentRouteFragments,r):$e(e,g.currentRouteFragments,r),h=g.url&&g.url.searchParams,m=g.url;g.url=t,g.params=Qe(y,n),g.targetRouteFragment=n[n.length-1];const f=g.currentRouteFragment;(s.length||u.length)&&l.forEach(e=>e({currentRouteFragment:g.currentRouteFragment,targetRouteFragment:g.targetRouteFragment,router:g}));return!v&&!Xe(h,t.searchParams)&&(i.forEach(e=>e({currentRouteFragment:g.currentRouteFragment,targetRouteFragment:g.targetRouteFragment,router:g,oldSearchParams:h,newSearchParams:t.searchParams})),a.forEach(e=>{const n=we.get(e);n&&n.forEach(e=>e({currentRouteFragment:g.currentRouteFragment,targetRouteFragment:g.targetRouteFragment,router:g,oldSearchParams:h,newSearchParams:t.searchParams}))})),d(d(w(s),e=>p||!1===e?e:x(u)),n=>{if(g.isTransitioning=!1,g.targetRouteFragment=null,g.currentRouteFragment!==f&&o.forEach(e=>e({oldRouteFragment:f,currentRouteFragment:g.currentRouteFragment,router:g})),c.forEach(e=>e({oldUrl:m,newUrl:t,router:g})),p)return C();if(!1===n){if(!g.currentRouteFragment){const t=ve.get(e);throw new Error("Top level route refusing to enter: "+ze(t)+". Url: "+e.urlPath)}const t=I(g.currentRouteFragment.urlPath);pe(t)||g.transitionTo(t,{replace:b})}})})),null,e=>{if(!u.size)throw e;u.forEach(t=>t(e))})}),w=e=>{if(!e.length)return;const t=e[e.length-1];return d(y(t),n=>!1===n?n:(E(t),p?void 0:w(e.slice(0,-1))))},y=e=>{const t=e.controllerObject;if(t&&s(t.onLeave))return d(t.onLeave({router:g,routeFragment:e}),t=>(!1!==t&&ye(e.controllerObject),t));ye(e.controllerObject)},E=P(e=>{g.currentRouteFragment=e.parent,g.currentRouteFragments.pop(),r.delete(ve.get(e))}),x=e=>{if(!e.length)return;const t=e[0];return d(k(t),n=>!1===n?n:(T(t),p?void 0:x(e.slice(1))))},k=e=>{const t=ve.get(e),n=s(e.controller)?new e.controller:e.controller;if(n)return d(n,n=>{if(!n)throw new Error("Controller promise not fulfilled with a controller: "+ze(t)+". Url: "+e.urlPath);if(e.controllerObject=n,(e=>{J(e)&&q(e)})(n),s(n.onEnter))return d(n.onEnter({router:g,routeFragment:e}),e=>(!1===e&&ye(n),e))})},T=P(e=>{g.currentRouteFragment=e,g.currentRouteFragments.push(e),r.set(ve.get(e),e)}),C=()=>{const e=p,t=f;p=null,f=null,v(e,t)},I=e=>`${e}${g.url.search}${g.url.hash}`;g.unmount=()=>{var e;g.isMounted&&(e=v,ie.delete(e),ie.size||he(),g.isMounted=!1)},g.getRootElement=()=>S(g.currentRouteFragment);const S=(e,t=!1)=>{if(!e)return!1;const n=e.component?fe(e.component,{controller:e.controllerObject,routeFragment:e},t):t;return e.parent?S(e.parent,n):n};return g.refresh=({routeFragment:e=g.currentRouteFragments[0],replace:t}={})=>{if(!g.isMounted)throw new Error("The router can not be refreshed while it's not mounted");if(!g.currentRouteFragments.includes(e))throw new Error("The refresh route fragment is not part of router.currentRouteFragments.");h.set(m,e),pe(g.url)?v(g.url,{refresh:h,replace:t}):me(g.url,{refresh:h,replace:t})},g.isPathActive=e=>{if(!g.currentRouteFragment)return!1;const t=ke(Ee(e)),n=Ye(g.currentRouteFragments),a=n[n.length-1];let r,l,o,i;return a&&"*"===a.abstractPath?(r=a,l=ke(r.path),o=t.slice(0,-l.length),i=n.slice(0,-1)):(o=t,i=n),o.length===i.length&&(!!Ge(o,i)&&(!r||Je(t.slice(-l.length).join("/"),r)))},g.isDescendantPathActive=e=>{if(!g.currentRouteFragment)return!1;const t=ke(Ee(e)),n=Ye(g.currentRouteFragments);return!(t.length>=n.length)&&Ge(t,n)},g.onBeforeChange=e=>{if(!s(e))throw new Error("The event listener must be a function.");l.add(e)},g.offBeforeChange=e=>{if(!s(e))throw new Error("The event listener must be a function.");l.delete(e)},g.onChange=e=>{if(!s(e))throw new Error("The event listener must be a function.");o.add(e)},g.offChange=e=>{if(!s(e))throw new Error("The event listener must be a function.");o.delete(e)},g.onSearchChange=e=>{if(!s(e))throw new Error("The event listener must be a function.");i.add(e)},g.offSearchChange=e=>{if(!s(e))throw new Error("The event listener must be a function.");i.delete(e)},g.onUrlHandle=e=>{if(!s(e))throw new Error("The event listener must be a function.");c.add(e)},g.offUrlHandle=e=>{if(!s(e))throw new Error("The event listener must be a function.");c.delete(e)},g.onAsyncError=e=>{if(!s(e))throw new Error("The event listener must be a function.");u.add(e)},g.offAsyncError=e=>{if(!s(e))throw new Error("The event listener must be a function.");u.delete(e)},t.forEach(e=>Fe(e,null,a,g)),Ne(a,!1),g}function Pe(e,t,n,a,r,l,o){const i={parent:t,path:e,component:n,controller:a,resolve:r,isCaseInsensitive:!1,isDefined:!1,isResolved:!1,children:new Map,isRegularFragment:!1,lowerCasePath:null,isParamFragment:!1,paramName:null,isRegExpFragment:!1,regExp:null,isFallbackFragment:"*"===e,get isResolvable(){return!!i.resolve&&!i.isResolved}};i.getChildFromPath=new Ie(i).getChildFromPath;const s=(e,t,n,a)=>e||t||n||"boolean"==typeof a,c=e=>"boolean"==typeof e?e:!!o.isCaseInsensitive,u=()=>{var t;":"===(t=e)[0]&&ge.test(t.slice(1))?(i.isParamFragment=!0,i.paramName=e.slice(1)):(e=>e.length>2&&"^"===e[0]&&"$"===e[e.length-1])(e)?(i.isRegExpFragment=!0,i.regExp=new RegExp(e,i.isCaseInsensitive?"i":"")):(i.isRegularFragment=!0,i.lowerCasePath=i.path.toLowerCase())};return i.update=(e,t,n,a)=>{if(s(e,t,n,a)){if(i.isDefined)throw new Error(`Route ${ze(i)} is defined more than once.`);i.component=e,i.controller=t,i.resolve=n,i.isCaseInsensitive=c(a),i.isDefined=!0,u()}},s(n,a,r,l)&&(i.isDefined=!0,i.isCaseInsensitive=c(l)),u(),i}function Ie(e,t=e.children){return{getChildFromPath:n=>{const a=Te(n);let r,l=t,o=e;for(const e of a){if(r=l.get(e),!r)return{abstractRouteFragment:null,stopSearchAbstractRouteFragment:o,stopSearchUrlFragment:e};o=r,l=o.children}return{abstractRouteFragment:o}}}}function Se(e,t=e.children,n){const a={},r=new Ie(null,t);a.list=()=>[...t.keys()],a.get=e=>{const{abstractRouteFragment:t}=r.getChildFromPath(e);if(t)return new Se(t,void 0,n)},a.has=e=>!!r.getChildFromPath(e).abstractRouteFragment,a.remove=e=>{const n=l(e),r=n.parent;return r?(r.children.delete(n.path),Ae(r,r.parent&&r.parent.isResolvable)):t.delete(n.path),a};const l=e=>{const{abstractRouteFragment:t,stopSearchAbstractRouteFragment:n,stopSearchUrlFragment:a}=r.getChildFromPath(e);if(!t){if(!n)throw new Error(`No top level route with path ${a||"{*empty*}"} found.`);throw new Error(`Route doesn't have a child with path ${a||"{*empty*}"}: ${ze(n)}.`)}return t};return a.add=(r,o)=>{let i=e,s=t;return o?(i=l(r),s=i.children):o=r,Fe(o,i,s,n),Ne(s,i&&i.isResolvable),a},a}function Re(e,t,n,a){const r={path:t,normalizedPath:null,abstractPath:e.path,urlPath:null,normalizedUrlPath:null,canCaseVary:Ze(e),component:e.component,controller:e.controller,controllerObject:null,parent:n,router:a};return r.onSearchChange=e=>{if(!s(e))throw new Error("The event listener must be a function.");let t=we.get(r);t||(t=new Set,we.set(r,t)),t.add(e)},r.offSearchChange=e=>{if(!s(e))throw new Error("The event listener must be a function.");const t=we.get(r);t&&(t.delete(e),t.size||we.delete(r))},r.refresh=({replace:e}={})=>{a.refresh({routeFragment:r,replace:e})},(()=>{const e=r.canCaseVary?t.toLowerCase():t;r.urlPath=t?n?`${Ee(n.urlPath)}/${t}`:xe(t):n?n.urlPath:"/",r.normalizedPath=e,r.normalizedUrlPath=e?n?`${Ee(n.normalizedUrlPath)}/${e}`:xe(e):n?n.normalizedUrlPath:"/"})(),ve.set(r,e),r}Ce.fallbackRoute=({path:e="*",to:t,replace:n})=>({path:e,component:()=>!1,controller:{onEnter({router:e}){e.transitionTo(t,{replace:n})}}});const Fe=(e,t,n,a)=>{const r=Te(e.path),l=r.length-1;r.forEach((r,o)=>{let i,s,c,u;o===l&&({component:s,controller:i,resolve:c,isCaseInsensitive:u}=e),t=je(r,t,n,s,i,c,u,a),n=t.children}),e.children&&e.children.forEach(e=>Fe(e,t,n,a))},je=(e,t,n,a,r,l,o,i)=>{let s=n.get(e);return s?(s.update(a,r,l,o),s):(s=new Pe(e,t,a,r,l,o,i),n.set(e,s),s)},ze=e=>{let t=e.path||"{*empty*}";for(e=e.parent;e;)t=`${e.path||"{*empty*}"}/${t}`,e=e.parent;return t},Ne=(e,t)=>{let n=null;const a=new Map;e.forEach(e=>{if(e.isParamFragment){if(n){if(e.parent)throw new Error("Route "+ze(e.parent)+" cannot have multiple children with param paths:"+` ${n.path} and ${e.path}`);throw new Error(`Multiple top level routes with param paths are not allowed: ${n.path} and ${e.path}`)}n=e}else if(e.isRegularFragment){const t=a.get(e.lowerCasePath);if(t){if(t.isCaseInsensitive||e.isCaseInsensitive){if(e.parent)throw new Error("Route "+ze(e.parent)+` has ambiguous children routes: ${t.path},`+` is case insensitive: ${t.isCaseInsensitive};`+` ${e.path}, is case insensitive:`+` ${e.isCaseInsensitive}.`);throw new Error(`Ambiguous top level routes: ${t.path}, is case insensitive: ${t.isCaseInsensitive}; ${e.path}, is case insensitive: ${e.isCaseInsensitive}.`)}}else a.set(e.lowerCasePath,e)}Ae(e,t)})},Ae=(e,t)=>{const n=e.children.size,a=e.isResolvable||t;if(e.isResolvable&&!n&&e.component&&e.controller)throw new Error(`Route ${ze(e)} cannot have all three: component, controller and resolve, if it doesn't have children.`);if(e.component&&!s(e.component))throw new Error(`Route ${ze(e)} has an invalid component.`);if(e.resolve&&!s(e.resolve))throw new Error(`Route ${ze(e)} cannot have a non-function resolve.`);if(e.isFallbackFragment&&(!e.component&&!a||n))throw new Error(`Route ${ze(e)} must have at least a component and must not have children.`);if(!(a||e.component||n&&(e.path||e.controller)))throw new Error(`Route ${ze(e)} must have at least either a component or (a path and children) or (a controller and children).`);Ne(e.children,a)},Oe=(e,t)=>t&&e.startsWith("/")?t+e:e,_e=(e,t)=>{if(t){const n=e.pathname.slice(t.length);if(!e.pathname.startsWith(t)||n[0]&&"/"!==n[0])throw new Error(`URL doesn't start with the base path. Url: ${e}. Base path: `+t);return xe(n)}return e.pathname},Me=(e,t,n)=>{const a=ke(e),r=new Map;return t.forEach(e=>Le(e,a,r,"",null,n)),d(Ue(r,e),()=>{let t,n="";if(r.forEach((e,a)=>{a.component&&(!t||e>n)&&(t=a,n=e)}),!t)throw new Error(`Route ${e} not matched.`);return t})},Le=(e,t,n,a,r,l)=>{const o=t[0];let i,s;if(e.isFallbackFragment){const o=new Re(e,t.length?t.join("/"):"",r,l);return void n.set(o,a)}if(e.path){if(!o)return;if(i=De(e,o),!i)return;1===t.length&&(s=!0)}else i="0",o||(s=!0);const c=new Re(e,e.path&&o,r,l),u=a+i;if(s&&n.set(c,u),e.children.size){const a=e.path?t.slice(1):t;e.children.forEach(e=>Le(e,a,n,u,c,l))}},De=(e,t)=>{if(e.isRegExpFragment){if(e.regExp.test(t))return"1"}else{if(e.isParamFragment)return"2";if(e.path===t||e.isCaseInsensitive&&e.lowerCasePath===t.toLowerCase())return"3"}},Ue=(e,t)=>{const n=new Set,a=new Set;return e.forEach((e,t)=>{for(;t;)n.add(t),t=t.parent}),((e,t,n)=>{if(!e)return t?t(e):e;const a=[],r=[];let l,o,i=0,s=0,u=!1;r.success=a;let h=-1;for(const t of e){h+=1;const e=h;c(t)?(s+=1,d(t,t=>{a[e]=t,i+=1,i===s&&(u?o(r):l(a))},t=>{u=!0,r[e]=t,i+=1,i===s&&o(r)})):a[e]=t}return s?new Promise((e,t)=>{l=e,o=t}).then(t,n):t?t(a):a})(Array.from(n,e=>{const n=ve.get(e);return Ve(n,t)}),()=>{n.forEach(e=>{const t=ve.get(e);e.component=t.component,e.controller=t.controller,a.add(t)}),a.forEach(e=>Be(e,t))},e=>{throw e.find(e=>e)})},Ve=(e,t)=>{if(!e.isResolvable)return;const n=e.resolve();if(!c(n))throw new Error("Route resolve() not returning a promise: "+ze(e)+". Url: "+t);return u(n).then(({component:n,controller:a,children:r}={})=>{We(e,t,n,a,r),e.isResolved=!0})},We=(e,t,n,a,r)=>{if(!(n||a||r&&r.length))throw new Error(`Route must be resolved with at least a component, a controller or children: ${ze(e)}. Url: `+t);if(n){if(!s(n))throw new Error(`Route was resolved with an invalid component: ${ze(e)}. Url: ${t}`);if(e.component)throw new Error(`Resolved route already has a component: ${ze(e)}. Url: ${t}`);e.component=n}if(a){if(e.controller)throw new Error(`Resolved route already has a controller: ${ze(e)}. Url: ${t}`);e.controller=a}r&&r.forEach(({path:n,component:a,controller:r,children:l})=>{const{abstractRouteFragment:o,stopSearchAbstractRouteFragment:i,stopSearchUrlFragment:s}=e.getChildFromPath(n);if(!o)throw new Error(`Resolved route doesn't have a child with path ${s||"{*empty*}"}: ${ze(i)}. Url: `+t);We(o,t,a,r,l)})},Be=(e,t)=>{if(!e.component){if(e.isFallbackFragment)throw new Error(`Route must have a component: ${ze(e)}. Url: ${t}`);if(!e.children.size)throw new Error(`Route with no children must have a component: ${ze(e)}. Url: ${t}`);if(!e.path&&!e.controller)throw new Error(`Route with no component and no path must have a controller: ${ze(e)}. Url: ${t}`)}},He=(e,t,n,a)=>{let r=!1,l=n.indexOf(e),o=!1;-1===l?l=null:o=!0;const i=qe(t).map((e,t)=>{if(r)return e;if(o&&t>=l)return e;const n=ve.get(e),i=a.get(n);return i||(r=!0,l=t,e)});if(null!==l){const e=i[l];e.parent&&(e.parent=i[l-1])}else n.length>i.length&&(l=i.length);return{routeFragments:i,remainingRouteFragments:null===l?i:i.slice(0,l),toExitRouteFragments:null===l?[]:n.slice(l),toEnterRouteFragments:null===l?[]:i.slice(l)}},qe=e=>{const t=[];for(;e;)t.unshift(e),e=e.parent;return t},$e=(e,t,n)=>{let a=!1,r=null;const l=qe(e).map((e,t)=>{if(a)return e;const l=ve.get(e),o=n.get(l);return o&&o.normalizedPath===e.normalizedPath?(o.path=e.path,o.urlPath=e.urlPath,o):(a=!0,r=t,e)});if(a){const e=l[r];e.parent&&(e.parent=l[r-1])}else t.length>l.length&&(r=l.length);return{routeFragments:l,remainingRouteFragments:null===r?l:l.slice(0,r),toExitRouteFragments:null===r?[]:t.slice(r),toEnterRouteFragments:null===r?[]:l.slice(r)}},Qe=(e,t)=>{const n=ke(e),a=Ke(t),r=Math.min(n.length,a.length),l=new URLSearchParams;for(let e=0;e<r;e+=1){const t=a[e];t.isParamFragment&&l.append(t.paramName,decodeURIComponent(n[e]))}return l},Ke=e=>Ye(e).map(e=>ve.get(e)),Ye=e=>e.filter(e=>e.path),Xe=(e,t)=>{if(!e!=!t)return!1;if(e){for(const n of e.keys()){if(!t.has(n))return!1;const a=e.getAll(n),r=t.getAll(n);if(a.length!==r.length)return!1;if(a.some((e,t)=>e!==r[t]))return!1}for(const n of t.keys())if(!e.has(n))return!1}return!0},Ge=(e,t)=>e.every((e,n)=>Je(e,t[n])),Je=(e,t)=>(t.canCaseVary?e.toLowerCase():e)===t.normalizedPath,Ze=e=>e.isCaseInsensitive&&(e.isRegularFragment||e.isRegExpFragment);class et extends r.a.Component{render(){return fe(ae.Consumer,null,e=>fe(tt,Object.assign({},this.props,{router:e}),this.props.children))}}et.propTypes={to:le.a.string.isRequired,replace:le.a.bool,children:le.a.node.isRequired,className:le.a.string};class tt extends r.a.Component{constructor(e){super(),this.currentRouteFragment=e.router.currentRouteFragment,this.onClick=this.onClick.bind(this)}shouldComponentUpdate(e){const t=this.currentRouteFragment;return this.currentRouteFragment=e.router.currentRouteFragment,t!==this.currentRouteFragment||e.to!==this.props.to||e.className!==this.props.className||e.replace!==this.props.replace||e.children!==this.props.children}onClick(e){e.preventDefault(),this.props.router.transitionTo(this.props.to,{replace:this.props.replace})}render(){let e=this.props.className||"";const t=this.props.router;return t.isPathActive(this.props.to)&&(e+=" is-active"),t.isDescendantPathActive(this.props.to)&&(e+=" is-descendant-active"),fe("a",{href:Oe(this.props.to,t.basePath),onClick:this.onClick,className:e||void 0},this.props.children)}}tt.propTypes={router:le.a.object.isRequired,to:le.a.string.isRequired,replace:le.a.bool,children:le.a.node.isRequired,className:le.a.string};var nt=[{link:"/",label:"Home",preventActiveFromDescendant:!0},{link:"/getting-started",label:"Getting started"},{link:"/introduction",label:"Introduction",submenu:[{link:"introduction",label:"Intro"},{link:"what-to-expect",label:"What to expect from a framework"},{link:"main-ideas",label:"Main ideas"},{link:"why-and-when",label:"Why and when it's good"},{link:"comparison",label:"Compared to other frameworks/approaches"},{link:"conclusion",label:"Conclusion"}]},{link:"/theory",label:"Theory",submenu:[{link:"introduction",label:"Introduction"},{link:"observing",label:"Observing"},{link:"managing-objects",label:"Managing objects"},{link:"example",label:"Example"},{link:"optimizations",label:"Optimizations"},{link:"ignoring",label:"Ignoring"},{link:"big-models",label:"Big models"},{link:"observing-proxies",label:"Observing proxies"},{link:"unsynchronized-interleaved-rendering",label:"Unsynchronized interleaved rendering"}]},{link:"/api",label:"API",submenu:[{link:"Mvc",label:"new Mvc()"},{link:"mvc.mount",label:"mvc.mount()"},{link:"mvc.unmount",label:"mvc.unmount()"},{link:"mvc.isMounted",label:"mvc.isMounted"},{link:"controller",label:"controller()"},{link:"observe",label:"observe()"},{link:"object.pending",label:"object.pending"},{link:"object.isPending",label:"object.isPending"},{link:"ignore",label:"ignore()"},{link:"root",label:"root()"},{link:"unroot",label:"unroot()"},{link:"apply",label:"apply()"},{link:"construct",label:"construct()"},{link:"addObservedChild",label:"addObservedChild()"},{link:"removeObservedChild",label:"removeObservedChild()"},{link:"PromiseQueue",label:"new PromiseQueue()"},{link:"promiseQueue.add",label:"promiseQueue.add()"},{link:"Cancellation",label:"new Cancellation()"},{link:"cancellation.signal",label:"cancellation.signal"},{link:"cancellation.cancellable",label:"cancellation.cancellable()"},{link:"cancellation.cancel",label:"cancellation.cancel()"}]},{link:"/router",label:"Router",children:[{link:"/router",label:"Getting started",preventActiveFromDescendant:!0},{link:"/router/theory",label:"Theory",submenu:[{link:"the-router",label:"The router"},{link:"input-route-fragments-paths",label:"Input route fragments paths"},{link:"input-route-fragments",label:"Input route fragments"},{link:"route-fragments",label:"Route fragments"},{link:"matching",label:"Matching"},{link:"transitioning",label:"Transitioning"},{link:"refresh",label:"Refresh"},{link:"router-manager",label:"Router manager"},{link:"lazy-loading",label:"Lazy loading"},{link:"observed-controller-objects",label:"Observed controller objects"},{link:"handling-async-errors",label:"Handling async errors"}]},{link:"/router/api",label:"API",submenu:[{link:"Router",label:"new Router()"},{link:"controllerObject.onEnter",label:"controllerObject.onEnter()"},{link:"controllerObject.onLeave",label:"controllerObject.onLeave()"},{link:"router.basePath",label:"router.basePath"},{link:"router.isCaseInsensitive",label:"router.isCaseInsensitive"},{link:"router.url",label:"router.url"},{link:"router.params",label:"router.params"},{link:"router.isTransitioning",label:"router.isTransitioning"},{link:"router.currentRouteFragment",label:"router.currentRouteFragment"},{link:"router.currentRouteFragments",label:"router.currentRouteFragments"},{link:"router.targetRouteFragment",label:"router.targetRouteFragment"},{link:"router.isMounted",label:"router.isMounted"},{link:"router.transitionTo",label:"router.transitionTo()"},{link:"router.mount",label:"router.mount()"},{link:"router.unmount",label:"router.unmount()"},{link:"router.refresh",label:"router.refresh()"},{link:"router.onBeforeChange",label:"router.onBeforeChange()"},{link:"router.offBeforeChange",label:"router.offBeforeChange()"},{link:"router.onSearchChange",label:"router.onSearchChange()"},{link:"router.offSearchChange",label:"router.offSearchChange()"},{link:"router.onChange",label:"router.onChange()"},{link:"router.offChange",label:"router.offChange()"},{link:"router.onUrlHandle",label:"router.onUrlHandle()"},{link:"router.offUrlHandle",label:"router.offUrlHandle()"},{link:"router.onAsyncError",label:"router.onAsyncError()"},{link:"router.offAsyncError",label:"router.offAsyncError()"},{link:"router.isPathActive",label:"router.isPathActive()"},{link:"router.isDescendantPathActive",label:"router.isDescendantPathActive()"},{link:"router.list",label:"router.list()"},{link:"router.get",label:"router.get()"},{link:"router.has",label:"router.has()"},{link:"router.add",label:"router.add()"},{link:"router.remove",label:"router.remove()"},{link:"routeFragment.path",label:"routeFragment.path"},{link:"routeFragment.normalizedPath",label:"routeFragment.normalizedPath"},{link:"routeFragment.abstractPath",label:"routeFragment.abstractPath"},{link:"routeFragment.urlPath",label:"routeFragment.urlPath"},{link:"routeFragment.normalizedUrlPath",label:"routeFragment.normalizedUrlPath"},{link:"routeFragment.canCaseVary",label:"routeFragment.canCaseVary"},{link:"routeFragment.component",label:"routeFragment.component"},{link:"routeFragment.controller",label:"routeFragment.controller"},{link:"routeFragment.controllerObject",label:"routeFragment.controllerObject"},{link:"routeFragment.parent",label:"routeFragment.parent"},{link:"routeFragment.router",label:"routeFragment.router"},{link:"routeFragment.onSearchChange",label:"routeFragment.onSearchChange()"},{link:"routeFragment.offSearchChange",label:"routeFragment.offSearchChange()"},{link:"routeFragment.refresh",label:"routeFragment.refresh()"},{link:"routerManager.list",label:"routerManager.list()"},{link:"routerManager.get",label:"routerManager.get()"},{link:"routerManager.has",label:"routerManager.has()"},{link:"routerManager.add",label:"routerManager.add()"},{link:"routerManager.remove",label:"routerManager.remove()"},{link:"Link",label:"Link"},{link:"Router.fallbackRoute",label:"Router.fallbackRoute()"}]}]},{link:"/form",label:"Form",children:[{link:"/form",label:"Getting started",preventActiveFromDescendant:!0},{link:"/form/theory",label:"Theory",submenu:[{link:"introduction",label:"Introduction"},{link:"example",label:"Example"},{link:"inputs",label:"Inputs"},{link:"validation",label:"Validation"},{link:"async-validation-strategy",label:"Async validation strategy"},{link:"blocking",label:"Blocking"},{link:"result",label:"Result"}]},{link:"/form/api",label:"API",submenu:[{link:"Form",label:"new Form()"},{link:"input.name",label:"input.name"},{link:"input.value",label:"input.value"},{link:"input.initialValue",label:"input.initialValue"},{link:"input.children",label:"input.children"},{link:"input.parent",label:"input.parent"},{link:"input.root",label:"input.root"},{link:"input.isDirty",label:"input.isDirty"},{link:"input.isTouched",label:"input.isTouched"},{link:"input.isSubmitted",label:"input.isSubmitted"},{link:"input.isInputPending",label:"input.isInputPending"},{link:"input.hasErrors",label:"input.hasErrors"},{link:"input.errors",label:"input.errors"},{link:"input.actions",label:"input.actions"},{link:"input.pending",label:"input.pending"},{link:"input.isPending",label:"input.isPending"},{link:"input.isPendingBlocked",label:"input.isPendingBlocked"},{link:"input.isBlocked",label:"input.isBlocked"},{link:"input.getValue",label:"input.getValue()"},{link:"input.onChange",label:"input.onChange()"},{link:"input.validate",label:"input.validate()"},{link:"input.submit",label:"input.submit()"},{link:"input.getResult",label:"input.getResult()"},{link:"input.onBlur",label:"input.onBlur()"},{link:"input.onFormChange",label:"input.onFormChange()"},{link:"input.onStartPending",label:"input.onStartPending()"},{link:"input.get",label:"input.get()"},{link:"input.add",label:"input.add()"},{link:"input.addChild",label:"input.addChild()"},{link:"input.remove",label:"input.remove()"},{link:"input.removeChild",label:"input.removeChild()"},{link:"input.reset",label:"input.reset()"},{link:"input.clear",label:"input.clear()"},{link:"input.markAsDirty",label:"input.markAsDirty()"},{link:"Form.asyncValidationError",label:"Form.asyncValidationError"},{link:"Input",label:"new Input()"},{link:"validation",label:"validation()"},{link:"validate",label:"validate()"},{link:"required",label:"required()"},{link:"min",label:"min()"},{link:"max",label:"max()"},{link:"minLength",label:"minLength()"},{link:"maxLength",label:"maxLength()"},{link:"async",label:"async()"}]}]},{link:"/components",label:"Components",children:[{link:"/components",label:"Getting started",preventActiveFromDescendant:!0},{link:"/components/input",label:"Input"},{link:"/components/render-clip",label:"RenderClip",children:[{link:"/components/render-clip",label:"Getting started",preventActiveFromDescendant:!0},{link:"/components/render-clip/render-clip",label:"RenderClip"},{link:"/components/render-clip/render-clip-controller",label:"RenderClipController",submenu:[{link:"RenderClipController",label:"new RenderClipController()"},{link:"renderClipController.setItems",label:"renderClipController.setItems()"},{link:"renderClipController.setItemsCount",label:"renderClipController.setItemsCount()"},{link:"renderClipController.scrollIntoView",label:"renderClipController.scrollIntoView()"},{link:"renderClipController.scrollToFit",label:"renderClipController.scrollToFit()"},{link:"renderClipController.scrollTo",label:"renderClipController.scrollTo()"},{link:"renderClipController.refresh",label:"renderClipController.refresh()"},{link:"renderClipController.updateLayout",label:"renderClipController.updateLayout()"}]},{link:"/components/render-clip/render-clip-2d",label:"RenderClip2D"},{link:"/components/render-clip/render-clip-2d-controller",label:"RenderClip2DController",submenu:[{link:"RenderClip2DController",label:"new RenderClip2DController()"},{link:"renderClip2DController.verticalRenderClipController",label:"renderClip2DController.verticalRenderClipController"},{link:"renderClip2DController.horizontalRenderClipController",label:"renderClip2DController.horizontalRenderClipController"},{link:"renderClip2DController.setItemsCount",label:"renderClip2DController.setItemsCount()"},{link:"renderClip2DController.refresh",label:"renderClip2DController.refresh()"},{link:"renderClip2DController.updateLayout",label:"renderClip2DController.updateLayout()"}]}]},{link:"/components/tree",label:"Tree",children:[{link:"/components/tree/tree",label:"Tree"},{link:"/components/tree/tree-controller",label:"TreeController",submenu:[{link:"TreeController",label:"new TreeController()"},{link:"treeController.renderClipController",label:"treeController.renderClipController"},{link:"treeController.setNodes",label:"treeController.setNodes()"},{link:"treeController.refresh",label:"treeController.refresh()"},{link:"treeController.toggleExpand",label:"treeController.toggleExpand()"}]}]}]},{link:"/applications",label:"Applications"},{link:"/articles",label:"Articles"},{link:"/webpack",label:"Webpack"},{link:"/v1",label:"V1"}];const at=({to:e,text:t})=>{let n=r.a.createElement("span",null,t||"crizmas-mvc");return e&&(n=r.a.createElement(et,{to:e},n)),r.a.createElement("span",{className:"logo tree"},n)};at.propTypes={to:le.a.string,text:le.a.string};var rt=at;class lt extends a.Component{constructor(){super(),this.state={expanded:!0},this.onExpand=()=>{this.setState({expanded:!this.state.expanded})}}render(){let e="aside-menu";return this.state.expanded&&(e+=" expanded"),this.props.className&&(e+=" "+this.props.className),r.a.createElement("div",{className:e},r.a.createElement("div",{className:"button-wrapper"},r.a.createElement("button",{onClick:this.onExpand},"")),r.a.createElement("div",{className:"menu-content"},this.props.children))}}lt.propTypes={children:le.a.any.isRequired,className:le.a.string};var ot=lt;const it=({list:e,router:t})=>r.a.createElement("ul",null,e.map((e,n)=>{const a=t.isPathActive(e.link)||!e.preventActiveFromDescendant&&t.isDescendantPathActive(e.link)?"tree":"";return r.a.createElement("li",{key:n},r.a.createElement("div",{className:a},r.a.createElement(et,{to:e.link},e.label)),e.children&&r.a.createElement(it,{list:e.children,router:t}))}));it.propTypes={list:le.a.array.isRequired,hasParent:le.a.bool,router:le.a.object.isRequired};class st extends a.Component{render(){return r.a.createElement(ot,{className:"contents-menu"},r.a.createElement(it,{list:this.props.list,router:this.props.router}))}}st.propTypes={list:le.a.array.isRequired,router:le.a.object.isRequired};var ct=st;const ut=({list:e})=>r.a.createElement(ot,{className:"contents-submenu"},r.a.createElement("ul",null,e.map((e,t)=>r.a.createElement("li",{key:t},r.a.createElement("a",{href:"#"+e.link},e.label)))));ut.propTypes={list:le.a.array.isRequired};var dt=ut;function ht(e){return function e(t,n){let a;return n.some(n=>n.link===t?(a=n,!0):n.children?(a=e(t,n.children),a):void 0),a}(e,nt)}class mt extends a.Component{constructor(e){super(e),this.content=null,this.state={submenu:null},this.updateScroll=()=>{this.content.scrollTop=0},this.setSubmenu=e=>{const t=ht(e.urlPath);this.setState({submenu:t&&t.submenu})},this.handleTransition=({currentRouteFragment:e})=>{this.updateScroll(),this.setSubmenu(e)}}componentDidMount(){this.props.router.onChange(this.handleTransition),this.setSubmenu(this.props.router.currentRouteFragment)}componentWillUnmount(){this.props.router.offChange(this.handleTransition)}render(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("header",null,r.a.createElement("div",{className:"links"},r.a.createElement("a",{href:"https://github.com/raulsebastianmihaila/crizmas-mvc",target:"_blank"},"Github"),r.a.createElement("a",{href:"https://www.npmjs.com/package/crizmas-mvc",target:"_blank"},"NPM")),r.a.createElement("h1",null,r.a.createElement(rt,{to:"/"}))),r.a.createElement("div",{className:"main"},r.a.createElement(ct,{list:nt,router:this.props.router}),this.state.submenu&&r.a.createElement(dt,{list:this.state.submenu}),r.a.createElement("div",{className:"content",ref:e=>this.content=e},this.props.children)))}}mt.propTypes={router:le.a.object.isRequired,children:le.a.any};const pt=({routeFragment:e})=>{const t=e.router.currentRouteFragment.urlPath;return r.a.createElement("div",null,r.a.createElement("p",null,"Page not found: ",r.a.createElement(et,{to:t},t)))};pt.propTypes={routeFragment:le.a.object.isRequired};var ft=pt,gt=()=>r.a.createElement("div",null,r.a.createElement("h2",null,"Applications"),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://raulsebastianmihaila.github.io/crizmas-mvc-realworld-site/",target:"_blank"},"Real world example")," (",r.a.createElement("a",{href:"https://github.com/raulsebastianmihaila/crizmas-mvc-realworld",target:"_blank"},"repo"),")"),r.a.createElement("li",null,r.a.createElement("a",{href:"https://raulsebastianmihaila.github.io/chess/",target:"_blank"},"Chess game")," (",r.a.createElement("a",{href:"https://github.com/raulsebastianmihaila/chess-src",target:"_blank"},"repo"),")"))),bt=()=>r.a.createElement("div",null,r.a.createElement("h2",null,"Articles"),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,r.a.createElement("a",{href:"https://medium.com/@raul.mihaila/crizmas-form-interlaid-asynchronous-validations-7b53713251af",target:"_blank"},"Race conditions management in interlaid async validations")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://dev.to/raulsebastianmihaila/the-crizmas-mvc-front-end-framework-for-enterprise-applications-hjd",target:"_blank"},"The crizmas-mvc front-end framework for enterprise applications")),r.a.createElement("li",null,r.a.createElement("a",{href:"https://dev.to/raulsebastianmihaila/implementation-examples-of-common-front-end-features-in-complex-applications-6hh",target:"_blank"},"Implementation examples of common front-end features in complex applications"))));const vt=/^\t+/,wt=/^\s+/,yt=/\S/;class Et extends a.Component{shouldComponentUpdate(e){return e.text!==this.props.text}render(){return r.a.createElement("div",{className:"code"},function(e){let t=e.split("\n");const n=t.findIndex(e=>yt.test(e));if(-1===n)return[];let a;for(a=t.length-1;!yt.test(t[a]);a-=1);t=t.slice(n,a+1).map(e=>e.replace(vt,e=>"  ".repeat(e.length)));const r=t[0].match(wt),l=r?r[0].length:0;return l?t.map(e=>e.replace(wt,e=>" ".repeat(e.length-l))):t}(this.props.text).map((e,t)=>r.a.createElement("div",{key:t},e,"")))}}Et.propTypes={text:le.a.string.isRequired};var xt=Et;const kt=({text:e})=>r.a.createElement("span",{className:"ticks"},e);kt.propTypes={text:le.a.string.isRequired};var Tt=kt;const Ct=({id:e,text:t})=>r.a.createElement("h4",{id:e},r.a.createElement(xt,{text:t}));Ct.propTypes={id:le.a.string,text:le.a.string.isRequired};var Pt=Ct;new function({element:e,component:t,domElement:n,router:a}){if(!e&&!t&&!a)throw new Error("An element or a component or a router must be provided");if(!n)throw new Error("A domElement must be provided");if(e&&t)throw new Error("Must not provide both element and component");const l={isMounted:!1};let o,i,c=!1;class u extends r.a.Component{constructor(...e){super(...e),o=this.forceUpdate.bind(this),(e=>{if(!s(e))throw new Error("Notify argument must be a function");m.add(e)})(o)}componentDidMount(){a&&a.jumpToHash()}componentDidUpdate(){c&&(c=!1,a.jumpToHash())}render(){return Z(ae.Provider,{value:a},i())}}l.mount=()=>{l.isMounted||(a&&(a.mount(),a.onUrlHandle(d)),te(Z(u),n),l.isMounted=!0)};const d=()=>{c=!0};l.unmount=()=>{l.isMounted&&(a&&(a.unmount(),a.offUrlHandle(d)),(e=>{if(!s(e))throw new Error("Notify argument must be a function");m.delete(e)})(o),ne(n),l.isMounted=!1)},(()=>{const n=e?ee:t?Z:null,r=e||t;i=n?a?()=>n(r,{router:a},a.getRootElement()):()=>n(r):()=>a.getRootElement()})(),l.mount()}({component:mt,domElement:document.querySelector("#app"),router:new Ce({basePath:"crizmas-mvc-docs",routes:[{controller:{onEnter({router:e}){const t=e.url.searchParams.get("path");t&&e.transitionTo(`${t}${e.url.hash}`)}},children:[{path:"*",component:ft},{component:()=>r.a.createElement("div",null,r.a.createElement("p",null,r.a.createElement(rt,null)," is a framework based on ",r.a.createElement("a",{href:"https://www.npmjs.com/package/react",target:"_blank"},"React")," and the MVC pattern with the goal of simplifying front-end programming. You can read an introduction ",r.a.createElement(et,{to:"/introduction"},"here"),"."),r.a.createElement("p",null,"The main advantages and features of ",r.a.createElement(rt,null)," are:"),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"simplicity for common cases and flexibility for complicated cases"),r.a.createElement("li",null,"management of pending trees of objects"),r.a.createElement("li",null,"doesn't touch your model, allowing you to write it anyway you want"),r.a.createElement("li",null,"scroll virtualization"),r.a.createElement("li",null,r.a.createElement(rt,{text:"crizmas-router",to:"/router"}),r.a.createElement("ul",null,r.a.createElement("li",null,"refresh from any fragment of the route"),r.a.createElement("li",null,"router manager for listing, adding and removing routes dynamically"),r.a.createElement("li",null,"lazy loading"),r.a.createElement("li",null,"option for case insensitivity"))),r.a.createElement("li",null,r.a.createElement(rt,{text:"crizmas-form",to:"/form"}),r.a.createElement("ul",null,r.a.createElement("li",null,"trees of forms and inputs"),r.a.createElement("li",null,"input management with or without a model"),r.a.createElement("li",null,"synchronous and asynchronous event based validation"),r.a.createElement("li",null,"race conditions management in interlaid async validations")))),r.a.createElement("p",null,"Check the ",r.a.createElement(et,{to:"/getting-started"},"getting started")," and the ",r.a.createElement(et,{to:"/theory"},"theory")," sections for more reasons to use this framework. Also take a look at the ",r.a.createElement("a",{target:"_blank",href:"https://raulsebastianmihaila.github.io/crizmas-mvc-examples/"},"examples app")," (",r.a.createElement("a",{href:"https://github.com/raulsebastianmihaila/crizmas-mvc-examples",target:"_blank"},"repo"),")."),r.a.createElement("p",null,"The code is written in modern JS, so it's possible that you need transcompilation. JSX is not used in the framework code so you're not obliged to support JSX."),r.a.createElement("p",null,"Only the browsers with JS proxies are supported."),r.a.createElement(gt,null),r.a.createElement(bt,null))},{path:"getting-started",component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,"Getting started"),r.a.createElement("p",null,"The simplest way to get started is to use the ",r.a.createElement(Tt,{text:"create-crizmas"})," command to create a ",r.a.createElement(rt,{text:"crizmas-mvc"})," project based on ",r.a.createElement("a",{href:"https://www.npmjs.com/package/webpack",target:"_blank"},"webpack"),". In a new directory that you create you can either run the command without any prior package installation:"),r.a.createElement(xt,{text:"npx create-crizmas -A"}),r.a.createElement("p",null,"or you can install the ",r.a.createElement(Tt,{text:"create-crizmas"})," package globally:"),r.a.createElement(xt,{text:"npm i -g create-crizmas"}),r.a.createElement("p",null,"And after the installation you can run the command:"),r.a.createElement(xt,{text:"create-crizmas -A"}),r.a.createElement("p",null,"You can pass the following options (with space between them):"),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"-R or --router: adds crizmas-router and its dependencies;"),r.a.createElement("li",null,"-F or --form: adds crizmas-form and its dependencies;"),r.a.createElement("li",null,"-C or --components: adds crizmas-components and its dependencies;"),r.a.createElement("li",null,"-JSX or --jsx: adds jsx support;"),r.a.createElement("li",null,"-L or --layout: adds a root layout component that renders a spinner during router transitions and passes it to the Mvc instance. Requires the -R option;"),r.a.createElement("li",null,"-A or --all: equivalent to -R -F -C -L -JSX;"),r.a.createElement("li",null,"-GA or --github-app: adds support for deploying as a github page;"),r.a.createElement("li",null,"-H or --help: displays helpful information about the command.")),r.a.createElement("p",null,"After running the command, you can run:"),r.a.createElement(xt,{text:"\n    npm i # to install the dependencies\n    npm start # to run the application locally\n    npm run build # to build the application for production\n  "}),r.a.createElement("p",null,"Alternatively, you can install the framework packages individually in your own project structure."),r.a.createElement(xt,{text:"\n    npm i react\n    npm i react-dom\n    npm i crizmas-mvc\n  "}),r.a.createElement("h4",null,"Complementary tools"),r.a.createElement(xt,{text:"\n    npm i prop-types\n    npm i crizmas-router\n    npm i crizmas-form\n    npm i smart-mix # peer dependency of components\n    npm i crizmas-components\n  "}),r.a.createElement("h4",null,"Example"),r.a.createElement("p",null,"The model manages the domain logic."),r.a.createElement("div",null,"js/models/flowers-model.js",r.a.createElement(xt,{text:"\n      export class Flower {\n        static validateName(name) {\n          if (!name.endsWith('flower')) {\n            return 'The name must end with flower';\n          }\n        }\n\n        constructor(name, daysLeft = 50) {\n          this.name = name;\n          this.daysLeft = daysLeft;\n        }\n\n        get isAlive() {\n          return this.daysLeft > 0;\n        }\n\n        randomizeAge() {\n          if (this.isAlive) {\n            this.daysLeft -= Math.ceil(Math.random() * this.daysLeft);\n          }\n        }\n      }\n\n      export default {\n        items: [\n          new Flower('Red flower'),\n          new Flower('Blue flower'),\n          new Flower('Pink flower')\n        ],\n\n        addFlower(name, daysLeft) {\n          this.items.push(new Flower(name, daysLeft));\n        },\n\n        randomizeAges() {\n          this.items.forEach(flower => flower.randomizeAge());\n        }\n      };\n    "}),r.a.createElement("p",null,"The controller stands between the view and the model, as the UI shouldn't try to modify the state of the model through direct interaction. The controller asks the model to update itself based on certain input or actions. The controller can also provide instructions to the view (preferably in a reactive fashion) and can create the connection between the current context of the application and other parts of the application, for instance by initiating route transitioning."),"js/controllers/flowers-controller.js",r.a.createElement(xt,{text:"\n      import {controller} from 'crizmas-mvc';\n      import Form, {validation, required, minLength, min} from 'crizmas-form';\n\n      import flowers, {Flower} from 'js/models/flowers-model';\n\n      export default controller(class {\n        constructor() {\n          this.flowers = flowers;\n\n          this.form = new Form({\n            children: [\n              {\n                name: 'name',\n                validate: validation(\n                  required(),\n                  minLength(5),\n                  ({input}) => {\n                    const value = input.getValue();\n\n                    if (value) {\n                      return Flower.validateName(value);\n                    }\n                  }\n                )\n              },\n\n              {\n                name: 'daysLeft',\n                validate: validation(required(), min(10))\n              }\n            ],\n\n            actions: {\n              submit: () => {\n                const formResult = this.form.getResult();\n\n                this.addFlower(formResult.name, formResult.daysLeft);\n                this.form.clear();\n              }\n            }\n          });\n        }\n\n        addFlower(name, daysLeft) {\n          this.flowers.addFlower(name, daysLeft);\n        }\n\n        randomizeAges() {\n          this.flowers.randomizeAges();\n        }\n      });\n    "}),r.a.createElement("p",null,"The view handles the rendering process. It can reflect the state of the model. It also asks the controller to handle the user's input and actions."),"js/components/flowers-page.jsx",r.a.createElement(xt,{text:"\n      import React, {Component} from 'react';\n      import PropTypes from 'prop-types';\n      import {Input} from 'crizmas-components';\n\n      export default class FlowersPage extends Component {\n        constructor() {\n          super();\n\n          this.onAdd = (e) => {\n            e.preventDefault();\n            this.props.controller.form.submit();\n          };\n\n          this.onRandomizeAges = () => {\n            this.props.controller.randomizeAges();\n          };\n        }\n\n        render() {\n          const {flowers, form} = this.props.controller;\n\n          return <div>\n            <button onClick={this.onRandomizeAges}>randomize ages</button>\n\n            {flowers.items.map((flower, i) => {\n              return <div key={i}\n                style={flower.isAlive ? null : {textDecoration: 'line-through'}}>\n                {flower.name}, {flower.daysLeft} days left\n              </div>;\n            })}\n\n            <div>\n              Add a new flower\n              <div>\n                <form>\n                  <label>name:</label>\n                  <Input {...form.get('name')} />\n                  <label>days left:</label>\n                  <Input {...form.get('daysLeft')} type=\"integer\" />\n                  <button onClick={this.onAdd}\n                    disabled={form.isBlocked}>add</button>\n                </form>\n              </div>\n            </div>\n          </div>;\n        }\n      }\n\n      FlowersPage.propTypes = {\n        controller: PropTypes.object.isRequired\n      };\n    "}),r.a.createElement("p",null,"Here we're creating our application. We must provide a dom element. We must also provide at least a component, an element or a router. So each of these is optional as long as we provide one of them."),"js/main.js",r.a.createElement(xt,{text:"\n      import Mvc from 'crizmas-mvc';\n      import Router from 'crizmas-router';\n\n      import Layout from 'js/components/layout';\n      import HomePage from 'js/components/home-page';\n      import FlowersPage from 'js/components/flowers-page';\n      import FlowersController from 'js/controllers/flowers-controller';\n\n      new Mvc({\n        domElement: document.querySelector('#app'),\n        component: Layout,\n        router: new Router({\n          routes: [\n            {\n              component: HomePage\n            },\n            {\n              path: 'flowers',\n              component: FlowersPage,\n              controller: FlowersController\n            }\n          ]\n        })\n      });\n    "}),r.a.createElement("p",null,"Head over to the ",r.a.createElement(et,{to:"/theory"},"theory"),", ",r.a.createElement(et,{to:"/router"},"router")," and ",r.a.createElement(et,{to:"/form"},"form")," sections for more details.")))},{path:"introduction",component:()=>r.a.createElement("div",null,r.a.createElement("h2",{id:"introduction"},"The ",r.a.createElement(rt,{text:"crizmas-mvc"})," front-end framework for enterprise applications"),r.a.createElement("p",null,"There are a few good Javascript front-end frameworks (and were using the word framework in the more general sense, in which even a group of libraries that work together can form a framework). But are they good enough? We cant talk about a perfect framework. It all boils down to how capable the framework is (in relation to the goal) and how comfortable you are with it. And there are quite a few aspects to take into account. This new framework (although since 2016) is our take on how things can be done better. In this article we try to explain why and how ",r.a.createElement(rt,{text:"crizmas-mvc"})," is a very well suited framework for complex enterprise applications."),r.a.createElement("h3",{id:"what-to-expect"},"What to expect from a framework"),r.a.createElement("p",null,"The main characteristic that a framework must have is being capable. It must be easy to build with it all the common features that were used to seeing in a UI. The framework must allow you to focus on the business requirements and on the more special features that the framework itself couldnt account for, instead of making you scratch your head when you run into situations where it gets really weird to implement a rather common requirement."),r.a.createElement("p",null,"The next characteristic to look for is flexibility. A framework may appear to be very capable because it may seem you can build with it most of what you can think of, but then in practice you might have to implement a rather awkward UX behavior. Or you might need to integrate with some third party component or library that doesnt really fit the general approach that the framework is enforcing. Or the business requirements might have you wonder why you would have to implement something like that. The point is that many times you have to implement things that you would rather avoid implementing, but still have to implement them, and perhaps the framework wasnt build to cater for those situations. Therefore a framework should allow you to employ different approaches and patterns."),r.a.createElement("p",null,"Its also very important for the framework to be free of errors. Sometimes you read the docs of a framework or library and it turns out its not doing what it was supposed to. Tightly related to this is the rapid development of the framework. If you need to wait a long time for a fix you will end up doing workarounds."),r.a.createElement("p",null,"For corporations its often important for the framework to be popular. This allows them to hire new people that are already familiar with the framework. Also for developers its important because they get more job opportunities. However there should be room for new approaches as well, otherwise the progress is hindered."),r.a.createElement("h3",{id:"main-ideas"},"Main ideas"),r.a.createElement("h4",null,"Independent model"),r.a.createElement("p",null,"There are simple applications for which pretty much any framework will do and there are more complex applications, for instance what one would typically call enterprise applications, where structure, conventions and ceremonies are essential. Certain frameworks enforce a quite rigid structure and you pretty quickly find yourself making a face at this when it feels abnormal. When it comes to structure there is always a part of the codebase that can be understood independently from the framework because, at least in theory, you would normally want to implement it similarly using any other framework as well. This is what usually a domain model looks like. Understanding and expressing well the domain model is very important since that is the essence of the application and cutting corners or resorting to workarounds makes developers uneasy because that makes the model more difficult to understand. This is the first idea of ",r.a.createElement(rt,{text:"crizmas-mvc"}),". The model can be written in absolutely any way you want. The framework doesnt provide anything for you to write the model. It doesnt need to bind to anything, it doesnt need to be decorated with anything and you dont need to use any API for defining the model. Some frameworks are more appropriate for a specific way of organizing the code. However, typically a complex application requires multiple ways of organizing the code and the flexibility and the missing rigidity are the best approach."),r.a.createElement("p",null,"One positive consequence of this is that you dont depend on the framework to support certain data structures. For instance, a reactive system (for instance Vues) might transform your data and if the data structure has a special behavior (for instance it accesses some private internal data) the framework needs to wrap or transform that data structure in a specific way. Whenever such a new data structure is added to the programming language, the framework needs to be updated. This evidently has some limitations, youre restricted to comply with the rules and for instance you cant simply define your own objects with such a special behavior and use them any way you want. Or if you have to use a third party library that isnt tailored for that framework, you need to work on adapting it for the framework and this can be a challenge."),r.a.createElement("p",null,"The essential benefit of model independence is that you fully understand what it does as long as you understand the programming language and your own code. Frameworks may have a subtle way of implementing reactivity and sometimes you scratch your head because its not intuitive why your view is not being updated when you change some state. This may be a combination of subtle framework mechanics and rigidity."),r.a.createElement("p",null,"Frameworks may transform your data in order to implement the reactivity (or the binding mechanism between the view and the data) and also for performance optimizations for efficient view updates. However, this transformation may be costly if the data is bigger."),r.a.createElement("h4",null,"Managing the pending state for trees of objects"),r.a.createElement("p",null,"One common thing that applications do is representing the pending state of the application. Data may be loading or operations may be in progress and you may want to show a spinner or disable particular buttons depending on the pending state of certain operations. You may also be interested in combinations of pending operations, depending on how complex the UI is. Its therefore important to structure the pending state. Given the way ",r.a.createElement(rt,{text:"crizmas-mvc"})," manages the controllers you automatically get this pending state management with which you can easily tell which operation is in progress. You can also see if a group of operations are in progress as the controller is pending while it has any pending operations associated with it. The icing on the cake is that you can have a tree of pending objects, where a parent object is pending if it has at least one pending operation associated with it or if it has any child objects that are pending."),r.a.createElement("p",null,"Its quite surprising that most frameworks dont handle this as easily, since its a very common feature we see in applications. Not all frameworks support all the common features as easily, even though they claim they facilitate building very complex UIs."),r.a.createElement("h4",null,"Controllers"),r.a.createElement("p",null,"Theres this hype around components going on. Components in general are very important for modularity and in this respect we have to consider all kinds of components, not only view components. However, the hype is mostly around rendered components. Some of them can be more than view components, for instance the Flux architecture introduces the notion of controller-view. View components specifically are very important for structuring the view layer and they are typically used as part of a composite pattern. But the most popular frameworks today give a greater responsibility to these components. There is an evident tendency to compose as much of your application as possible with such components. This means a lot more is put into the view layer. The components can do more than displaying things. For instance, they may have controller logic, they may hold data and state that could be kept somewhere else. You can also have components with the purpose of reusing some sort of functionality they implement, but without rendering anything but their children. You may therefore end up with having a tree of components each with different fundamental responsibilities, which can be seen as a departure in spirit from the composite pattern, as the uniformity is given only by the rendering aspect, but less by what the layer is concerned with."),r.a.createElement("p",null,"Keeping the components in the same tree means they participate in the same lifecycle. While for rendering (and the composite aspect of it) this makes a lot of sense, it becomes troublesome when the components have other responsibilities, such as keeping state or performing operations such as data fetching. Flux itself recommends to keep controller-views at the top of the tree. A good example are tabs. If your components are contained in tabs, when the user switches tabs, assuming that only the active tab renders its content, the components from the other tabs are unmounted and whatever state they might be holding is lost. Controllers in ",r.a.createElement(rt,{text:"crizmas-mvc"})," can hold such state that is used by the components and since the controllers are not held in the state of the components we work out this deficiency that components with state have. In short, controllers are independent from the view lifecycle. But controllers are even more important than this."),r.a.createElement("p",null,"With Flux (or other approaches inspired by it), in order to solve the component state issue, we can either move the state higher in the tree of components or move the state to the store. Keeping the state in the parent component can bloat it. Moving the state in the store can have some unfortunate consequences such as mixing domain model state with view or controller state. Normally the store module (with Vuex, or a Redux reducer used with the ",r.a.createElement("i",null,"combineReducers")," API) requires clearing when the context where that module is relevant is left by the user. Controllers allow us to instantiate models in the controllers themselves and if we keep them locally in the controllers, when the controllers are not used anymore that model state is lost automatically and doesnt need clearing."),r.a.createElement("p",null,"In ",r.a.createElement(rt,{text:"crizmas-mvc"})," there is a clearer separation between the view, the controller and the domain model, with regard to their logic and state. For instance, with Redux and Vuex the controller logic can stay in many places and it can also be mixed with the data handling in the store. There we have controller-views, middlewares, actions and action creators and reducers or mutations."),r.a.createElement("h4",null,"Router capabilities"),r.a.createElement("p",null,"Beside the capabilities that a typical router provides, such as matching paths with parameters, fallback routes, regexp matching, redirects, entering and leaving hooks that can be used for implementing guards etc., ",r.a.createElement(rt,{text:"crizmas-router"})," provides some more fancy capabilities as well."),r.a.createElement("p",null,"Refreshing the current route is a very requested feature from all the most popular frameworks. The nicest feature of ",r.a.createElement(rt,{text:"crizmas-router"}),", one that we couldnt find in any other framework, is being able to refresh the current path from any fragment. This means that if we have a hierarchy of route fragments that are handling the current path of the application (each URL path fragment having a separate route fragment associated with it), we can refresh only a part of them or all of them (meaning that they will be left and re-entered)."),r.a.createElement("p",null,"We cant really speak about a modern framework anymore today if it doesnt support lazy loading. All the most popular frameworks support this and ",r.a.createElement(rt,{text:"crizmas-router"})," does too."),r.a.createElement("p",null,"By working with a very easy to use API, routes can be dynamically checked, added, removed and listed at any point in time and ",r.a.createElement(rt,{text:"crizmas-router"})," also provides a nice option for case insensitivity at the router level or at the route level."),r.a.createElement("h4",null,"Form capabilities"),r.a.createElement("p",null,r.a.createElement(rt,{text:"crizmas-form"})," provides event based sync and async validations. The validations are triggered when standard events occur, but they can also be triggered with custom events. The validation event always has a target associated with it, which allows us to validate related fields when a certain field is interacted with. The inputs typically form a tree of inputs and we can have lists of inputs too."),r.a.createElement("p",null,"Sometimes the form data represents temporary data which can be kept in the controller state. However in many enterprise applications the data is usually model data and it can be used in other parts of the application or the form can be split into wizard steps that handle parts of a model. Therefore ",r.a.createElement(rt,{text:"crizmas-form"})," also allows us to connect models to our inputs."),r.a.createElement("p",null,"Of course we get typical APIs for resetting or clearing the inputs, submitting and getting the form data, adding and removing inputs dynamically from the form and also out of the box validators, but probably the most interesting capability of ",r.a.createElement(rt,{text:"crizmas-form"})," is ",r.a.createElement("a",{target:"_blank",href:"https://medium.com/@raul.mihaila/crizmas-status-update-and-the-form-interlaid-asynchronous-validations-4abf167a54bb"},"managing race conditions in interlaid async validations"),"."),r.a.createElement("h4",null,"Scroll virtualization"),r.a.createElement("p",null,"Enterprise applications typically have a lot of big tables of data. For this we provide our own implementation of scroll virtualization which allows us to display a big list of items without blocking the browser: only a part of the items are rendered while for the user it appears that all the items are rendered."),r.a.createElement("h4",null,"Based on React"),r.a.createElement("p",null,"At the view level we use React. React is great because it provides huge flexibility which fits ",r.a.createElement(rt,{text:"crizmas-mvc"})," very well especially because we can use Javascript to create fragments of the view. Comparing this to the primary Vue templating language or the Angular templating language we immediately see a big difference in flexibility and ease of use, assuming you are comfortable with Javascript."),r.a.createElement("p",null,"A great benefit of using React is the community behind it, including the huge number of components that we can find online."),r.a.createElement("h4",null,"The MVC of ",r.a.createElement(rt,{text:"crizmas-mvc"})),r.a.createElement("p",null,"There are different flavors of MVC and we dont claim that ours is the best or the purest. It is important that we mention a few characteristics of our approach. Our approach to MVC is adapting it to a way of handling changes in the application in a more reactive way. Because of this, we will not see much of the observer pattern where the view and controller subscribe to the model in order to react to changes. Instead when we want something to happen in the application we need to go through the controller. The controller is where the framework does the work of updating the view after the operation finished. The view typically gets access to the controller and the controller may reveal model data/state as well, so the view can render it."),r.a.createElement("p",null,"The controller in general is not seen only as a glue between the view and the model. The controller is in fact smart, but it delegates to the model to manage the domain area. The controller can have some logic of transitioning to different contexts of the application for instance. And, of course, we need to respect the separation of concerns and so each controller will have its own scope and purpose."),r.a.createElement("p",null,"If in a more classical approach the controller could interact with the view in an imperative way, in our case when the controller needs to control the view, we can manage some state inside the controller and pass that to the view whose rendering behavior would then be determined by that state."),r.a.createElement("p",null,"The controllers can also interact with an API layer. The API layer would contain the details of communicating with a server. The operations of communicating with the server can be initiated from the controller. Also reacting when the communication finished, for instance by asking the model to update itself. These things can also happen in a service and if we were to introduce services, the controllers could interact with such services (without allowing the view to interact with the services). If we look at Angular services we can see that often they are a mix of the API layer, models and services as weve just described them above. Because there is a clear separation between the API layer, controllers and models in ",r.a.createElement(rt,{text:"crizmas-mvc"}),", the services in our approach would be very slim, therefore we could actually have this part incorporated in controllers with a specific scope and responsibility."),r.a.createElement("p",null,"In general, in ",r.a.createElement(rt,{text:"crizmas-mvc"}),", we have route controllers whose interaction with the route view components is handled by the router (from ",r.a.createElement(rt,{text:"crizmas-router"}),"). Beside these we have controllers with specific responsibilities. These are often composed inside a route controller. This gives great flexibility when it comes to structuring our code and implementing different pieces of functionality that can be reused in different contexts of the application."),r.a.createElement("h3",{id:"why-and-when"},"Why and when its good"),r.a.createElement("p",null,"In order to see the benefits of ",r.a.createElement(rt,{text:"crizmas-mvc"})," we need complexity and a desire for productivity. In this way we can better weigh the disadvantages of lacking capabilities, sloppy APIs and rigid framework patterns. Probably the best use case for this framework is a big enterprise application with complex changing requirements. There have been attempts for comparing frameworks, but the use cases havent really been satisfying. We usually see Todo MVC examples. There was also a more interesting attempt of comparing frameworks with an application that looks more like a ",r.a.createElement("a",{href:"https://github.com/gothinkster/realworld",target:"_blank"},"real world application"),", and you can see our ",r.a.createElement(rt,{text:"crizmas-mvc"})," implementation too (",r.a.createElement("a",{target:"_blank",href:"https://github.com/raulsebastianmihaila/crizmas-mvc-realworld"},"repo"),", ",r.a.createElement("a",{target:"_blank",href:"https://raulsebastianmihaila.github.io/crizmas-mvc-realworld-site/"},"app"),"), but even that is not relevant enough because its too simple. For ",r.a.createElement(rt,{text:"crizmas-mvc"})," an enterprise application would be more relevant."),r.a.createElement("p",null,r.a.createElement(rt,{text:"crizmas-mvc"})," combines many great capabilities with a great deal of flexibility and separation of concerns to facilitate reusability and help you be productive even when the requirements are very complex."),r.a.createElement("h3",{id:"comparison"},"Compared to other frameworks/approaches"),r.a.createElement("p",null,"Weve already mentioned quite a few differences between ",r.a.createElement(rt,{text:"crizmas-mvc"})," and other frameworks. If we were to provide a very short summary we could mention:"),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"the separation between controllers and views (and their lifecycle)"),r.a.createElement("li",null,"the clear separation between the API layer, controllers and model (both compared to Redux and Vuex where controller logic can stay in many places as well as compared to Angular services which can mix the data layer with models and other service logic)"),r.a.createElement("li",null,"possibility of instantiating models in controllers and not having to clear the model/store/service when the context of the application is changed"),r.a.createElement("li",null,"the complete independence of the model with absolutely no constraints from the framework, which provides flexibility"),r.a.createElement("li",null,"managing the pending states of trees of objects"),r.a.createElement("li",null,"router capabilities (refresh from any fragment of the current chain of routes; API for adding, removing, listing and checking routes dynamically)"),r.a.createElement("li",null,"form capabilities (event based validation; possibility of connecting models to inputs; managing race conditions in interlaid async validations)"),r.a.createElement("li",null,"scroll virtualization"),r.a.createElement("li",null,"we use React at the view layer so in this respect we benefit from the advantages that React brings")),r.a.createElement("p",null,"There are a few other notes that we can add to this topic."),r.a.createElement("p",null,"There seems to be quite some emphasis in a part of the front-end community on the importance of static typing and immutability in general. We dont see things the same way as explained in ",r.a.createElement("a",{href:"https://medium.com/@raul.mihaila/the-real-problem-with-programming-in-javascript-bfdb64d24211",target:"_blank"},"an older article"),". Relevant experience solidifies our position. Weve lead two teams on two complex enterprise applications, one with Redux and the other one with Vuex. No static typing was used and in terms of productivity we benefited from that. We also had a very small number of bugs. Immutability didnt make a positive difference either (as with Vuex we do mutations). However, we do recognize a benefit of Flux, which is the restrictive organization of the codebase. This makes it easier for a team made of different people with different skills and experience to maintain consistency throughout the codebase. Less experienced developers can find more common patterns in the application and code review is easier to do as there are less ways of writing the code. When combined with immutability, Flux has the downside of being less intuitive as certain operations that depend on other operations that update the state of the application can be initiated from the component only after the store was updated and the new state was propagated through the view, typically in a ",r.a.createElement("i",null,"componentDidUpdate")," hook, assuming such state is only read through the props (with Redux the store state could be read directly through its API as well, but in that case we would be mixing approaches, while with Vuex we dont have this issue because the state would not become stale). The restrictive nature of Flux also has the downside of being too rigid where more complexity would benefit from more flexible ways of doing things (for instance by reusing controllers that can hold local state). As for Typescript, weve also experienced with that in a different application together with Redux and we ran into quite a few library incompatibilities, out of date type definitions and obscure compilation error messages for things that would have worked with pure Javascript."),r.a.createElement("p",null,"Compared to Flux, with ",r.a.createElement(rt,{text:"crizmas-mvc"})," controller logic is easier to reuse in multiple contexts of the application since they can keep local state (especially if they dont have to interact with a model that outlives the controller). With Redux, for instance, action creators, where such logic could be implemented, need a reducer in order to hold that state and you end up with a store module/reducer for each such controller context. You could also use higher order components or hooks for such controller logic, but their state would get lost on unmounting, so you would still rely on a store. If a separate state management mechanism is introduced for this purpose, it needs to propagate the new state to the components and the components need to subscribe to it, which means extra verbosity."),r.a.createElement("p",null,"With Redux and Vuex, for reusing store logic its possible to use mixins (assuming, in the case of Redux, that we define a mechanism with which we write the reducers as object methods and then transform the result into a normal Redux reducer), or, the simplest approach, we can use functions in a functional or procedural way (since with Vuex we do mutations). There is also the possibility of writing higher order reducers with Redux in order to reuse code. This is somewhat similar to using ids to identify the instance that we operate on. You could also do inheritance in a Flux store but that has its disadvantages."),r.a.createElement("p",null,"With ",r.a.createElement(rt,{text:"crizmas-mvc"}),", for reusing controller and domain model logic, we can also use mixins and functions. We can also take a more traditional OOP approach, which allows defining the state structure and logic for operating with that state locally in the same place (in the same object/class or closure). This way we can reuse logic with multiple instances without too much boilerplate and without resorting to binding ids to our operations. With ",r.a.createElement(rt,{text:"crizmas-mvc"})," controllers and models can also do traditional OOP composition (this implies being able to call methods of a child object, so were not referring only to composing fields). This allows us to structure the code more easily when we prefer an extra layer of fields for a certain purpose. It also allows traditional and easy to implement design patterns, such as the strategy pattern."),r.a.createElement("p",null,"Without inheritance and mixins, in Redux or Vuex the state is typically separate from the reused logic. The traditional OOP composition approach in this case would have the effect of mixing the state with methods which would mean that the store, which should contain a kind of state of the application in its entirety, would now also contain some functions. The store should be accessible from the components only for subscribing, reading and dispatching and nothing else. Any other interaction with the store, from the components, should happen through the Flux pipeline. We should be able to pass the entire state of the store to a component and if that state contained methods, then the component could interact with the store in a way that would not be in conformance with the Flux approach. In Vuex, the methods (the fields whose values are functions) would still be reactive, which would be a bit weird. In Flux stores, in general its possible to do such OOP composition though, if we have a mechanism of extracting the state without methods that would be passed to the components, which would mean more verbosity. It is also possible, for instance with Redux, to use some sort of OOP composition by discarding the instance that holds the methods after performing the operation. You can instantiate a constructor by passing the existing state, then call the method that would return the new state. In this way you can focus on the state and operations related to that state in the same place (which is good when different related methods operate on different parts of that state). This however comes with quite some boilerplate of creating objects from existing state every time, which anyway is typical for the pipeline approach based on immutability. But with ",r.a.createElement(rt,{text:"crizmas-mvc"})," we dont need all this boilerplate."),r.a.createElement("h3",{id:"conclusion"},"Conclusion"),r.a.createElement("p",null,"Based on experience with complex applications, ",r.a.createElement(rt,{text:"crizmas-mvc"})," provides missing capabilities for front-end engineers and is optimized for ergonomics. Its a framework that promotes a flexible approach, which allows for long term productivity. We hope this article sparked your interest in alternative progressive approaches in the context of modern front-end development."))},{path:"theory",component:()=>r.a.createElement("div",null,r.a.createElement("h2",{id:"introduction"},"Theory"),r.a.createElement("p",null,"The modern front-end frameworks represent an important step in the evolution of web development. One of the important aspects that they take care of for us effectively is the view, in terms of rendering and updating. We believe that today it's pretty easy to build a framework on top of the React library or something alike. So, we have the view component covered."),r.a.createElement("p",null,"Since the domain logic is the core of the application, ",r.a.createElement(rt,null)," doesn't touch it and this allows for great flexibility."),r.a.createElement("p",null,"So, the magical part is the controller. Behind the scenes it updates the view whenever something happens. In order for this to be true, whatever happens must go through the controller. In other words, whenever we want something to happen, we must call a controller method. This also prevents the model from being interacted with in an inappropriate manner."),r.a.createElement("h4",{id:"observing"},"Observing"),r.a.createElement("p",null,"This mechanism is based on an observation instrument: ",r.a.createElement(Tt,{text:"observe()"}),". This instrument allows us to observe functions, objects and promises (or thenables). A function is observed in the sense that whenever it's called some observation hooks are triggered, which causes the view to be updated. An object is observed in the sense that its own methods are observed. Observing a function also implies that if it returns a promise, the promise is observed. That means that when the promise is settled, the observation hooks are triggered. A typical function is also constructible. When an observed function is constructed, the resulted object is observed. An interesting fact is that if the constructor returns a promise, it is observed, and if the promise is fulfilled with an observable value, that value is observed. However, the same is not true for a normal function call (when the function is not called as a constructor). The value that the promise is fulfilled with in this case is not observed. It's important to note that even though promises are objects, they are treated differently and we don't observe their methods. Since a function is also an object, it's also being observed as a normal object is. This allows us to observe static methods. Also its prototype data property is observed. Therefore ",r.a.createElement(rt,null)," allows multiple ways of writing a controller. It can be either an object, a class or a plain old constructor function. (",r.a.createElement(Tt,{text:"controller()"})," is like ",r.a.createElement(Tt,{text:"observe()"})," but it doesn't accept promises or thenables.)"),r.a.createElement("p",null,"While modern front-end frameworks make it hard to imagine development today without them, it still feels that there are some missing treats they could provide. One of these things is managing asynchronous state. Many times developers have to implement ad hoc mechanisms for displaying a loader or blocking a button during a pending operation. ",r.a.createElement(rt,null)," makes this a piece of cake."),r.a.createElement("p",null,"A method is pending in relation to an object in the sense that it returned a promise and the reactions to that promise that manage the async state of the observed object have not yet been triggered. The observed method doesn't need to be an own method, it just needs to be called as a method of the object (even using ",r.a.createElement(Tt,{text:"call"})," or ",r.a.createElement(Tt,{text:"apply"}),"). An observed object is decorated with a ",r.a.createElement(Tt,{text:"pending"})," property. Its value is an object with a ",r.a.createElement(Tt,{text:"has"})," method. When an observed method ",r.a.createElement(Tt,{text:"pendingOperation"})," returns a promise in relation to the observed object, until the promise reactions are triggered, ",r.a.createElement(Tt,{text:"pending.has('pendingOperation')"})," is ",r.a.createElement(Tt,{text:"true"}),". It's possible that an observed function resulted from observing an object, since observing an object means observing its own methods. An observed function has a key (a truthy value, usually a string or symbol) associated with it. If the function results from observing an object, the key is the method's key. If a function is observed independently, ",r.a.createElement(Tt,{text:"observe()"})," can receive a key for the function which will become the associated key. This is especially useful when having two objects that share the same observed method, but this method has two different keys in the respective objects. Therefore the method will have a single key associated, which is the key that was used when the method was observed. So, the argument to ",r.a.createElement(Tt,{text:"has"})," must be the associated key. If the function doesn't have an associated key, it cannot be pending in relation to an object."),r.a.createElement("p",null,r.a.createElement(Tt,{text:"observe()"})," can also receive a ",r.a.createElement(Tt,{text:"preventApply"})," option. If the argument to ",r.a.createElement(Tt,{text:"observe()"})," is a function and this option is passed, the resulted observed function can only be called as a constructor. This is useful when it's clear that the function is a constructor whose purpose is to create observed objects. This option is used internally by ",r.a.createElement(Tt,{text:"controller()"})," and ",r.a.createElement(Tt,{text:"root()"})," (see below)."),r.a.createElement("h4",{id:"managing-objects"},"Managing objects"),r.a.createElement("p",null,r.a.createElement(rt,null)," also helps managing the pending state of observed trees of objects. An observed tree of objects is a tree of objects that has a root. A root is an observed object marked as root using ",r.a.createElement(Tt,{text:"root()"}),". Beside the ",r.a.createElement(Tt,{text:"pending"})," property, an observed object is also decorated with an ",r.a.createElement(Tt,{text:"isPending"})," property. An observed object is managed (in the sense that its pending state is managed) only while it's part of an observed tree. In this case, an observed object is pending while any of the observed methods is pending in relation to it or while any of its direct or indirect observed child objects is pending. The child observed objects of an observed object are its child (descendants at any level) objects that are already observed when the object is observed the first time. There is also an API for adding new child observed objects and removing them. Normally you shouldn't have to deal with marking objects as roots because most probably you will also use the ",r.a.createElement(et,{to:"/router"},"router"),", which takes care of this. Note that only managing the value of the ",r.a.createElement(Tt,{text:"isPending"})," property requires the object to be part of a managed tree; managing the state of the ",r.a.createElement(Tt,{text:"pending"})," property doesn't have this requirement. This is because ",r.a.createElement(Tt,{text:"isPending"})," depends on the state of the children, while ",r.a.createElement(Tt,{text:"pending"})," doesn't."),r.a.createElement("p",null,"Even if methods are also objects, they are not considered child objects, because functions can be called as methods of objects even without being own or inherited methods. Pending methods can be seen as pending operations, while pending objects can be seen as trees of objects that have pending operations connected to them."),r.a.createElement("p",null,"Why is it important to mark the roots? Since the pending state of an object depends on the state of its child objects, whenever the state of an object is updated, the upstream of the tree needs to be updated as well. Therefore we need to somehow hold a reference to the upstream, so we mark the roots. But at some point we may want to stop managing a tree of objects. For this purpose, we could imagine that an alternative to holding references to the roots would have been for each object to hold references to its parents and rely on garbage collection, by ensuring that there are no other references to any object in the tree. However, if an object is shared by trees A and B, and we wanted tree A to be garbage collected, it could not be gc-ed because tree B would continue to reference one of tree A's objects. Even if we used weak references or if weak sets were iterable there would have still been cases where manually setting the bindings to null was needed. For instance if the root of a tree is exported by a module, unless that binding's value is changed from inside the module, the object cannot be garbage collected because later on it's possible that the module is imported again, and since modules are singletons, the same instance must be exported. An even more daunting example is a default export (with the local name ",r.a.createElement(Tt,{text:"*default*"}),", meaning that it can't be referenced directly from inside the module) whose value is a plain old object, because it cannot be changed from inside the module (meaning that the object in this case can never be garbage collected). Therefore if we want to stop managing a tree of objects, we need a mechanism for this: ",r.a.createElement(Tt,{text:"unroot()"}),". We must always call this function when we're done with a tree. Of course, we can unroot a tree even if we don't care about garbage collection, but simply don't want to manage the tree anymore. But couldn't we manage all the objects by default, without marking them as roots, and unroot them when we want to stop managing them? Sure, but what should happen when a parent is unrooted, should the children continue to be managed? They shouldn't (and they don't) because then unmanaging a tree of objects would require to explicitly unroot every object in the tree. So, when we unroot an object, the entire tree becomes unmanaged. There is also the case where we want an object to continue to be managed even when all the trees that it's part of are unrooted. In this case we can simply root the object, because unrooting a parent only stops managing the parent and normal observed child objects, not root child objects. So, instead of three kinds of managed objects: implicit roots, normal observed objects and explicit roots, it's better to have only two: explicit roots and normal observed objects. Also, since we can move objects around, it's easier to identify the roots by reading the code if they are explicitly marked as such or if we have conventional points in the code for rooting and unrooting (as we do with the ",r.a.createElement(et,{to:"/router"},"router"),"). (It might be worth pointing out that if a root is referenced only by its child observed descendants, then if the children are garbage collected, then the root is garbage collected as well and it doesn't need to be unrooted anymore just to prevent leaks.)"),r.a.createElement("h4",{id:"example"},"Example"),r.a.createElement("p",null,"Let's look at a simple example. For the sake of simplicity, we're not using a router and we're just importing the controller in the page component (which is not recommended)."),"js/controller/test-controller.js",r.a.createElement(xt,{text:"\n    import {root, observe} from 'crizmas-mvc';\n\n    export default root({\n      child: observe({\n        childOperation() {\n          return {\n            then(resolve) {\n              setTimeout(resolve, 1000);\n            }\n          };\n        }\n      }),\n\n      firstOperation() {\n        return new Promise(resolve => {\n          setTimeout(resolve, 2000);\n        });\n      },\n\n      secondOperation() {\n        return new Promise(resolve => {\n          setTimeout(resolve, 4000);\n        });\n      }\n    });\n  "}),"js/components/test-page.jsx",r.a.createElement(xt,{text:"\n    import React from 'react';\n\n    import controller from 'js/controllers/test-controller';\n\n    export default () => <div>\n      {controller.isPending && <div>An operation is pending.</div>}\n\n      {controller.pending.has('secondOperation') && <div>The second operation is special, so while\n        it's pending we're displaying this text.</div>}\n\n      {controller.child.isPending && <div>Child is pending.</div>}\n\n      <button onClick={() => controller.firstOperation()}\n        disabled={controller.isPending}>first operation</button>\n      <button onClick={() => controller.secondOperation()}\n        disabled={controller.isPending}>second operation</button>\n      <button onClick={() => controller.child.childOperation()}\n        disabled={controller.isPending}>child operation</button>\n      <button onClick={controller.firstOperation}\n        disabled={controller.isPending}>wrong operation call</button>\n    </div>;\n  "}),"js/main.js",r.a.createElement(xt,{text:"\n    import Mvc from 'crizmas-mvc';\n\n    import TestPage from 'js/components/test-page';\n\n    new Mvc({\n      domElement: document.querySelector('#app'),\n      component: TestPage\n    });\n  "}),r.a.createElement("p",null,"So, here we have an observed object with a child observed object. Note how the object is pending whenever one of its methods or its child object is pending. Also note that because the fourth button doesn't call ",r.a.createElement(Tt,{text:"firstOperation"})," as a method of the object, it doesn't have any effect on the async state of the object."),r.a.createElement("h4",{id:"optimizations"},"Optimizations"),r.a.createElement("p",null,"The observation instrument also does some optimizations:"),r.a.createElement(xt,{text:"\n    import {controller} from 'crizmas-mvc';\n\n    const ctrl = controller({\n      cachedPromise: null,\n\n      syncMethod1() {\n        this.syncMethod2();\n      },\n\n      syncMethod2() {\n        // ...\n      },\n\n      asyncMethod1() {\n        return asyncMethod2();\n      },\n\n      asyncMethod2() {\n        return new Promise(resolve => {\n          // ...\n        });\n      },\n\n      asyncMethod3() {\n        this.cachedPromise = new Promise(resolve => {\n          // ...\n        });\n\n        return this.cachedPromise;\n      },\n\n      asyncMethod4() {\n        return this.cachedPromise;\n      }\n    });\n  "}),r.a.createElement("p",null,"In this example, when ",r.a.createElement(Tt,{text:"syncMethod1"})," is called, the view is updated only once, even though both methods, ",r.a.createElement(Tt,{text:"syncMethod1"})," and ",r.a.createElement(Tt,{text:"syncMethod2"})," are observed. Also when ",r.a.createElement(Tt,{text:"asyncMethod1"})," is called, the view is updated only once, and when the promise returned by it is settled, the view is still updated only once because ",r.a.createElement(Tt,{text:"asyncMethod1"})," and ",r.a.createElement(Tt,{text:"asyncMethod2"})," return the same promise."),r.a.createElement("p",null,"To be more precise, the promise that they return is not really the promise that is created in ",r.a.createElement(Tt,{text:"asyncMethod2"})," because in order to trigger the notification, the promise must be wrapped in another promise that results from the original promise's reaction that handles the observation mechanism. Also, an observed function is not really the original function, but a proxy. This proxy, however, has a high degree of transparency, which means that if you interact with it, for instance, by setting a property, the property will be set on the original function (which is the proxy's target). However, if you observe a function, and later you observe the same (initial) function again, the two resulted functions are identical. Or if you observe an already observed function, the result is the already observed function. An observed object is the same value as the original object. Basically its methods are replaced with the observed ones. If you want to add a new method to an observed object, after you observed the object, and observe the method, you must reobserve the object so that the new method is observed. Or you can just add the already observed function as a method."),r.a.createElement("p",null,"What happens when ",r.a.createElement(Tt,{text:"asyncMethod4"})," is called depends on the state of the cached promise. If it hasn't been settled yet, when it is settled, the view is updated only once. However, if it has already been settled, which implies that the view has already been updated, it's going to be wrapped again and the view will be updated again, once the promise's reactions are triggered. This is important because the reactions associated with an already settled promise are triggered in a subsequent job (or in the next tick), so between the method call and the reaction execution, the object must be marked as pending (and potentially reflected in the view as such)."),r.a.createElement(xt,{text:"\n    import {observe} from 'crizmas-mvc';\n\n    const promise = Promise.resolve();\n    let promiseResult;\n\n    const observedPromise = observe(observe(observe(\n      promise.then(result => {\n        promiseResult = result;\n      });\n    )));\n\n    setTimeout(() => {\n      observe(observedPromise);\n    }, 2000);\n  "}),r.a.createElement("p",null,"In this example, even if we call ",r.a.createElement(Tt,{text:"observe"})," three times, the promise is observed a single time. It is important that it's observed because the reaction from which the promise resulted may have a side effect that should be reflected in the view. However, later when we try to observe it again, it will not be observed, because it cannot have any other side effects and since it's not associated with the asynchronous state of an observed object, the promise becomes completely irrelevant."),r.a.createElement("h4",{id:"ignoring"},"Ignoring"),r.a.createElement("p",null,"It is also possible for a controller to have a getter function. A function that doesn't have side effects but does a small computation typically for rendering the result. Even though it's possible to use getters (accessor properties) because they are not observed, we must also be able to use functions for this purpose. But since the methods of a controller are observed, we would end up calling functions that would notify and update the view in the middle of the notification process. Therefore we provide the ",r.a.createElement(Tt,{text:"ignore()"})," mechanism to prevent values from being observed. It can be used with functions, objects or promises (and thenables). An observed function that returns an ignored promise can still be pending in relation to an observed object."),r.a.createElement("h4",{id:"big-models"},"Big models"),r.a.createElement("p",null,"In a web application it's likely that the controller has access to a model and the model is the value of a property of the controller, in order to access the model through the controller in the view. We assume that the controller is defined using ",r.a.createElement(Tt,{text:"controller()"}),", which means that it's an observed object. Often the model data must be fetched from the server, which means that it's likely that the controller is observed before the model is set to one of its properties. However, this isn't always the case. For instance, it's possible that some controller composition is implemented and one of the controller constructors receives the model as an argument when instantiated and then it sets the model to one of the resulted object's properties. When observing an object, all its non-function data properties are checked to find child observed objects and this verification is done any number of levels deep, until all the keys are checked. While typically controllers are small enough to not care about traversing a huge tree of objects, it's likely that some models are big. In order to prevent the traversal of big child objects, the properties can be defined as getters (accessor properties) instead of normal data properties."),r.a.createElement("h4",{id:"observing-proxies"},"Observing proxies"),r.a.createElement("p",null,"When observing proxies care must be taken. When we're observing an object (including functions), we're checking if the ",r.a.createElement(Tt,{text:"isPending"})," and ",r.a.createElement(Tt,{text:"pending"})," properties already exist. If they do, an error is thrown. Therefore, in the case of proxies, if we're successfully setting the properties on the observed object, and later we're checking them again on the proxy target (assuming that the observed object is a proxy) or on the proxy for which the observed object represents the target, we're throwing the error in case the properties are reported as existing. In particular, if we observe a proxy whose target is a traditional function that has its default properties, we get an error because the prototype property and the prototype's constructor property will also be observed. Since the constructor is the same as the proxy's target, both the proxy and the target are observed. In case of an arrow function, for instance, by default there will be no such issue since the arrow function will not have a prototype property. There are two ways to avoid this issue. 1) Make sure that either the proxy or the target are observed and not both. 2) Or, if both must be observed, make sure that the proxy is lying about the existance of its pending state related properties or that it doesn't define them on the target as well, when the proxy is observed (which is possible because the properties will be configurable)."),r.a.createElement("p",null,"A proxy and its target shouldn't share the pending state related properties because they could be located in different managed trees and so the pending state of the trees could become corrupt."),r.a.createElement("h4",{id:"unsynchronized-interleaved-rendering"},"Unsynchronized interleaved rendering"),r.a.createElement("p",null,"Say we have the following observed async function:"),r.a.createElement(xt,{text:"\n    observe(async () => {\n      updateSomeState(await observedAsyncOperation());\n\n      ctrl.someOtherState = new ObservedConstructor();\n    });\n  "}),r.a.createElement("p",null,"in which ",r.a.createElement(Tt,{text:"observedAsyncOperation"})," and ",r.a.createElement(Tt,{text:"ObservedConstructor"})," are observed functions. This kind of cases can lead to unsynchronized state in relation to the rendering process, in the context of async operations, depending on how we are using that state in the view. After ",r.a.createElement(Tt,{text:"observedAsyncOperation"})," is awaited, ",r.a.createElement(Tt,{text:"updateSomeState"})," will update state A, and the assignment that follows updates ",r.a.createElement(Tt,{text:"someOtherState"}),", which we'll call state B. Since state A and state B are updated synchronously one after the other, we may be tempted to check in the view if state A was updated and, if it was, do something with state B. The issue here is that, even if ",r.a.createElement(Tt,{text:"updateSomeState"})," is not an observed function, ",r.a.createElement(Tt,{text:"ObservedConstructor"})," is observed and it causes rerendering after state A was updated but before state B is updated and this can lead to an error that occurs in the view. Note that if the function in which state A and state B are updated wasn't async, there would be no issues, since the synchronous wrapper ensures that rerendering happens only once and only after the entire operation finished. But since we're in an async function we can not detect when each await step finishes and so after each await step, each observed operation that is not wrapped by another observed operation is independent from the rest of observed operations with respect to rendering. There are a few ways to deal with this."),r.a.createElement("p",null,"The simplest approach, if possible, is to check in the view if the entire async operation is pending instead of checking only if state A was updated, assuming that the async observed function is a controller method for instance. This way, state A and state B will be used only after the entire operation finishes."),r.a.createElement("p",null,"If we don't want to do that, for instance if we have multiple await steps in the async function and we don't want to wait for all of them, but we want the intermediary related state updates to be reflected in the view as soon as possible, we can wrap those asynchronous state updates in an observed boundary, which could be for instance an observed method of the controller:"),r.a.createElement(xt,{text:"\n    const ctrl = controller({\n      doAsyncStuff: async () => {\n        updateAllRelatedState(await observedAsyncOperation());\n      },\n\n      updateAllRelatedState: (result) => {\n        updateSomeState(result);\n\n        ctrl.someOtherState = new ObservedConstructor();\n      }\n    });\n  "}),r.a.createElement("p",null,"However this requires creating a new observed function, which in this example is a public method, and we may not want to expose it. A simpler way of achieving the same result would be:"),r.a.createElement(xt,{text:"\n    observe(async () => {\n      const result = await observedAsyncOperation();\n\n      apply(() => {\n        updateSomeState(result);\n\n        ctrl.someOtherState = new ObservedConstructor();\n      });\n    });\n  "}),r.a.createElement("p",null,"And there is also the case that ",r.a.createElement(Tt,{text:"observedAsyncOperation"})," itself updates some state and we want that state to be synchronized with state A and state B in relation to rendering and in that case we simply have to reorganize the code to make sure that such related state is updated synchronously inside an observed boundary. Or, in case we have multiple await steps in a bigger async function, split it in multiple observed async functions, while keeping the related state udpates in one of them and check in the view if that child async operation is pending. (We can do this even without exposing a public async function, by using ",r.a.createElement(Tt,{text:"apply"})," with the controller and a custom key). Or, simply, do multiple checks in the view (for state A, state B and whatever other state we're interested in)."),r.a.createElement("p",null,"Head over to the ",r.a.createElement(et,{to:"/api"},"API")," section for more details about how to use the framework."))},{path:"api",component:()=>r.a.createElement("div",null,r.a.createElement("h2",{id:"introduction"},"API"),r.a.createElement("p",null,"Make sure you check the ",r.a.createElement(et,{to:"/getting-started"},"getting started")," and ",r.a.createElement(et,{to:"/theory"},"theory")," sections before jumping into API details."),r.a.createElement(Pt,{id:"Mvc",text:"\n      import Mvc from 'crizmas-mvc';\n\n      const mvc = new Mvc({\n        router: new Router({routes: []}),\n        component: ReactComponent, // or element: <ReactComponent />\n        domElement: document.querySelector('#app')\n      });\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Creates a new mvc instance."),r.a.createElement("li",null,"The router is optional, but recommended, because it also takes care of rooting and unrooting."),r.a.createElement("li",null,"A layout can be provided as component or element. It receives the router as a prop. (Therefore things like react-router are supported.)"),r.a.createElement("li",null,"The element and component are also optional, but if the router is not provided, one of them must be provided."),r.a.createElement("li",null,"The router is passed on the React context.")),r.a.createElement(Pt,{id:"mvc.mount",text:"mvc.mount()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is called when the mvc instance is created."),r.a.createElement("li",null,"Mounts the router, if one was passed."),r.a.createElement("li",null,"Can be used to remount an unmounted mvc instance.")),r.a.createElement(Pt,{id:"mvc.unmount",text:"mvc.unmount()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Unmounts an mvc instance that can later be remounted."),r.a.createElement("li",null,"Unmounts the router, if one was passed."),r.a.createElement("li",null,"It calls ",r.a.createElement(Tt,{text:"ReactDOM.unmountComponentAtNode"}))),r.a.createElement(Pt,{id:"mvc.isMounted",text:"mvc.isMounted"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"It's true if the mvc instance is mounted.")),r.a.createElement(Pt,{id:"controller",text:"\n      import {controller} from 'crizmas-mvc';\n\n      const ctrl = controller(value);\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The value can be either a non-promise object or a function."),r.a.createElement("li",null,"If the value is a function that is not already observed, the resulted function can only be constructed."),r.a.createElement("li",null,"Returns the observed value.")),r.a.createElement(Pt,{id:"observe",text:"\n      import {observe} from 'crizmas-mvc';\n\n      observe(value, {key, preventApply});\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Causes the value to be observed if it's a function or an object (including promises and thenables)."),r.a.createElement("li",null,"The second argument is optional."),r.a.createElement("li",null,"If the value is a function, the key will become the associated key."),r.a.createElement("li",null,"If the value is already observed, if since the last observation it was adorned with new methods or if the function's prototype has new methods, they will be observed."),r.a.createElement("li",null,"The associated key of an observed function cannot be changed."),r.a.createElement("li",null,"If preventApply is true and the value is a function that is not already observed, the resulted function can only be constructed."),r.a.createElement("li",null,"Returns the observed value or the original value if it cannot be observed.")),r.a.createElement(Pt,{id:"object.pending",text:"observedObject.pending.has(key)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Returns true as long as there is a pending function in relation to the object, whose associated key is ",r.a.createElement(Tt,{text:"key"}),"."),r.a.createElement("li",null,"The observed object can be a function.")),r.a.createElement(Pt,{id:"object.isPending",text:"observedObject.isPending"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Is true as long as there is a pending function in relation to the object or as long as one of the object's child observed objects is pending."),r.a.createElement("li",null,"The observed object can be a function."),r.a.createElement("li",null,"The object must be managed (must be part of an observed tree), otherwise ",r.a.createElement(Tt,{text:"isPending"})," is not managed.")),r.a.createElement(Pt,{id:"ignore",text:"\n      import {ignore} from 'crizmas-mvc';\n\n      ignore(value);\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Ignores the value in order to prevent it from being observed."),r.a.createElement("li",null,"Observed promises are automatically ignored."),r.a.createElement("li",null,"When an ignored promise is returned by a pending method it is still observed because the pending state of the object can change."),r.a.createElement("li",null,"When an ignored promise is returned by an observed constructor it is still observed for several reasons. For instance, if it's fulfilled with an object, that object must be observed, which is a side effect."),r.a.createElement("li",null,"If the value is an already observed non-promise object or function it throws an error."),r.a.createElement("li",null,"Returns the value.")),r.a.createElement(Pt,{id:"root",text:"\n      import {root} from 'crizmas-mvc';\n\n      root(value);\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The value can be either a non-promise object or a function."),r.a.createElement("li",null,"If the value is not observed, it's first observed."),r.a.createElement("li",null,"If the value is an object, it's marked as a root."),r.a.createElement("li",null,"If the value is a function, when it's constructed, the resulted object is marked as root."),r.a.createElement("li",null,"If the value is a function that is not already observed, the resulted function can only be constructed."),r.a.createElement("li",null,"Returns the observed value.")),r.a.createElement(Pt,{id:"unroot",text:"\n      import {unroot} from 'crizmas-mvc';\n\n      unroot(value);\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"If the value is a root, it's unmarked."),r.a.createElement("li",null,"If the value is a rooting function, it stops being a rooting function."),r.a.createElement("li",null,"If the object's ",r.a.createElement(Tt,{text:"isPending"})," prop is true, it's still managed until it becomes false, and after that it stops being managed.")),r.a.createElement(Pt,{id:"apply",text:"\n      import {apply} from 'crizmas-mvc';\n\n      apply(func, thisArg, args, {key});\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Useful if we want to observe a function call without creating an observed function, or if we want an observed object to be pending in relation to an operation with a custom key."),r.a.createElement("li",null,"Only the first argument is required."),r.a.createElement("li",null,"Calls the function with ",r.a.createElement(Tt,{text:"thisArg"})," as the ",r.a.createElement(Tt,{text:"this"})," value, passing the arguments."),r.a.createElement("li",null,"Behaves as if ",r.a.createElement(Tt,{text:"func"})," was an observed function, but without actually observing the function, meaning that after the call the function is not an observed function (assuming that prior to the call it wasn't an observed function)."),r.a.createElement("li",null,"If ",r.a.createElement(Tt,{text:"thisArg"})," is an observed object and the function returns a promise, the observed object will be pending in relation to the provided key."),r.a.createElement("li",null,"If the function is an already observed function and has a different key and ",r.a.createElement(Tt,{text:"thisArg"})," is an observed object and the function returns a promise, the object will be pending in relation to both the keys.")),r.a.createElement(Pt,{id:"construct",text:"\n      import {construct} from 'crizmas-mvc';\n\n      const obj = construct(constructor, args, newTarget, {isRoot});\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Useful if we want to observe a function construction without creating an observed function."),r.a.createElement("li",null,"Only the first argument is required."),r.a.createElement("li",null,"Constructs the function with ",r.a.createElement(Tt,{text:"newTarget"})," as the ",r.a.createElement(Tt,{text:"new.target"})," value, passing the arguments."),r.a.createElement("li",null,"Behaves as if ",r.a.createElement(Tt,{text:"constructor"})," was an observed function, but without actually observing the function, meaning that after the call the function is not an observed function (assuming that prior to the call it wasn't an observed function)."),r.a.createElement("li",null,"If ",r.a.createElement(Tt,{text:"isRoot"})," is true, it behaves as if the constructor was a root constructor.")),r.a.createElement(Pt,{id:"addObservedChild",text:"\n      import {addObservedChild} from 'crizmas-mvc';\n\n      addObservedChild(obj, child);\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Adds an observed object as the child of another observed object (in the mechanism of state management)."),r.a.createElement("li",null,"This doesn't have anything to do with the child being or not the value of one of the object's properties. There's no such requirement and this API doesn't automatically add it as a property.")),r.a.createElement(Pt,{id:"removeObservedChild",text:"\n      import {removeObservedChild} from 'crizmas-mvc';\n\n      removeObservedChild(obj, child);\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Removes an observed child from an observed object (in the mechanism of state management)."),r.a.createElement("li",null,"This doesn't have anything to do with the child being or not the value of one of the object's properties. There's no such requirement and this API doesn't automatically remove the property, if it exists.")),r.a.createElement(Pt,{id:"PromiseQueue",text:"\n      import {PromiseQueue} from 'crizmas-mvc';\n\n      const promiseQueue = new PromiseQueue({\n        done(value) {},\n\n        catch(err) {},\n\n        update(value) {}\n      });\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Creates a new promiseQueue instance."),r.a.createElement("li",null,"The object argument is optional."),r.a.createElement("li",null,"The promise queue is a queue of promises that allows us to discard previous pending promises when we have a new promise that we're interested in."),r.a.createElement("li",null,"If a previous promise is fulfilled before the last promise is settled, the update callback is called, unless there was a promise that was added afterwards and was settled before."),r.a.createElement("li",null,"If a previous promise is rejected before the last promise is settled, the catch callback is called and the queue promise is rejected."),r.a.createElement("li",null,"If all goes well, when the last promise is settled, the queue promise is settled and matches the last promise's state."),r.a.createElement("li",null,"If the queue promise is fulfilled, the done callback is called, otherwise the catch callback is called."),r.a.createElement("li",null,"The promise queue can be used for things like searches that discard previous searches when a filter value is changed.")),r.a.createElement(Pt,{id:"promiseQueue.add",text:"promiseQueue.add(promise)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The add method receives a promise and returns a promise (the queue promise) that will match the state of the last promise that was added."),r.a.createElement("li",null,"If the add method is called again before the queue promise is settled the new promise becomes the last promise and the add method returns the same queue promise."),r.a.createElement("li",null,"If the add method is called again after the queue promise was settled a new queue promise is created.")),r.a.createElement(Pt,{id:"Cancellation",text:"\n      import {Cancellation} from 'crizmas-mvc';\n\n      const cancellation = new Cancellation();\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Creates a new cancellation instance."),r.a.createElement("li",null,"The cancellation mechanism can be used in case we decide to ignore the result of an async operation at some point."),r.a.createElement("li",null,"The same cancellation object can be used with as many async operations as we want.")),r.a.createElement(Pt,{id:"cancellation.signal",text:"\n      cancellation.signal.onabort = () => {\n        console.log('aborted'); // this is called when the cancel method is called\n      };\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The cancellation object has an ",r.a.createElement(Tt,{text:"signal"})," field whose value is a standard ",r.a.createElement(Tt,{text:"AbortSignal"})," object."),r.a.createElement("li",null,"This can be used to send a signal to the source of the async operation promise that we are not interested in the operation anymore."),r.a.createElement("li",null,"This can be used together with the standard ",r.a.createElement(Tt,{text:"fetch"})," API to abort requests to servers."),r.a.createElement("li",null,"We can check if the cancellation was triggered by adding event handlers on the signal object and by checking its ",r.a.createElement(Tt,{text:"aborted"})," property.")),r.a.createElement(Pt,{id:"cancellation.cancellable",text:"\n      cancellation.cancellable(asyncOperationThatReturnsAPromise()).catch((reason) => {\n        console.log(reason.isCancellation); // true\n        console.log(reason.message); // 'testing cancellation'\n      });\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The ",r.a.createElement(Tt,{text:"cancellable"})," method is used to mark the async operation as cancellable and its resulted promise will be rejected with the cancellation reason, in case the cancellation is riggered before the async operation finished."),r.a.createElement("li",null,"If the async operation finishes before the cancellation is triggered, then the cancellable promise is settled with the result of the async operation.")),r.a.createElement(Pt,{id:"cancellation.cancel",text:"\n      const cancellationPromise = cancellation.cancel('testing cancellation');\n\n      cancellationPromise.catch((reason) => {\n        console.log(reason.isCancellation); // true\n        console.log(reason.message); // 'testing cancellation'\n      });\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Cancels the async operation and returns the cancellation promise."),r.a.createElement("li",null,"We can also use the cancellation promise to check if the cancellation was triggered."),r.a.createElement("li",null,"The cancellation promise is always rejected with the cancellation reason."),r.a.createElement("li",null,"The cancellation reason is an object with an ",r.a.createElement(Tt,{text:"isCancellation"})," property whose value is true and with a ",r.a.createElement(Tt,{text:"message"})," property whose value will be whatever was passed to the ",r.a.createElement(Tt,{text:"cancel"})," method.")))},{path:"router",children:[{component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(rt,{text:"crizmas-router"})," - Getting started"),r.a.createElement("p",null,"Assuming that you've already installed ",r.a.createElement(rt,null)," and its dependencies, proceed with:"),r.a.createElement(xt,{text:"\n    npm i crizmas-router\n  "}),r.a.createElement("h4",null,"Example"),r.a.createElement("div",null,"js/main.js",r.a.createElement(xt,{text:"\n      import Mvc from 'crizmas-mvc';\n      import Router from 'crizmas-router';\n\n      import Layout from 'js/components/layout';\n      import NotFound from 'js/components/not-found';\n      import HomePage from 'js/components/home-page';\n      import FlowersPage from 'js/components/flowers-page';\n      import FlowersController from 'js/controllers/flowers-controller';\n\n      new Mvc({\n        domElement: document.querySelector('#app'),\n        component: Layout,\n        router: new Router({\n          routes: [\n            {\n              path: 'home',\n              component: HomePage\n            },\n            {\n              path: 'flowers',\n              component: FlowersPage,\n              controller: FlowersController\n            },\n            {\n              path: '*',\n              component: NotFound\n            }\n          ]\n        })\n      });\n    "})),r.a.createElement("div",null,"js/components/layout.jsx",r.a.createElement(xt,{text:"\n      import React from 'react';\n      import PropTypes from 'prop-types';\n\n      const Layout = ({children}) => <div>\n        <h1>This is a simple router example.</h1>\n        <div>{children}</div>\n      </div>;\n\n      Layout.propTypes = {\n        children: PropTypes.any\n      };\n\n      export default Layout;\n    "})),r.a.createElement("div",null,"js/components/home-page.jsx",r.a.createElement(xt,{text:"\n      import React from 'react';\n      import {Link} from 'crizmas-router';\n\n      export default () => <div>\n        <h2>This is the home page</h2>\n        <div>Go to the <Link to=\"/flowers\">flowers</Link> page.</div>\n      </div>;\n    "})),r.a.createElement("div",null,"js/controllers/flowers-controller.js",r.a.createElement(xt,{text:"\n      import {controller} from 'crizmas-mvc';\n\n      export default controller(class FlowersController {\n        constructor() {\n          this.count = 0;\n        }\n\n        onEnter() {\n          alert('Entering the flowers page');\n        }\n\n        onLeave() {\n          alert('Leaving the flowers page');\n        }\n\n        increaseCount() {\n          this.count += 1;\n        }\n      });\n    "})),r.a.createElement("div",null,"js/components/flowers-page.jsx",r.a.createElement(xt,{text:"\n      import React, {Component} from 'react';\n      import PropTypes from 'prop-types';\n      import {Link} from 'crizmas-router';\n\n      class FlowersPage extends Component {\n        constructor() {\n          super();\n\n          this.click = () => {\n            this.props.controller.increaseCount();\n          };\n        }\n\n        render() {\n          return <div>\n            <h2>This is the flowers page</h2>\n            <div>\n              <button onClick={this.click}>Click to increase the flowers count</button>\n              <div>Flowers count: {this.props.controller.count}</div>\n            </div>\n            <div>Go to the <Link to=\"/home\">home</Link> page.</div>\n          </div>;\n        }\n      }\n\n      FlowersPage.propTypes = {\n        controller: PropTypes.object.isRequired\n      };\n\n      export default FlowersPage;\n    "})),r.a.createElement("div",null,"js/components/not-found.jsx",r.a.createElement(xt,{text:"\n      import React from 'react';\n      import {Link} from 'crizmas-router';\n\n      export default () => <div>\n        <div>Page not found.</div>\n        <div>Go to the <Link to=\"/home\">home</Link> page.</div>\n      </div>;\n    "})),r.a.createElement("p",null,"Head over to the ",r.a.createElement(et,{to:"/router/theory"},"theory")," and ",r.a.createElement(et,{to:"/router/api"},"API")," sections for more advanced features and more details."))},{path:"theory",component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(rt,{text:"crizmas-router"})," - Theory"),r.a.createElement("h4",{id:"the-router"},"The router"),r.a.createElement("p",null,"The router helps us react to url changes. More exactely, it allows us to react to each url fragment. The router is based on a configuration like this:"),r.a.createElement(xt,{text:"\n    new Router({\n      routes: [\n        {\n          controller: AppController,\n          children: [\n            {\n              component: Home // empty path\n            },\n            {\n              path: 'todos',\n              component: Todos,\n              children: [\n                {\n                  component: TodosList\n                },\n                {\n                  path: ':todoId', // param path\n                  controller: TodoController,\n                  component: Todo,\n                  children: [\n                    {\n                      path: 'edit',\n                      controller: TodoEditController,\n                      component: TodoEdit\n                    },\n                    {\n                      path: '^(remove)|(delete)$', // regexp path\n                      controller: TodoDeleteController,\n                      component: TodoDelete // a weird view with a delete button\n                    }\n                  ]\n                }\n              ]\n            },\n            {\n              path: '*', // fallback path\n              component: TodoActionFallback\n            }\n          ]\n        }\n      ]\n    });\n  "}),r.a.createElement("p",null,"The objects in the router configuration are called input route fragments. When successfully matching a url based on the router configuration, a list of route fragments results. A route fragment represents an input route fragment that typically (but not necessarily) matches a url fragment. For instance, if the current url was ",r.a.createElement(Tt,{text:"/todos"}),", the list of route fragments would be:"),r.a.createElement(xt,{text:"\n    [\n      {\n        path: '',\n        controller: AppController\n      },\n      {\n        path: 'todos',\n        component: Todos\n      },\n      {\n        path: '',\n        component: TodosList\n      }\n    ]\n  "}),r.a.createElement("p",null,"These three route fragments correspond to the first input route fragment in the configuration (with the AppController controller), its second child input route fragment (with the 'todos' path) and its first grandchild (with the TodosList component). The route fragment with the 'todos' path and the one with the TodosList component would also have a ",r.a.createElement(Tt,{text:"parent"})," property that would point to the previous route fragment in the list. This list of route fragments represents a road from a top level input route fragment, to an input route fragment with a component, that successfully matched the url."),r.a.createElement("h4",{id:"input-route-fragments-paths"},"Input route fragments paths"),r.a.createElement("p",null,"There are multiple kinds of paths that input route fragments may have. First, it can be undefined (or the property can simply miss from the configuration). An undefined path is equivalent to an empty string path (empty path). The path can also be a non-empty string of characters (except the / character). This would be a simple path. An input route fragment may instead have a compound path made of multiple simple paths separated by /. A path that consists only of / is equivalent to an empty path. Adjacent / characters are equivalent to a single /. The path can also be *. This is called a fallback path. An input route fragment may also have a param path, if the path starts with : and the rest of it are characters that are part of the \\w regular expression class. Finally, a path can start with ^ and end with $, in which case it's a regexp path. A compound path can also be made of param, regexp or fallback parts. Two input route fragments can implicitly refer to the same thing:"),r.a.createElement(xt,{text:"\n    new Router({\n      routes: [\n        {\n          path: 'a',\n          children: [\n            {\n              path: 'b',\n              component: () => false\n            }\n          ]\n        },\n        {\n          path: 'a/b/c',\n          component: () => false\n        }\n      ]\n    });\n  "}),r.a.createElement("p",null,"In this example the input route fragment with path 'a/b/c' basically says that the input route fragment with path 'b' has a child with path 'c'. Care must be taken when using empty paths:"),r.a.createElement(xt,{text:"\n    new Router({\n      routes: [\n        {\n          component: App,\n          children: [\n            {\n              path: 'x',\n              component: () => false\n            }\n          ]\n        },\n        {\n          path: 'x/y',\n          component: () => false\n        }\n      ]\n    });\n  "}),r.a.createElement("p",null,"In this example the input route fragment with path 'x/y' doesn't create a grandchild for the input route fragment with component App; instead, it creates a new top level input route fragment with path 'x' (sibling of the fragment with component App) and a child for it with path 'y'. This means that compound paths can not refer to input route fragments with empty paths."),r.a.createElement("h4",{id:"input-route-fragments"},"Input route fragments"),r.a.createElement("p",null,"An input route fragment can contain a path, a component, a controller, a resolve function, an isCaseInsensitive option and children. An input route fragment must have at least either a component (if it has the role of displaying something) or child input route fragments. If an input route fragment only has children, it must also either represent an actual path fragment (can not be empty) or have a controller, otherwise it would be useless. This way we can see that a route fragment with an empty path can also be useful, for instance if it's meant to be used as a layout for the child route fragments, or if it's used as a default child route fragment (if it has a component), or if it has a controller as an intermedium between the top level route fragment and the child route fragments. The end of a matching road must always have a component. A fallback input route fragment cannot have children."),r.a.createElement("h4",{id:"route-fragments"},"Route fragments"),r.a.createElement("p",null,"While input route framgents are just for configuration, route fragments are objects that are created during the matching process and which we can directly use in our application. A route fragment contains a path wich is the url fragment that it matched, or an empty string in case it didn't match a url fragment. It also contains an abstractPath, which is the path of the corresponding input route fragment. A parent property that points to the previous route fragment in the list of route fragments resulted from the matching process. A component which is the component from the input route fragment. A controller from the input route fragment. A controller object that is either the controller, in case the controller is an object, or an object that is created by calling the controller as a constructor. A router property which is the router instance that was used to create the route fragment. A canCaseVary property which is true if the isCaseInsensitive option from the input route fragment is true. This property can also be true even if the isCaseInsensitive option is absent in the input route fragment, in case it's present as a router option and it's true. In other words the isCaseInsensitive option at the input route fragment level overwrites the one at the router level. For param fragments, isCaseInsensitive is ignored, so canCaseVary is always false. If canCaseVary is true, it means that the route fragment can match over time paths that differ only by case. The path is updated every time the case of the matched path changes. The normalizedPath property is equal to the path if canCaseVary is false, and if canCaseVary is true, the normalizedPath will be the lowercase path. The urlPath will be a path made of all the paths of the previous route fragments and the route fragment's path itself separated by /. The urlPath will also be updated if the case differs over time. The normalizedUrlPath will be a path made of all the normalized paths of the previous route fragments and the route fragment's normalizedPath itself separated by /."),r.a.createElement("h4",{id:"matching"},"Matching"),r.a.createElement("p",null,"When matching a URL path, all the possible matching roads are verified and are given a score. The score is a string resulted from the concatenation of the scores of the matching input route fragments. It is possible to have more than one matching road, for instance if two input route fragment paths match a url fragment, and one of them is an exact match, while the other is a param match. The last input route fragment in the matching road has a component (otherwise there is no matching road). The highest score wins."),r.a.createElement("p",null,"There are five possible scores per input route fragment:"),r.a.createElement("ol",{className:"simple-list"},r.a.createElement("li",null,"exact match - score 3"),r.a.createElement("li",null,"param - score 2"),r.a.createElement("li",null,"regular expression - score 1"),r.a.createElement("li",null,"skipped match (if the path is the empty string) - score 0"),r.a.createElement("li",null,"fallback match (if the path is *) - no score")),r.a.createElement("p",null,"The result of the matching process is a list of route fragments. The path of a route fragment is either the url fragment that it matched or an empty path. If it's not empty it's usually a simple path with the exception of a fallback route fragment that can have a compound path (in case it matches a compound rest of a url). Matching is greedy, which means that in the matching process as many input route fragments as possible will be used. This means that route fragments with empty paths are automatically included in the result if their parent route fragment is included in the result (or if it doesn't have a parent). Param fragments, regexp fragments and fallback fragments can not be used for exact matching (e.g. a fallback fragment doesn't match a url fragment * with score '3', but with '')."),r.a.createElement("p",null,"In case the root of the app is served from a URL with a certain path, we can pass a base path to the router so that we don't need to add the prefix to all our links (when we use links that start with /)."),r.a.createElement(xt,{text:"\n    new Router({\n      basePath: 'base',\n      routes: [\n        {\n          controller: ctrl1,\n          children: [\n            {\n              path: 'x',\n              isCaseInsensitive: true,\n              controller: ctrl2,\n              children: [\n                {\n                  path: 'y',\n                  controller: ctrl3,\n                  component: () => false\n                }\n              ]\n            }\n          ]\n        },\n        {\n          path: 'x/y',\n          isCaseInsensitive: true,\n          controller: ctrl4,\n          component: () => false\n        },\n        {\n          path: 'x/:y',\n          controller: ctrl5,\n          component: () => false\n        },\n        {\n          path: '*',\n          controller: ctrl6,\n          component: () => false\n        }\n      ]\n    });\n  "}),r.a.createElement("p",null,"In the above example, if the url path was /base/x/y, the result would be:"),r.a.createElement(xt,{text:"\n    [\n      {\n        path: 'x',\n        urlPath: '/x',\n        normalizedPath: 'x',\n        normalizedUrlPath: '/x',\n        abstractPath: 'x',\n        canCaseVary: false,\n        parent: null\n        router: ...,\n        component: undefined,\n        controller: undefined,\n        controllerObject: null\n      },\n      {\n        path: 'y',\n        urlPath: '/x/y',\n        normalizedPath: 'y',\n        normalizedUrlPath: '/x/y',\n        abstractPath: 'y',\n        canCaseVary: true,\n        parent: ...,\n        router: ...,\n        component: () => false,\n        controller: ctrl4,\n        controllerObject: ...\n      }\n    ]\n  "}),r.a.createElement("p",null,"The matching score would be '33'. Other candidate scores would be '033', '32' and '' (for the fallback input route fragment). Since '33' is the biggest score, it wins."),r.a.createElement("p",null,"If the url path was /base/X/y (note the uppercase X), the result would be:"),r.a.createElement(xt,{text:"\n    [\n      {\n        path: '',\n        urlPath: '/',\n        normalizedPath: '',\n        normalizedUrlPath: '/',\n        abstractPath: '',\n        canCaseVary: false,\n        parent: null\n        router: ...,\n        component: undefined,\n        controller: ctrl1,\n        controllerObject: null\n      },\n      {\n        path: 'X',\n        urlPath: '/X',\n        normalizedPath: 'x',\n        normalizedUrlPath: '/x',\n        abstractPath: 'x',\n        canCaseVary: true,\n        parent: ...\n        router: ...,\n        component: undefined,\n        controller: ctrl2,\n        controllerObject: ...\n      },\n      {\n        path: 'y',\n        urlPath: '/X/y',\n        normalizedPath: 'y',\n        normalizedUrlPath: '/x/y',\n        abstractPath: 'y',\n        canCaseVary: false,\n        parent: ...,\n        router: ...,\n        component: () => false,\n        controller: ctrl3,\n        controllerObject: ...\n      }\n    ]\n  "}),r.a.createElement("p",null,"The matching score would be '033', becase of the isCaseInsensitive option. The other candidate score would be ''."),r.a.createElement("h4",{id:"transitioning"},"Transitioning"),r.a.createElement("p",null,"The transition process starts with the matching process. Before the best match is calculated, the input route fragments that are part of the candidate matching roads are resolved. See the ",r.a.createElement("a",{href:"#lazy-loading"},"Lazy loading")," section for more details regarding resolving input route fragments. Once an input route fragment is resolved, it will never be resolved again. Resolving the input route fragments in the matching process is needed because if an input route fragment is resolvable it's possible to configure a component for it at a later point in time, and it's mandatory for the ends of the matching roads to have a component."),r.a.createElement("p",null,"After matching, if the new route fragments are different from the existing route fragments, the existing route fragments are left and are replaced by the new route fragments, which are entered. The route fragments that are similar to the new route fragments, are not replaced (and are not left). From the first route fragment that is replaced onwards, the route fragments are replaced. If the new route fragment is case insensitive and differs from an existing route fragment only by the case, then it's kept. Once a route fragment is left, if in the future there is a similar match, there will be a new route fragment created (left route fragments are never reused)."),r.a.createElement("p",null,"Leaving/entering a route fragment involves a few steps. First, a route fragment can have a controller object associated. If the corresponding input route has a controller property, that route fragment will have the same controller property. This is typically an ",r.a.createElement(Tt,{text:"controller()"}),". If the controller is an object, the controller object will be that object. If the controller is a function, it will be called as a constructor in the first step of the entering process to obtain the controller object. The constructor can also return a promise that will be resolved with the controller object. If the controller object is an observed object, it's rooted. After the controller object is obtained, if it has an onEnter method, it will be called. The onEnter method can also return a promise. While entering the route fragment the optional promise returned by the controller constructor and the optional promise returned by the onEnter method are awaited. After these optional promises are settled, the route fragment is pushed to the router.currentRouteFragments array. At this point it is said that the route fragment is entered. Leaving is the same as entering, except that there is no constructor involved, and the controller method that is called is named onLeave. This can also return a promise that will be awaited in the leaving process. Afterwards, the route fragment is removed from the currentRouteFragments array. Once the list of route fragments that will be left and the list of route fragments that will be entered are calculated, the route fragments are processed one by one (each of which waits for the previous route fragment in case there is a promise involved). The route fragments in the currentRouteFragments array are left from end to start and the new route fragments are entered from start to end. Once a route fragment is left, its view is unmounted. Once a route fragment is entered, its view is mounted. The components of child route fragments are passed as children props to the parent React component. In order for child components to be displayed, the parent components must render the children props. Once a route fragment is left, if its controller object is an observed object, it's unrooted. If you want to reuse a rooted object as a root in some other places, make sure you make it a child object of the rooted controller object and not a controller object directly."),r.a.createElement(xt,{text:"\n    new Router({\n      routes: [\n        {\n          path: 'x',\n          isCaseInsensitive: true,\n          controller: {\n            onEnter() { console.log('enter x'); },\n            onLeave() { console.log('leave x'); }\n          },\n          children: [\n            {\n              path: ':y',\n              controller: {\n                onEnter({routeFragment}) { console.log(`enter y ${routeFragment.path}`); },\n                onLeave({routeFragment}) { console.log(`leave y ${routeFragment.path}`); }\n              },\n              component: () => false\n            }\n          ]\n        }\n      ]\n    });\n  "}),r.a.createElement("p",null,"Let's assume the current url path is /x/2, which means the current route fragments look as follows (not all the properties are displayed):"),r.a.createElement(xt,{text:"\n    [\n      {\n        path: 'x',\n        normalizedPath: 'x'\n        abstractPath: 'x',\n        canCaseVary: true\n      },\n      {\n        path: '2',\n        normalizedPath: 2,\n        abstractPath: ':y',\n        canCaseVary: false\n      }\n    ]\n  "}),r.a.createElement("p",null,"This means that the current output is:"),r.a.createElement(xt,{text:"\n    enter x\n    enter y 2\n  "}),r.a.createElement("p",null,"If the url path is now changed to /X/3, the output will be:"),r.a.createElement(xt,{text:"\n    leave y 2\n    enter y 3\n  "}),r.a.createElement("p",null,"Even if the case of the 'X' fragment changed, the first route fragment is not left. The current route fragments look like this:"),r.a.createElement(xt,{text:"\n    [\n      {\n        path: 'X',\n        normalizedPath: 'x'\n        abstractPath: 'x',\n        canCaseVary: true\n      },\n      {\n        path: '3',\n        normalizedPath: 3,\n        abstractPath: ':y',\n        canCaseVary: false\n      }\n    ]\n  "}),r.a.createElement("p",null,"The transition can also be interrupted. For instance, a route fragment can refuse to enter if its controller either returns false from its onEnter method or it returns a promise fulfilled with false. In this case, if the controller object is an observed object, it's unrooted right away. At this point the browser URL is also updated to match the last route fragment's urlPath. Similarly, a route fragment can refuse to leave. A transition can also be interrupted by initiating a new transition, either synchronously from a controller constructor or an onEnter or onLeave hook, or if the transition is asynchronous (it involves at least a promise), from outside a route fragment, for instance by clicking a new link in the view. While often an application displays an overlay while transitioning so that the transition can not be interrupted, the router must have a predictable and consistent behavior even when interruptions occur. Beside the controller constructor, the onEnter and onLeave hooks, there is another point in an asynchronous transition that allows for interruptions, namely when resolving input route fragments. After handling a transition, the router triggers a urlHandle event. However, since the router doesn't change its state (except for its isTransitioning property) while resolving input route fragments, if the transition is interrupted at that point the urlHandle event is not triggered. It is certain that the next transition will start after the current promise that is awaited in the current transition is settled (in other words the next transition is put on hold). If more transitions are initiated while the router is transitioning, only the last transition will happen."),r.a.createElement("p",null,r.a.createElement(Tt,{text:"router.isTransitioning"})," is true while a transition takes place."),r.a.createElement("p",null,"A transition can be made with a boolean replace option. If replace is true, the current entry in the browser history is replaced with the new URL. Note that if the browser URL is the same as the transition URL when the transition is initiated, there won't be a new entry in the history (and therefore, if the replace option is passed, the current entry will not be replaced). This option is especially useful when the URL is changed, but one of the route fragments refuses to leave/enter. If at this point the currentRouteFragment.urlPath is different from the current browser URL path, there will be a new transition initiated so that the browser URL is updated (to match the current state of the router). This means that a new entry in the history is created. However we might not want to keep the previous URL (for which the transition was interrupted) in the history. In this case, we can initiate a new transition from the onLeave/onEnter method of the route fragment that refused to leave/enter, with the currentRouteFragment.urlPath (which is the most recently entered route fragment) and pass the replace option. In other words, the transition for updating the browser URL (when a route fragment refuses to leave/enter and the currentRouteFragment.urlPath is different from the browser URL path) is initiated only if there is no other transition put on hold. Note that if the transition is interrupted by refusing to leave/enter and a new transition is initiated to update the browser URL, the same replace option that was used for the initial transition will be used. The refresh (see below) can also receive a replace option, but in that case it's only useful if during a transition there is a new transition initiated with a different URL, which is put on hold, and then there is a refresh. The refresh URL will be the current transition's URL, but if we want to replace the history entry for the transition that was put on hold, we have to use the replace option. However it's possible for multiple transitions to be initiated in between and so to have more entries in the history. The replace option can be used to replace a single entry in the history. This means that most of the time it would be wiser to display an overlay to prevent creating more entries in the history during an async transition by clicking multiple links."),r.a.createElement("h4",{id:"refresh"},"Refresh"),r.a.createElement("p",null,"The refresh is a special kind of transition. Both the router and route fragments have a refresh method. Refreshing needs a route fragment where the refresh starts. In case the router's method is used with no arguments, the refresh route fragment will be the first route fragment in the list of current route fragments. Refreshing means that a new transition occurs, with the current url of the router, in which the route fragments starting with the refresh route fragment are left (this still allows route fragments to refuse to leave/enter). This is different from a regular transition in that in a regular transition route fragments are kept (and not left) in case of a similar match."),r.a.createElement("h4",{id:"router-manager"},"Router manager"),r.a.createElement("p",null,"A router is also a router manager, meaning that it has methods for managing its input route fragments. This means that routes can be dynamically added, removed and listed at any point in time. In case of a refresh or transition with a similar url, if the input route fragment is removed, the corresponding route fragment that would have normally been reused (and the route fragments onwards) are left (but they can still refuse to leave)."),r.a.createElement("h4",{id:"lazy-loading"},"Lazy loading"),r.a.createElement("p",null,"Modern frameworks allow for code splitting so that parts of the code are downloaded on the client only when the user enters the route to which the code is relevant. The input route fragment can have a ",r.a.createElement(Tt,{text:"resolve"})," function used for configuring the input route fragment or its children asynchronously. The function must return a promise fulfilled with an object that can contain a component, a controller or an array of children configuration objects. A child configuration object must also contain the abstract path or a compound path, used to identify the child input route fragments."),r.a.createElement(xt,{text:"\n    new Router({\n      routes: [\n        {\n          path: 'x',\n          resolve: async () => ({\n            component: (await import('x-component.js')).default,\n            controller: (await import('x-controller.js')).default,\n            children: [\n              {\n                component: (await import('x-empty-path-child-component.js')).default\n              },\n              {\n                path: 'y/z',\n                component: (await import('z-component.js')).default\n              }\n            ]\n          }),\n          children: [\n            {\n              controller: {\n                onEnter() { console.log('entered child with empty path'); }\n              }\n            },\n            {\n              path: 'y',\n              children: [\n                {\n                  path: 'z'\n                }\n              ]\n            }\n          ]\n        }\n      ]\n    });\n  "}),r.a.createElement("p",null,"Note that in this case, because the matching is greedy, for url path /x, if the resolving process ends normally, the output will be 'entered child with empty path'."),r.a.createElement("h4",{id:"observed-controller-objects"},"Observed controller objects"),r.a.createElement("p",null,"If the controller is an observed constructor and we want to track the pending state of the resulted observed controller object and we want to initiate some pending operations when entering the route fragment, the recommended way of doing that is to initiate the operations in the onEnter method because the controller object becomes observed by default only after the constructor call has finished and therefore if the operations are initiated in the constructor call, the resulted object will not be pending. Since the onEnter method is called after the controller object is obtained, initiating pending operations in it has the expected effect. Another more verbose solution would be to observe the controller object (including its methods), explicitly in the constructor before initiating the pending operations."),r.a.createElement("h4",{id:"handling-async-errors"},"Handling async errors"),r.a.createElement("p",null,"In order to catch errors that are thrown during an async transition (caused for instance by an async route controller constructor, a resolve function, an async onEnter etc.) you can use the onAsyncError function and pass an error handler. You can use this as an opportunity to log the error. In this case the promises that are involved are considered handled (so there won't be any 'unhandledrejection' events) and the error is not propagated any further. Note that at this point the router is unstable (for instance router.isTransitioning remains true)."),r.a.createElement("p",null,"Head over to the ",r.a.createElement(et,{to:"/router/api"},"API")," section for more details."))},{path:"api",component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(rt,{text:"crizmas-router"})," - API"),r.a.createElement("p",null,"Make sure you check the ",r.a.createElement(et,{to:"/router"},"getting started")," and ",r.a.createElement(et,{to:"/router/theory"},"theory")," sections before jumping into API details."),r.a.createElement(Pt,{id:"Router",text:"\n      import Router from 'crizmas-router';\n\n      const router = new Router({\n        basePath: 'base-path',\n        isCaseInsensitive: true,\n        routes: [\n          {\n            path: 'home',\n            component: HomeComponent,\n            controller: HomeController,\n            children: [\n              {\n                path: 'child/grandchild',\n                resolve() {\n                  return Promise.resolve({\n                    component: ChildComponent\n                  });\n                }\n              }\n            ]\n          }\n        ]\n      });\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Creates a new router instance."),r.a.createElement("li",null,"The base path is optional. The links and the paths passed to ",r.a.createElement(et,{to:"#router.transitionTo"},"transitionTo")," will be automatically prefixed with it."),r.a.createElement("li",null,"The isCaseInsensitive property is optional and it defaults to false. It can be overwritten at an input route fragment level."),r.a.createElement("li",null,"The router is also a router manager for the top level of the configuration."),r.a.createElement("li",null,"The path is optional and defaults to the empty string."),r.a.createElement("li",null,"The path can be a compound path."),r.a.createElement("li",null,"If the path starts with a colon and the rest of the characters match the ",r.a.createElement(Tt,{text:"/\\w/"})," regular expression class, a param is created."),r.a.createElement("li",null,"If the path has a length greater than 2 and it starts with ",r.a.createElement(Tt,{text:"^"})," and ends with ",r.a.createElement(Tt,{text:"$"}),", then it will be used as a regexp when matching."),r.a.createElement("li",null,"The path can be ",r.a.createElement(Tt,{text:"*"})," in which case it matches anything."),r.a.createElement("li",null,"The controller is optional and can be an object or a function that is constructed to create the controller object, before the route fragment is entered."),r.a.createElement("li",null,"The controller function can return a promise that is fulfilled with the controller object."),r.a.createElement("li",null,"If the controller object is an observed object, it is rooted before the route fragment is entered and unrooted when the route fragment is left."),r.a.createElement("li",null,"The component is a React component. It's optional and it receives ",r.a.createElement(Tt,{text:"controller"})," and ",r.a.createElement(Tt,{text:"routeFragment"})," as props."),r.a.createElement("li",null,"An input route fragment must have either a component or children."),r.a.createElement("li",null,"An input route fragment with no component must have either a non-empty path or a controller."),r.a.createElement("li",null,"An input route fragment can have a resolve function that is used to update its configuration or its children's configuration. Check the ",r.a.createElement(et,{to:"/router/theory"},"theory")," for more details.")),r.a.createElement(Pt,{id:"controllerObject.onEnter",text:"\n    controllerObject.onEnter({ router, routeFragment });\n  "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The onEnter method is optional."),r.a.createElement("li",null,"It's called before the route fragment is entered."),r.a.createElement("li",null,"It can return a promise that is awaited before entering."),r.a.createElement("li",null,"If it returns false or the promise is fulfilled with false, the route fragment is not entered.")),r.a.createElement(Pt,{id:"controllerObject.onLeave",text:"\n    controllerObject.onLeave({ router, routeFragment });\n  "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The onLeave method is optional."),r.a.createElement("li",null,"It's called before the route fragment is left."),r.a.createElement("li",null,"It can return a promise that is awaited before leaving."),r.a.createElement("li",null,"If it returns false or the promise is fulfilled with false, the route fragment is not left.")),r.a.createElement(Pt,{id:"router.basePath",text:"router.basePath"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The router's base path.")),r.a.createElement(Pt,{id:"router.isCaseInsensitive",text:"router.isCaseInsensitive"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The router's isCaseInsensitive option.")),r.a.createElement(Pt,{id:"router.url",text:"router.url"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is a standard URL instance (",r.a.createElement(Tt,{text:"new URL()"}),") representing the current URL.")),r.a.createElement(Pt,{id:"router.params",text:"router.params"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is a standard URLSearchParams instance (",r.a.createElement(Tt,{text:"new URLSearchParams()"}),") representing the URL params resulted from param matching."),r.a.createElement("li",null,"The values are decoded using ",r.a.createElement(Tt,{text:"decodeURIComponent"}),".")),r.a.createElement(Pt,{id:"router.isTransitioning",text:"router.isTransitioning"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"It's true as long as there is a transition in progress.")),r.a.createElement(Pt,{id:"router.currentRouteFragment",text:"router.currentRouteFragment"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The current leaf route fragment."),r.a.createElement("li",null,"It's updated during the transition process as route fragments are left and entered.")),r.a.createElement(Pt,{id:"router.currentRouteFragments",text:"router.currentRouteFragments"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"An array of current route fragments, starting from the root to router.currentRouteFragment."),r.a.createElement("li",null,"It's updated during the transition process as route fragments are left and entered.")),r.a.createElement(Pt,{id:"router.targetRouteFragment",text:"router.targetRouteFragment"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The future leaf route fragment."),r.a.createElement("li",null,"It's set to ",r.a.createElement(Tt,{text:"null"})," when the transition process ends.")),r.a.createElement(Pt,{id:"router.isMounted",text:"router.isMounted"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"It's true if the router is mounted (it's listening for URL changes).")),r.a.createElement(Pt,{id:"router.transitionTo",text:"router.transitionTo(path, { replace })"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Initiates a transition."),r.a.createElement("li",null,"The second argument is optional.")),r.a.createElement(Pt,{id:"router.mount",text:"router.mount()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is called when the ",r.a.createElement(Tt,{text:"mvc"})," instance is mounted."),r.a.createElement("li",null,"Can be called after a router has been unmounted."),r.a.createElement("li",null,"When this is called, the router starts listening for URL changes.")),r.a.createElement(Pt,{id:"router.unmount",text:"router.unmount()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is called when the ",r.a.createElement(Tt,{text:"mvc"})," instance is unmounted."),r.a.createElement("li",null,"Can be called after a router has been mounted."),r.a.createElement("li",null,"When this is called, the router stops listening for URL changes.")),r.a.createElement(Pt,{id:"router.refresh",text:"router.refresh({ routeFragment = router.currentRouteFragments[0], replace })"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Initiates a refresh starting with the specified route fragment."),r.a.createElement("li",null,"The argument is optional (the default route fragment is router.currentRouteFragments[0])."),r.a.createElement("li",null,"The route fragment must be part of router.currentRouteFragments."),r.a.createElement("li",null,"The router must be mounted.")),r.a.createElement(Pt,{id:"router.onBeforeChange",text:"router.onBeforeChange(cb)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The cb must be a function."),r.a.createElement("li",null,"Attaches listeners that are called before transitioning (if at least one route fragment will be left or entered)."),r.a.createElement("li",null,"Cb is called with an object ",r.a.createElement(Tt,{text:"{\n      router, currentRouteFragment, targetRouteFragment\n    }"}))),r.a.createElement(Pt,{id:"router.offBeforeChange",text:"router.offBeforeChange(cb)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The cb must be a function."),r.a.createElement("li",null,"Removes onBeforeChange listeners.")),r.a.createElement(Pt,{id:"router.onSearchChange",text:"router.onSearchChange(cb)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The cb must be a function."),r.a.createElement("li",null,"Attaches listeners that are called when the search params are changed."),r.a.createElement("li",null,r.a.createElement(Tt,{text:"x=1&y=2"})," is equal to ",r.a.createElement(Tt,{text:"y=2&x=1"})," but ",r.a.createElement(Tt,{text:"x=1&x=2"})," is different from ",r.a.createElement(Tt,{text:"x=2&x=1"}),"."),r.a.createElement("li",null,"Cb is called with an object ",r.a.createElement(Tt,{text:"{\n      router, currentRouteFragment, targetRouteFragment, oldSearchParams, newSearchParams\n    }"})),r.a.createElement("li",null,"In case of a route transition, the callbacks are called after the onBeforeChange callbacks and before any route fragments are left or entered."),r.a.createElement("li",null,"If an asynchronous transition is interrupted while the input route fragments are being resolved, the callbacks are not called.")),r.a.createElement(Pt,{id:"router.offSearchChange",text:"router.offSearchChange(cb)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The cb must be a function."),r.a.createElement("li",null,"Removes onSearchChange listeners.")),r.a.createElement(Pt,{id:"router.onChange",text:"router.onChange(cb)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The cb must be a function."),r.a.createElement("li",null,"Attaches listeners that are called after transitioning (if at least one route fragment will be left or entered)."),r.a.createElement("li",null,"Cb is called with an object ",r.a.createElement(Tt,{text:"{\n      router, currentRouteFragment, oldRouteFragment\n    }"}))),r.a.createElement(Pt,{id:"router.offChange",text:"router.offChange(cb)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The cb must be a function."),r.a.createElement("li",null,"Removes onChange listeners.")),r.a.createElement(Pt,{id:"router.onUrlHandle",text:"router.onUrlHandle(cb)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The cb must be a function."),r.a.createElement("li",null,"Attaches listeners that are called after a url is handled."),r.a.createElement("li",null,"If at least one route fragment is entered or left, the callbacks are called after the onChange callbacks."),r.a.createElement("li",null,"Cb is called with an object ",r.a.createElement(Tt,{text:"{\n      oldUrl, newUrl, router\n    }"})),r.a.createElement("li",null,"If an asynchronous transition is interrupted while the input route fragments are being resolved, the callbacks are not called.")),r.a.createElement(Pt,{id:"router.offUrlHandle",text:"router.offUrlHandle(cb)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The cb must be a function."),r.a.createElement("li",null,"Removes onUrlHandle listeners.")),r.a.createElement(Pt,{id:"router.onAsyncError",text:"router.onAsyncError(cb)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The cb must be a function."),r.a.createElement("li",null,"Attaches listeners that are called when an error is caught during an async transition (caused by any means, for instance an async route controller constructor, a resolve function, an async onEnter hook etc.)."),r.a.createElement("li",null,"The router is unstable at this point."),r.a.createElement("li",null,"The promises that are involved are considered handled (so there won't be any 'unhandledrejection' events). Also the error is not propagated any further.")),r.a.createElement(Pt,{id:"router.offAsyncError",text:"router.offAsyncError(cb)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The cb must be a function."),r.a.createElement("li",null,"Removes onAsyncError listeners.")),r.a.createElement(Pt,{id:"router.isPathActive",text:"router.isPathActive(path)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Returns true if the path is the current path."),r.a.createElement("li",null,"The path is normalized to begin with ",r.a.createElement(Tt,{text:"/"}),".")),r.a.createElement(Pt,{id:"router.isDescendantPathActive",text:"router.isDescendantPathActive(path)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Returns true if the path is a parent path of the current path."),r.a.createElement("li",null,"E.g. ",r.a.createElement(Tt,{text:"/a/b"})," is the parent of ",r.a.createElement(Tt,{text:"/a/b/c"}),"."),r.a.createElement("li",null,"The path is normalized to begin with ",r.a.createElement(Tt,{text:"/"}),".")),r.a.createElement(Pt,{id:"router.list",text:"router.list()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"See ",r.a.createElement("a",{href:"#routerManager.list"},"routerManager.list()"))),r.a.createElement(Pt,{id:"router.get",text:"router.get(path)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"See ",r.a.createElement("a",{href:"#routerManager.get"},"routerManager.get(path)"))),r.a.createElement(Pt,{id:"router.has",text:"router.has(path)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"See ",r.a.createElement("a",{href:"#routerManager.has"},"routerManager.has(path)"))),r.a.createElement(Pt,{id:"router.add",text:"router.add([path,] inputRouteFragment)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"See ",r.a.createElement("a",{href:"#routerManager.add"},"routerManager.add([path,] inputRouteFragment)"))),r.a.createElement(Pt,{id:"router.remove",text:"router.remove(path)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"See ",r.a.createElement("a",{href:"#routerManager.remove"},"routerManager.remove(path)"))),r.a.createElement(Pt,{id:"routeFragment.path",text:"routeFragment.path"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The actual path that is represented."),r.a.createElement("li",null,"If canCaseVary is true and the route fragment matches a new path that differs by case, the path is updated.")),r.a.createElement(Pt,{id:"routeFragment.normalizedPath",text:"routeFragment.normalizedPath"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"It's the same as routeFragment.path if routeFragment.canCaseVary is false and routeFragment.path.toLowerCase() otherwise.")),r.a.createElement(Pt,{id:"routeFragment.abstractPath",text:"routeFragment.abstractPath"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The abstract path.")),r.a.createElement(Pt,{id:"routeFragment.urlPath",text:"routeFragment.urlPath"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The concatenation of the actual paths separated by ",r.a.createElement(Tt,{text:"/"})," starting from the root until the route fragment."),r.a.createElement("li",null,"If canCaseVary is true and the route fragment matches a new path that differs by case, the urlPath is updated. Or if any of its ascendants have canCaseVary true and their urlPaths are updated, the urlPath is updated.")),r.a.createElement(Pt,{id:"routeFragment.normalizedUrlPath",text:"routeFragment.normalizedUrlPath"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The concatenation of the normalized paths separated by ",r.a.createElement(Tt,{text:"/"})," starting from the root until the route fragment.")),r.a.createElement(Pt,{id:"routeFragment.canCaseVary",text:"routeFragment.canCaseVary"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"It's the same as the isCaseInsensitive option on the input route fragment. If the isCaseInsensitive at the input route fragment level is missing, then it's the same as the isCaseInsensitive option at the router level."),r.a.createElement("li",null,"If the route fragment is a param fragment, then canCaseVary is always false."),r.a.createElement("li",null,"If canCaseVary is true, it means that the route fragment can match over time paths that differ only by case.")),r.a.createElement(Pt,{id:"routeFragment.component",text:"routeFragment.component"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The React component.")),r.a.createElement(Pt,{id:"routeFragment.controller",text:"routeFragment.controller"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The controller as passed in the router configuration.")),r.a.createElement(Pt,{id:"routeFragment.controllerObject",text:"routeFragment.controllerObject"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The controller object resulted from calling the controller (if it's a function) or the object as passed in the router configuration.")),r.a.createElement(Pt,{id:"routeFragment.parent",text:"routeFragment.parent"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The parent route fragment.")),r.a.createElement(Pt,{id:"routeFragment.router",text:"routeFragment.router"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The router used to create the route fragment.")),r.a.createElement(Pt,{id:"routeFragment.onSearchChange",text:"routeFragment.onSearchChange(cb)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The cb must be a function."),r.a.createElement("li",null,"Attaches listeners that are called when the search params are changed, but only after the route fragment was entered and until the route fragment is left (if the route fragment is going to be left in the current transition the callbacks are not called)."),r.a.createElement("li",null,r.a.createElement(Tt,{text:"x=1&y=2"})," is equal to ",r.a.createElement(Tt,{text:"y=2&x=1"})," but ",r.a.createElement(Tt,{text:"x=1&x=2"})," is different from ",r.a.createElement(Tt,{text:"x=2&x=1"}),"."),r.a.createElement("li",null,"Cb is called with an object ",r.a.createElement(Tt,{text:"{\n      router, currentRouteFragment, targetRouteFragment, oldSearchParams, newSearchParams\n    }"})),r.a.createElement("li",null,"The callbacks are called after the router.onSearchChange callbacks and before any route fragments are left or entered, in the router.currentRouteFragments order."),r.a.createElement("li",null,"If an asynchronous transition is interrupted while the input route fragments are being resolved, the callbacks are not called.")),r.a.createElement(Pt,{id:"routeFragment.offSearchChange",text:"routeFragment.offSearchChange(cb)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The cb must be a function."),r.a.createElement("li",null,"Removes onSearchChange listeners.")),r.a.createElement(Pt,{id:"routeFragment.refresh",text:"routeFragment.refresh({ replace })"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The argument is optional."),r.a.createElement("li",null,"Equivalent to ",r.a.createElement(Tt,{text:"routeFragment.router.refresh({ routeFragment, replace })"}),".")),r.a.createElement(Pt,{id:"routerManager.list",text:"routerManager.list()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Returns a list of paths of the input route fragments at the current level.")),r.a.createElement(Pt,{id:"routerManager.get",text:"routerManager.get(path)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Returns a router manager for the specified path level."),r.a.createElement("li",null,"The path can be compound."),r.a.createElement("li",null,"If the path doesn't exist it returns undefined.")),r.a.createElement(Pt,{id:"routerManager.has",text:"routerManager.has(path)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Returns true if the path exists and false otherwise."),r.a.createElement("li",null,"The path can be compound.")),r.a.createElement(Pt,{id:"routerManager.add",text:"routerManager.add([path,] inputRouteFragment)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"If a path is not passed, adds a new input route fragment at the current level."),r.a.createElement("li",null,"If the path is passed, adds a new input route fragment at the specified path level."),r.a.createElement("li",null,"If the path is passed it must exist."),r.a.createElement("li",null,"The path can be compound."),r.a.createElement("li",null,"Returns the router manager at the current level.")),r.a.createElement(Pt,{id:"routerManager.remove",text:"routerManager.remove(path)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Removes the input route fragment found at the specified path."),r.a.createElement("li",null,"The path must exist."),r.a.createElement("li",null,"The path can be compound."),r.a.createElement("li",null,"Returns the router manager at the current level.")),r.a.createElement(Pt,{id:"Link",text:"\n    import {Link} from 'crizmas-router';\n\n    <Link to={path} replace>link text</Link>\n  "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The result is an anchor."),r.a.createElement("li",null,"The anchor is adorned with the ",r.a.createElement(Tt,{text:"is-active"})," and the ",r.a.createElement(Tt,{text:"is-descendant-active"})," classes based on ",r.a.createElement(Tt,{text:"router.isPathActive"})," and ",r.a.createElement(Tt,{text:"router.isDescendantPathActive"}),"."),r.a.createElement("li",null,"The ",r.a.createElement(Tt,{text:"to"})," prop should contain only the path, search and hash of a URL."),r.a.createElement("li",null,"The ",r.a.createElement(Tt,{text:"replace"})," prop is optional."),r.a.createElement("li",null,"Accepts a ",r.a.createElement(Tt,{text:"className"})," prop.")),r.a.createElement(Pt,{id:"Router.fallbackRoute",text:"Router.fallbackRoute({ path: matchingPath, to: path, replace })"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Creates a fallback route that redirects to the path on entering."),r.a.createElement("li",null,"The (matching) path is optional and defaults to the fallback path."),r.a.createElement("li",null,"The ",r.a.createElement(Tt,{text:"replace"})," property is optional.")))}]},{path:"form",children:[{component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(rt,{text:"crizmas-form"})," - Getting started"),r.a.createElement("p",null,"Assuming that you've already installed ",r.a.createElement(rt,null)," and its dependencies, proceed with:"),r.a.createElement(xt,{text:"\n    npm i crizmas-form\n  "}),r.a.createElement("h4",null,"Complementary tools"),r.a.createElement(xt,{text:"\n    npm i crizmas-components\n  "}),r.a.createElement("h4",null,"Example"),r.a.createElement("div",null,"js/models/flowers-model.js",r.a.createElement(xt,{text:"\n      export class Flower {\n        static validateName(name) {\n          if (!name.endsWith('flower')) {\n            return 'The name must end with flower';\n          }\n        }\n\n        constructor(name, color) {\n          this.name = name;\n          this.color = color;\n        }\n      }\n\n      export default {\n        items: [\n          new Flower('Red flower', 'red'),\n          new Flower('Blue flower', 'blue'),\n          new Flower('Pink flower', 'green')\n        ],\n\n        addFlower(name, color) {\n          this.items.push(new Flower(name, color));\n        }\n      };\n    "})),r.a.createElement("div",null,"js/controllers/flowers-controller.js",r.a.createElement(xt,{text:"\n      import {controller} from 'crizmas-mvc';\n      import Form, {validation, required, minLength} from 'crizmas-form';\n\n      import flowers, {Flower} from 'js/models/flowers-model';\n\n      export default controller(class {\n        constructor() {\n          this.flowers = flowers;\n\n          this.form = new Form({\n            children: [\n              {\n                name: 'name',\n                validate: validation(\n                  required(),\n                  minLength(5),\n                  ({input}) => {\n                    const value = input.getValue();\n\n                    if (value) {\n                      return Flower.validateName(value);\n                    }\n                  }\n                )\n              },\n\n              {\n                name: 'color',\n                validate: required()\n              }\n            ],\n\n            actions: {\n              submit: () => {\n                const formResult = this.form.getResult();\n\n                this.addFlower(formResult.name, formResult.color);\n                this.form.clear();\n              }\n            }\n          });\n        }\n\n        addFlower(name, color) {\n          this.flowers.addFlower(name, color);\n        }\n      });\n    "})),r.a.createElement("div",null,"js/components/flowers-page.js",r.a.createElement(xt,{text:"\n      import React, {Component} from 'react';\n      import PropTypes from 'prop-types';\n      import {Input} from 'crizmas-components';\n\n      export default class FlowersPage extends Component {\n        constructor() {\n          super();\n\n          this.onAdd = (e) => {\n            e.preventDefault();\n            this.props.controller.form.submit();\n          };\n        }\n\n        render() {\n          const {flowers, form} = this.props.controller;\n\n          return <div>\n            {flowers.items.map((flower, i) => {\n              return <div key={i}>\n                {flower.name}, {flower.color}\n              </div>;\n            })}\n\n            <div>\n              Add a new flower\n              <div>\n                <form>\n                  <label>name:</label>\n                  <Input {...form.get('name')} />\n                  <label>color:</label>\n                  <Input {...form.get('color')} />\n                  <button onClick={this.onAdd}\n                    disabled={form.isBlocked}>add</button>\n                </form>\n              </div>\n            </div>\n          </div>;\n        }\n      }\n\n      FlowersPage.propTypes = {\n        controller: PropTypes.object.isRequired\n      };\n    "})),r.a.createElement("div",null,"js/main.js",r.a.createElement(xt,{text:"\n      import Mvc from 'crizmas-mvc';\n      import Router from 'crizmas-router';\n\n      import FlowersPage from 'js/components/flowers-page';\n      import FlowersController from 'js/controllers/flowers-controller';\n\n      new Mvc({\n        domElement: document.querySelector('#app'),\n        router: new Router({\n          routes: [\n            {\n              component: FlowersPage,\n              controller: FlowersController\n            }\n          ]\n        })\n      });\n    "})),r.a.createElement("p",null,"Head over to the ",r.a.createElement(et,{to:"/form/theory"},"theory")," and ",r.a.createElement(et,{to:"/form/api"},"API")," sections for more advanced features and more details."))},{path:"theory",component:()=>r.a.createElement("div",null,r.a.createElement("h2",{id:"introduction"},r.a.createElement(rt,{text:"crizmas-form"})," - Theory"),r.a.createElement("p",null,"The form is basically a tree of one or more inputs mostly used to set, get and validate data."),r.a.createElement("p",null,"Most of the time the data captured with the form represents temporary data that doesn't need to be managed though a model. In this case an input has an implicit ",r.a.createElement(Tt,{text:"value"})," property. However, there are cases where changing the input requires executing some internal model logic or complicated validation. For this use case the ",r.a.createElement(Tt,{text:"getValue"})," and ",r.a.createElement(Tt,{text:"setValue"})," methods can be passed in the form configuration."),r.a.createElement("h4",{id:"example"},"Example"),r.a.createElement("div",null,"js/models/model.js",r.a.createElement(xt,{text:"\n      export default {\n        x: 100,\n        y: 101,\n\n        setX(value) {\n          this.x = value;\n          this.y = this.x + 1;\n        },\n\n        validateX() {\n          if (this.x % 100 !== 0) {\n            return 'x must be divisible by 100';\n          }\n        }\n      };\n    "})),r.a.createElement("div",null,"js/controllers/controller.js",r.a.createElement(xt,{text:"\n      import Form from 'crizmas-form';\n\n      import model from 'js/models/model';\n\n      export default class {\n        constructor() {\n          this.form = new Form({\n            children: [\n              {\n                name: 'x',\n\n                getValue() {\n                  return model.x;\n                },\n\n                setValue(value) {\n                  model.setX(value);\n                },\n\n                validate() {\n                  return model.validateX();\n                }\n              }\n            ],\n\n            actions: {\n              submit() {\n                console.log('submitted', model);\n              }\n            }\n          });\n        }\n      }\n    "})),r.a.createElement("div",null,"js/components/view.js",r.a.createElement(xt,{text:"\n      import React from 'react';\n      import PropTypes from 'prop-types';\n      import {Input} from 'crizmas-components';\n\n      const View = ({controller}) => {\n        const xInput = controller.form.get('x');\n\n        return <div>\n          <Input {...xInput} value={xInput.getValue()} type=\"integer\" />\n          <button onClick={controller.form.submit}>submit</button>\n        </div>;\n      };\n\n      View.propTypes = {\n        controller: PropTypes.object.isRequired\n      };\n\n      export default View;\n    "})),r.a.createElement("h4",{id:"inputs"},"Inputs"),r.a.createElement("p",null,"An input is an instance of the ",r.a.createElement(Tt,{text:"Input"})," controller. A form is typically created using the ",r.a.createElement(Tt,{text:"Form"})," controller. The object created by the Form controller is actually an instance of Input. The difference is that after the form creates the root input, it validates the tree of inputs before returning it. The inputs that are actually displayed on the page are typically the leaves of the input tree. You might be thinking that it would have made sense for the parent nodes to not be inputs, but form groups or something like that. If that was the case, there would have still been a high degree of API overlapping. At the same time, it's not clear that having an input as a parent node is not useful. Say you edit a JSON object. The parent's value could be the entire object, while each of its child inputs could hold the value of one of the object's properties. You could then switch between two editing modes so that you could either edit the entire object as a text, or each property individually."),r.a.createElement("p",null,"Beside the value, an input can have other state as well. The ",r.a.createElement(Tt,{text:"isDirty"}),", ",r.a.createElement(Tt,{text:"isTouched"}),", ",r.a.createElement(Tt,{text:"isInputPending"}),", ",r.a.createElement(Tt,{text:"hasErrors"}),", ",r.a.createElement(Tt,{text:"errors"}),", ",r.a.createElement(Tt,{text:"isPendingBlocked"})," and ",r.a.createElement(Tt,{text:"isBlocked"})," properties also depend on the state of the child inputs, while the ",r.a.createElement(Tt,{text:"isSubmitted"})," property doesn't."),r.a.createElement("p",null,"The input objects are also observed, so they have the ",r.a.createElement(Tt,{text:"pending"})," and ",r.a.createElement(Tt,{text:"isPending"})," properties. This is especially useful with async validation, since it's performed by calling the ",r.a.createElement(Tt,{text:"validate"})," method of an input. This calls the validate methods of all the child inputs in the subtree and awaits all the promises returned by them. So whenever an input is awaiting an async validation, if the validation was initiated by calling the validate method of the root, the root will be pending."),r.a.createElement("h4",{id:"validation"},"Validation"),r.a.createElement("p",null,r.a.createElement(rt,{text:"crizmas-form"})," automatically triggers the validation in some situations which allows us to do all kinds of complex validations whenever something happens. A validation function can return an error string or an array of error strings or a promise fulfilled with an error string or array of error strings. The validation has an event associated with it, which can be used by a validation function to decide whether or not it should do the validation. The validation also has an event target associated with it, which is the input in whose context the validation was initiated. For instance, if a field is required, it typically makes sense to validate it only when the value is changed, when the input loses focus and on submit. So, the validation function should return null or undefined to indicate that there's no error if the input has a value. And it should return the error message if ((the event is change or blur) and the target is the input itself) or if (the event is submit and (the target is the input itself or a parent input)). Otherwise it should return the old error. Another example that shows how the target is useful is the case where we have a start date and an end date, and the end date must be greater than the start date, we can use the target of the event to display the error in the right place, which allows for better user experience. For instance, if I'm setting the dates properly and then later I change my mind and update the end date to be earlier than the start date, normally the end date is the one that is correct, because I probably had a reason to make the changes by starting with the end date. Therefore, in this case, the start date is incorrect and the error should be displayed under the start date, not under the end date, even though the end date is the input that the user interacted with most recently. For most common cases ",r.a.createElement(rt,{text:"crizmas-form"})," provides validation functions so you don't have to deal with it."),r.a.createElement("p",null,"The events for which ",r.a.createElement(rt,{text:"crizmas-form"})," automatically triggers the validation are ",r.a.createElement(Tt,{text:"init"})," (when the form is created), ",r.a.createElement(Tt,{text:"change"})," (when the ",r.a.createElement(Tt,{text:"onChange"})," method is called), ",r.a.createElement(Tt,{text:"blur"})," (when the ",r.a.createElement(Tt,{text:"onBlur"})," method is called), ",r.a.createElement(Tt,{text:"submit"})," (when the ",r.a.createElement(Tt,{text:"submit"})," method is called), ",r.a.createElement(Tt,{text:"reset"})," (when the ",r.a.createElement(Tt,{text:"reset"})," method is called), ",r.a.createElement(Tt,{text:"clear"})," (when the ",r.a.createElement(Tt,{text:"clear"})," method is called), ",r.a.createElement(Tt,{text:"add"})," (when the ",r.a.createElement(Tt,{text:"add"})," or ",r.a.createElement(Tt,{text:"addChild"})," are called; addChild is called by add) and ",r.a.createElement(Tt,{text:"remove"})," (when the ",r.a.createElement(Tt,{text:"remove"})," or ",r.a.createElement(Tt,{text:"removeChild"})," are called; removeChild is called by remove)."),r.a.createElement("p",null,"With the exception of the init and submit events, the other events can have as a direct effect the change of the state of the parent nodes. For instance isDirty or isTouched of a parent could be modified. Therefore when these events occur the validation is initiated by calling the root's validate method, instead of the target's method. A validate method can also be called by the user whenever she sees fit. Custom events can be used as well."),r.a.createElement("p",null,r.a.createElement(rt,{text:"crizmas-form"})," provides an API to create validation functions for standard cases. Note that some of these API functions create closures that keep some local state and therefore the resulted functions can not be reused for multiple inputs, since they would use the same internal state from the closures. Take a look at each one of them on the API page to see which ones can be reused and which ones can not."),r.a.createElement("p",null,"Since crizmas-form allows you to associate models with forms and inputs, the validation process allows reflecting the validation state of the model in the form as well."),r.a.createElement("h4",{id:"async-validation-strategy"},"Async validation strategy"),r.a.createElement("p",null,"A form framework must provide means to validate the inputs, by allowing you to specify validation functions that are called when certain events occur. This means that the validation process has two sides: 1) the form framework has a certain logic of calling the validation functions and 2) the validation functions themselves have a certain logic of deciding whether the input has a valid state or not."),r.a.createElement("p",null,"In order to validate inputs that are different from the event's target we must validate the entire tree of inputs, which is what happens most of the times. When validating an input, crizmas-form first validates its children. This allows the current input to get access to the children errors during its own validation."),r.a.createElement("p",null,"The parent input will contain not only its own errors, but also its children errors. After validating the children, their errors are collected into an array. After the parent's validation function is called, its errors are added to that array and after that the errors array is set on the parent input."),r.a.createElement("p",null,"With async validations, it's possible to have interlaid async validations with other either sync or async validations. These interlaid validations must be managed so that they don't lead to inconsistencies or surprising race conditions. Different approaches are possible. For instance, we may want an event that triggers async validations to be treated atomically. But what happens if a new event occurs, perhaps even with new form state, while the initial async validation is in progress? Should the initial validation be suppressed by the new validation? Should the new validation be ignored if there is another validation in progress? Or perhaps we want to allow both validations and keep only the result from the one that finishes first. Or the one that finishes last."),r.a.createElement("p",null,"Many different scenarios are possible and in each case one or another approach can be more appropriate. With our approach the input initially clears the errors. After that, as mentioned, the parent gathers the children errors after they are validated. This means that if, during the validation process, the children are validated synchronously and the parent asynchronously, the children errors are gathered before the parent's validation function is called and if a second validation is initiated during the parent's initial async validation, at the end of the parent's first validation, the children errors that were gathered may be stale, in case the children have new errors from the second validation. Or perhaps the children are validated asynchronously and a second sync validation is performed, which means that, during the initial validation, the parent will gather the children errors resulted from the second sync validation. What if the children errors were gathered after the parent's validation has finalized? The issue in this case is that at the end of the validation process that has an event associated with it, the parent will reflect children errors that were caused by another validation with possibly a different associated event, which may lead to logical inconsistencies. At the same time, it wouldn't make sense to disallow interlaid validations, because it would be against the natural flow determined by the user's actions together with the changing state of the world. All these approaches have downsides, so how do we solve this?"),r.a.createElement("p",null,"The key is separation of concerns. As mentioned before: 1) the form framework has a certain logic of calling the validation functions and 2) the validation functions themselves have a certain logic of deciding whether the input has a valid state or not. The helps us taking the simplest route: the form framework does whatever is easier to understand and the validation functions can have any custom logic and can be as complex as needed in order to reflect whatever behavior is desired. We considered that gathering the children errors right before the parent validation function is called is the most intuitive approach as it appears to be an atomic process from the parent's perspective and at the same time is agnostic and permissive, meaning that interlaid validations are allowed and the parent doesn't care in which validation process the children errors were set. Whatever extra logic is needed to obtain the desired behavior must be contained in the validation functions."),r.a.createElement("p",null,"This means that in complicated situations the validation functions must be aware of possible interlaid validations and must be explicit in handling the possible race conditions in order to clearly express the desired behavior. This can be complicated, but crizmas-form saves the day by providing a useful API for implementing interlaid async validations for practical cases (see the API section)."),r.a.createElement("h4",{id:"blocking"},"Blocking"),r.a.createElement("p",null,"An input can be marked with the ",r.a.createElement(Tt,{text:"isInputPending"})," property set to true to indicate that its value will change. This is useful in case of a debounced change handler. There are cases where you don't want to allow the form submission while the change handler of an input hasn't been executed yet (in order to avoid a race condition). Therefore the ",r.a.createElement(Tt,{text:"onStartPending"})," method can be called in order to mark the input as input pending. When the ",r.a.createElement(Tt,{text:"onChange"})," method is called, isInputPending is updated (if it has no children with isInputPending true, isInputPending is set to false). The input also has an ",r.a.createElement(Tt,{text:"isPendingBlocked"})," property whose value is true while the input is pending or is input pending. If the form is pending blocked it cannot be reset or cleared. Whether or not the pending blocking state depends on the pending and input pending states can be configured. The input also has an ",r.a.createElement(Tt,{text:"isBlocked"})," property whose value is true while the input either is pending blocked or has errors. If the form is blocked it cannot be submitted."),r.a.createElement("h4",{id:"result"},"Result"),r.a.createElement("p",null,"Any input has the submit method. The actions object that is passed in the input configuration can have callbacks for the submit, reset and clear events. It can also have other methods. The actions object is observed. To get the form results the ",r.a.createElement(Tt,{text:"getResult"})," method must be called. If the input has at least one child without a name, the result will be an array. If all the children have a name, the result will be an object. If there are no children, the result will be the same as the result of getValue. A form can have more submit buttons. This is useful if you want the same submit logic to apply to multiple user actions. The actions can be distinguished in the submit callback based on the arguments that are passed to the submit method, because the submit callback will receive them as well."),r.a.createElement("p",null,"Head over to the ",r.a.createElement(et,{to:"/form/api"},"API")," section for more details."))},{path:"api",component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(rt,{text:"crizmas-form"})," - API"),r.a.createElement("p",null,"Make sure you check the ",r.a.createElement(et,{to:"/form"},"getting started")," and ",r.a.createElement(et,{to:"/form/theory"},"theory")," sections before jumping into API details."),r.a.createElement(Pt,{id:"Form",text:"\n      import Form from 'crizmas-form';\n\n      const form = new Form({\n        preventInputPendingBlocking: true,\n        preventPendingBlocking: true,\n\n        children: [\n          {\n            name: 'x',\n            initialValue: 3\n          },\n          {\n            name: 'y',\n            clearValue: '',\n\n            getValue() {\n              return model.y;\n            },\n\n            setValue(value) {\n              model.setY(value);\n            },\n\n            validate({event}) {\n              if (event === 'submit') {\n                return model.validateY();\n              }\n            }\n          }\n        ],\n\n        init() {\n          console.log('input created');\n        },\n\n        onFormChange() {\n          console.log('an input changed');\n        },\n\n        actions: {\n          submit() {\n            console.log('result', form.getResult());\n          },\n\n          clear() {\n            console.log('clearing');\n          },\n\n          reset() {\n            console.log('resetting');\n          },\n\n          anotherAction() {\n            console.log('another action');\n          }\n        }\n      });\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"An input configuration can contain a name, initialValue, getValue, setValue, validate, clearValue, init, onFormChange, preventInputPendingBlocking, preventPendingBlocking, an actions object and a children array of configuration objects."),r.a.createElement("li",null,"None of the options is required."),r.a.createElement("li",null,"Whenever a function from the form config is called, it's called as a method of an input (even if it's not necessarily an input method)."),r.a.createElement("li",null,"init is called when the input is created."),r.a.createElement("li",null,"If clearValue is provided it's used when clearing the input."),r.a.createElement("li",null,"If preventInputPendingBlocking is true, the isPendingBlocked property doesn't depend on the isInputPending property."),r.a.createElement("li",null,"If preventPendingBlocking is true, the isPendingBlocked property doesn't depend on the isPending property."),r.a.createElement("li",null,"A validation function can return an error string or an array of error strings or a promise fulfilled with an error string or array of error strings."),r.a.createElement("li",null,"Triggers the validation with the init event and root as target.")),r.a.createElement(Pt,{id:"input.name",text:"input.name"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The name of the input.")),r.a.createElement(Pt,{id:"input.value",text:"input.value"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The value of the input."),r.a.createElement("li",null,"It exists only if ",r.a.createElement(Tt,{text:"getValue"})," and ",r.a.createElement(Tt,{text:"setValue"})," aren't passed in the configuration.")),r.a.createElement(Pt,{id:"input.initialValue",text:"input.initialValue"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The initial value of the input."),r.a.createElement("li",null,"If it's not passed in the configuration, it's set by calling ",r.a.createElement(Tt,{text:"getValue"}),". If getValue is not passed in the configuration, it's undefined.")),r.a.createElement(Pt,{id:"input.children",text:"input.children"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The input's array of children.")),r.a.createElement(Pt,{id:"input.parent",text:"input.parent"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The input's parent input.")),r.a.createElement(Pt,{id:"input.root",text:"input.root"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The root input of the tree that the input is part of.")),r.a.createElement(Pt,{id:"input.isDirty",text:"input.isDirty"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is true if the current value is different from the initial value or if any of the input's children is dirty.")),r.a.createElement(Pt,{id:"input.isTouched",text:"input.isTouched"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is true if the input was interacted with (by calling the onChange method or the onBlur method) or if a child has been touched.")),r.a.createElement(Pt,{id:"input.isSubmitted",text:"input.isSubmitted"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is true if the input has been submitted.")),r.a.createElement(Pt,{id:"input.isInputPending",text:"input.isInputPending"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is true after onStartPending was called and before onChange was called."),r.a.createElement("li",null,"It's also true as long as any child is input pending."),r.a.createElement("li",null,"It's useful if you want to prevent submitting a form with debounced input changes.")),r.a.createElement(Pt,{id:"input.hasErrors",text:"input.hasErrors"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is true while the input or any of its children has errors.")),r.a.createElement(Pt,{id:"input.errors",text:"input.errors"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is an array that contains the input's errors and the children's errors."),r.a.createElement("li",null,"If there are no errors, it's null.")),r.a.createElement(Pt,{id:"input.actions",text:"input.actions"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The actions object that is passed in the configuration."),r.a.createElement("li",null,"It is observed."),r.a.createElement("li",null,"It can contain a submit method, that is called when ",r.a.createElement(Tt,{text:"input.submit"})," is called."),r.a.createElement("li",null,"It can contain a clear method, that is called when ",r.a.createElement(Tt,{text:"input.clear"})," is called."),r.a.createElement("li",null,"It can contain a reset method, that is called when ",r.a.createElement(Tt,{text:"input.reset"})," is called."),r.a.createElement("li",null,"It can contain other methods as well that can be used as handlers for certain buttons in the view.")),r.a.createElement(Pt,{id:"input.pending",text:"input.pending"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The input is an observed object."),r.a.createElement("li",null,"If needed this can be used to disable an input with async validation.")),r.a.createElement(Pt,{id:"input.isPending",text:"input.isPending"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The input is an observed object."),r.a.createElement("li",null,"If needed this can be used to disable an input with async validation.")),r.a.createElement(Pt,{id:"input.isPendingBlocked",text:"input.isPendingBlocked"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is true if the input is pending or it's input pending."),r.a.createElement("li",null,"If the preventInputPendingBlocking option is true in the configuration then isPendingBlocked doesn't depend on isInputPending."),r.a.createElement("li",null,"If the preventPendingBlocking option is true in the configuration then isPendingBlocked doesn't depend on isPending."),r.a.createElement("li",null,"If it's true it prevents resetting and clearing the input.")),r.a.createElement(Pt,{id:"input.isBlocked",text:"input.isBlocked"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is true if the input has errors or it's pending blocked."),r.a.createElement("li",null,"If it's true it prevents submission.")),r.a.createElement(Pt,{id:"input.getValue",text:"input.getValue()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is an ignored version of the getValue option passed in the configuration, if it is passed. Otherwise, it's an ignored method that returns the input value.")),r.a.createElement(Pt,{id:"input.onChange",text:"input.onChange(value)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This should normally be called from the view."),r.a.createElement("li",null,"Calls setValue."),r.a.createElement("li",null,"Updates the input pending state."),r.a.createElement("li",null,"Updates the dirty state."),r.a.createElement("li",null,"Updates the touched state."),r.a.createElement("li",null,"Triggers the root validation with the change event and the input as target."),r.a.createElement("li",null,"Calls onFormChange of all ancestors (if it was passed in the configuration) in bottom-up order passing it an object with the target and the input (the ancestor).")),r.a.createElement(Pt,{id:"input.validate",text:"input.validate({event, target})"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The argument is optional."),r.a.createElement("li",null,"The target defaults to the input."),r.a.createElement("li",null,"Initially clears the errors and hasErrors properties."),r.a.createElement("li",null,"Calls the validate method of the children inputs, waiting for any resulted promises and gathering the errors from the children afterwards. Then performs the validation on the input by calling the validate method option from the configuration, passing it an object with the event, target and input. If any of the validation functions involved in this process returns a promise, the validate method returns a promise. The validation process updates the hasErrors and errors properties, either synchronously or asynchronously, when all the validation promises are settled."),r.a.createElement("li",null,"The input's errors array includes the children's errors.")),r.a.createElement(Pt,{id:"input.submit",text:"input.submit(...args)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"If the input is blocked, it does nothing."),r.a.createElement("li",null,"It validates the input with the submit event and itself as target."),r.a.createElement("li",null,"If the input is not blocked after validating and if there is a passed submit action, it calls the submit action passing it whatever arguments were passed to the submit method.")),r.a.createElement(Pt,{id:"input.getResult",text:"input.getResult()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"If there are no children, it returns the result of getValue."),r.a.createElement("li",null,"If the children array is empty, it returns an empty array."),r.a.createElement("li",null,"If all the children have a name, it returns an object where for each child the name is the key and the value is ",r.a.createElement(Tt,{text:"child.getResult()"}),"."),r.a.createElement("li",null,"If there is at least one child with no name, the result is an array of ",r.a.createElement(Tt,{text:"child.getResult()"})," values."),r.a.createElement("li",null,"This method is ignored.")),r.a.createElement(Pt,{id:"input.onBlur",text:"input.onBlur()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This should normally be called from the view."),r.a.createElement("li",null,"Updates the touched state."),r.a.createElement("li",null,"Triggers the root validation with the blur event and the input as target."),r.a.createElement("li",null,"This is also useful for custom non-HTML elements that can have a custom blur event that could be triggered whenever the user finished interacting with the element.")),r.a.createElement(Pt,{id:"input.onFormChange",text:"input.onFormChange({target, input})"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This is the onFormChange function from the configuration."),r.a.createElement("li",null,"Called when the input's onChange method is called or when a descendant's onChange method is called."),r.a.createElement("li",null,"Receives an object as argument with the target of the change event and itself as input.")),r.a.createElement(Pt,{id:"input.onStartPending",text:"input.onStartPending()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"This should normally be called from the view to indicate that a debounced onChange method will be called."),r.a.createElement("li",null,"Sets isInputPending of itself and of the ascendant inputs to true.")),r.a.createElement(Pt,{id:"input.get",text:"input.get(name)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Returns the direct child of input whose name is name."),r.a.createElement("li",null,"This method is ignored.")),r.a.createElement(Pt,{id:"input.add",text:"input.add(inputConfig, index)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Adds a new child input based on inputConfig."),r.a.createElement("li",null,"The resulted child input also becomes an observed child."),r.a.createElement("li",null,"Updates the input pending and dirty states based on the child's state."),r.a.createElement("li",null,"Triggers the root validation with the add event and the current input (not the child) as target."),r.a.createElement("li",null,"If the optional index is provided, the child is inserted at that position using ",r.a.createElement(Tt,{text:"Array.prototype.splice"}),".")),r.a.createElement(Pt,{id:"input.addChild",text:"input.addChild(childInput, index)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Adds childInput as child."),r.a.createElement("li",null,"The child input also becomes an observed child."),r.a.createElement("li",null,"Updates the input pending and dirty states based on the child's state."),r.a.createElement("li",null,"Triggers the root validation with the add event and the current input (not the child) as target."),r.a.createElement("li",null,"If the optional index is provided, the child is inserted at that position using ",r.a.createElement(Tt,{text:"Array.prototype.splice"}),".")),r.a.createElement(Pt,{id:"input.remove",text:"input.remove()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Removes the input from its parent."),r.a.createElement("li",null,"The input stops being an observed child of the parent."),r.a.createElement("li",null,"The input's parent becomes null and its root becomes the input itself."),r.a.createElement("li",null,"Updates the input pending and dirty states of the old ascendants."),r.a.createElement("li",null,"Triggers the old root validation with the remove event and the old parent input (not the current input) as target.")),r.a.createElement(Pt,{id:"input.removeChild",text:"input.removeChild(childInput)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The same as ",r.a.createElement(Tt,{text:"childInput.remove()"}),".")),r.a.createElement(Pt,{id:"input.reset",text:"input.reset()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"If the input is pending blocked, it does nothing."),r.a.createElement("li",null,"Calls the reset method for each child."),r.a.createElement("li",null,"Calls setValue with its initial value."),r.a.createElement("li",null,"Sets isSubmitted and isTouched to false."),r.a.createElement("li",null,"Updates the dirty state."),r.a.createElement("li",null,"Triggers the root validation with the reset event and itself as target."),r.a.createElement("li",null,"If the input is not pending blocked after validating and if there is a passed reset action, it calls the reset action.")),r.a.createElement(Pt,{id:"input.clear",text:"input.clear()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"If the input is pending blocked, it does nothing."),r.a.createElement("li",null,"Calls the clear method for each child."),r.a.createElement("li",null,"If the clear value was passed, sets the initial value to the clear value. Otherwise, if its initial value is truthy, it sets it to null."),r.a.createElement("li",null,"Calls setValue with its initial value."),r.a.createElement("li",null,"Sets isSubmitted and isTouched to false."),r.a.createElement("li",null,"Updates the dirty state."),r.a.createElement("li",null,"Triggers the root validation with the clear event and itself as target."),r.a.createElement("li",null,"If the input is not pending blocked after validating and if there is a passed clear action, it calls the clear action.")),r.a.createElement(Pt,{id:"input.markAsDirty",text:"input.markAsDirty()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Updates the isDirty state of itself and its children."),r.a.createElement("li",null,"It's called by several input methods when it's possible for the input's value to have changed, but can be called from outside as well in case the value changes by different means.")),r.a.createElement(Pt,{id:"Form.asyncValidationError",text:"Form.asyncValidationError"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Asynchronous validations can return unhandled rejected promises. In that case the value of Form.asyncValidationError is used as an error message. We need to consider rejected promises as cases of validation errors because we can't know for sure if the field is indeed valid. The default value is 'Validation failed'. This can be set to a different value. It can also be set to a function, in which case its call result will be used. The function receives the rejection reason as an argument.")),r.a.createElement(Pt,{id:"Input",text:"\n    import {Input} from 'crizmas-form';\n\n    const input = new Input(config);\n  "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The same as new Form(config) except that it doesn't do the initial validation.")),r.a.createElement(Pt,{id:"validation",text:"\n    import Form, {validation} from 'crizmas-form';\n\n    const form = new Form({\n      validate: validation(...funcs)\n    });\n  "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Creates a validation function from more validation functions."),r.a.createElement("li",null,"It calls the functions one by one until there's a synchronous error result, passing them whatever arguments the resulted validation function receives."),r.a.createElement("li",null,"If there are also asynchronous validation functions, their results will be awaited only if there's no synchronous error returned by the other functions."),r.a.createElement("li",null,"All the asynchronous functions are awaited and their results are combined."),r.a.createElement("li",null,"If a sync error is returned, the previously initiated in progress async validation is suppressed."),r.a.createElement("li",null,"If an async valdation is initiated, the previously initiated in progress async validation is suppressed."),r.a.createElement("li",null,"Creates a closure that keeps internal state and therefore the resulted function can not be reused for multiple inputs. However, the function arguments can be reused.")),r.a.createElement(Pt,{id:"validate",text:"\n    import Form, {validate} from 'crizmas-form';\n\n    const form = new Form({\n      validate: validate(func, {events: [...events], ignoreEvent, target})\n    });\n  "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Creates a validation function based on the func argument, which is expected to validate the input synchronously."),r.a.createElement("li",null,"Passes a ",r.a.createElement(Tt,{text:"{input, event, target}"})," object to func."),r.a.createElement("li",null,"If there is an existing error message, it returns it until the input becomes valid. The error message can be replaced by subsequent validations."),r.a.createElement("li",null,"If the validation function reports an error, it is returned only in one of the following cases:",r.a.createElement("ul",null,r.a.createElement("li",null,"ignoreEvent is true."),r.a.createElement("li",null,"the validation event is included in the list of events and the target matches. If the target function is passed, the validation target must match the result of calling this function. If the target function is not passed, the validation target must match the input itself. If the target function is passed, it receives a ",r.a.createElement(Tt,{text:"{input, event, target}"})," object."),r.a.createElement("li",null,"the event is submit (even if 'submit' is not included in the list of events)."))),r.a.createElement("li",null,"The second object argument is optional."),r.a.createElement("li",null,"The default events list consists only of 'blur'."),r.a.createElement("li",null,"The default events can be changed by setting validate.events, which can be overwritten by passing an events option."),r.a.createElement("li",null,"Creates a closure that keeps internal state and therefore the resulted function can not be reused for multiple inputs. However, the function argument can be reused.")),r.a.createElement(Pt,{id:"required",text:"\n    import Form, {required} from 'crizmas-form';\n\n    const form = new Form({\n      validate: required({message, events: [...events], ignoreEvent})\n    });\n  "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The configuration argument is optional."),r.a.createElement("li",null,"If the input has a value different from null, undefined and empty string, it returns null."),r.a.createElement("li",null,"It's based on the ",r.a.createElement(Tt,{text:"validate()"})," functionality, so it can rely on its defaults."),r.a.createElement("li",null,"The default error message is 'Required'. This can be overwritten by setting a required.message default function, which can be overwritten by passing the message option. The message function receives a ",r.a.createElement(Tt,{text:"{value, input, event, target}"})," object argument, where value is the input's current value."),r.a.createElement("li",null,"The default events can be changed by setting required.events, which can be overwritten by passing an events option."),r.a.createElement("li",null,"ignoreEvent is passed to ",r.a.createElement(Tt,{text:"validate()"}),"."),r.a.createElement("li",null,"Creates a closure that keeps internal state and therefore the resulted function can not be reused for multiple inputs.")),r.a.createElement(Pt,{id:"min",text:"\n    import Form, {min} from 'crizmas-form';\n\n    const form = new Form({\n      validate: min(minValue, {message, events: [...events], ignoreEvent})\n    });\n  "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The second object argument is optional."),r.a.createElement("li",null,"If the input value is a number less than minValue returns an error message."),r.a.createElement("li",null,"It's based on the ",r.a.createElement(Tt,{text:"validate()"})," functionality, so it can rely on its defaults."),r.a.createElement("li",null,"The default error message is `Minimum allowed is ","${minValue}","`. This can be overwritten by setting a min.message default function, which can be overwritten by passing the message option. The message function receives a ",r.a.createElement(Tt,{text:"{minValue, value, input, event, target}"})," object argument, where the minValue is the minValue passed to min and the value is the input's current value."),r.a.createElement("li",null,"The default events can be changed by setting min.events, which can be overwritten by passing an events option."),r.a.createElement("li",null,"ignoreEvent is passed to ",r.a.createElement(Tt,{text:"validate()"}),"."),r.a.createElement("li",null,"Creates a closure that keeps internal state and therefore the resulted function can not be reused for multiple inputs.")),r.a.createElement(Pt,{id:"max",text:"\n    import Form, {max} from 'crizmas-form';\n\n    const form = new Form({\n      validate: max(maxValue, {message, events: [...events], ignoreEvent})\n    });\n  "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The second object argument is optional."),r.a.createElement("li",null,"If the input value is a number greater than maxValue returns an error message."),r.a.createElement("li",null,"It's based on the ",r.a.createElement(Tt,{text:"validate()"})," functionality, so it can rely on its defaults."),r.a.createElement("li",null,"The default error message is `Maximum allowed is ","${maxValue}","`. This can be overwritten by setting a max.message default function, which can be overwritten by passing the message option. The message function receives a ",r.a.createElement(Tt,{text:"{maxValue, value, input, event, target}"})," object argument, where the maxValue is the maxValue passed to max and the value is the input's current value."),r.a.createElement("li",null,"The default events can be changed by setting max.events, which can be overwritten by passing an events option."),r.a.createElement("li",null,"ignoreEvent is passed to ",r.a.createElement(Tt,{text:"validate()"}),"."),r.a.createElement("li",null,"Creates a closure that keeps internal state and therefore the resulted function can not be reused for multiple inputs.")),r.a.createElement(Pt,{id:"minLength",text:"\n    import Form, {minLength} from 'crizmas-form';\n\n    const form = new Form({\n      validate: minLength(minLengthValue, {message, events: [...events], ignoreEvent})\n    });\n  "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The second object argument is optional."),r.a.createElement("li",null,"If the input value is a string whose length is less than minLengthValue returns an error message."),r.a.createElement("li",null,"It's based on the ",r.a.createElement(Tt,{text:"validate()"})," functionality, so it can rely on its defaults."),r.a.createElement("li",null,"The default error message is `Minimum allowed length is ","${minLengthValue}","`. This can be overwritten by setting a minLength.message default function, which can be overwritten by passing the message option. The message function receives a ",r.a.createElement(Tt,{text:"{minLength, value, input, event, target}"})," object argument, where the minLength is the minLengthValue passed to minLength and the value is the input's current value."),r.a.createElement("li",null,"The default events can be changed by setting minLength.events, which can be overwritten by passing an events option."),r.a.createElement("li",null,"ignoreEvent is passed to ",r.a.createElement(Tt,{text:"validate()"}),"."),r.a.createElement("li",null,"Creates a closure that keeps internal state and therefore the resulted function can not be reused for multiple inputs.")),r.a.createElement(Pt,{id:"maxLength",text:"\n    import Form, {maxLength} from 'crizmas-form';\n\n    const form = new Form({\n      validate: maxLength(maxLengthValue, {message, events: [...events], ignoreEvent})\n    });\n  "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The second object argument is optional."),r.a.createElement("li",null,"If the input value is a string whose length is greater than maxLengthValue returns an error message."),r.a.createElement("li",null,"It's based on the ",r.a.createElement(Tt,{text:"validate()"})," functionality, so it can rely on its defaults."),r.a.createElement("li",null,"The default error message is `Maximum allowed length is ","${maxLengthValue}","`. This can be overwritten by setting a maxLength.message default function, which can be overwritten by passing the message option. The message function receives a ",r.a.createElement(Tt,{text:"{maxLength, value, input, event, target}"})," object argument, where the maxLength is the maxLengthValue passed to maxLength and the value is the input's current value."),r.a.createElement("li",null,"The default events can be changed by setting maxLength.events, which can be overwritten by passing an events option."),r.a.createElement("li",null,"ignoreEvent is passed to ",r.a.createElement(Tt,{text:"validate()"}),"."),r.a.createElement("li",null,"Creates a closure that keeps internal state and therefore the resulted function can not be reused for multiple inputs.")),r.a.createElement(Pt,{id:"async",text:"\n    import Form, {async} from 'crizmas-form';\n\n    const form = new Form({\n      validate: async(promiseFunc, {events: [...events]})\n    });\n  "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"promiseFunc must return a promise or a falsy value."),r.a.createElement("li",null,"The second object argument is optional."),r.a.createElement("li",null,"Passes the value of the input to the promiseFunc function."),r.a.createElement("li",null,"promiseFunc is called only if the target is the input itself and if the event is in the events list."),r.a.createElement("li",null,"The default events list consists only of 'change'."),r.a.createElement("li",null,"If promiseFunc is called, in progress validations triggered by promiseFunc are discarded."),r.a.createElement("li",null,"If, when the resulted promise is fulfilled, it is observed that the value of the input changed, the possibly reported error is discarded."),r.a.createElement("li",null,"If promiseFunc is not called, if the value is the same as the old value, the old error is returned, if it exists. Otherwise null is returned."),r.a.createElement("li",null,"If promiseFunc returns a falsy value it's as if promiseFunc wasn't called at all."),r.a.createElement("li",null,"Creates a closure that keeps internal state and therefore the resulted function can not be reused for multiple inputs. However, the function argument can be reused.")))}]},{path:"components",children:[{component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(rt,{text:"crizmas-components"})),r.a.createElement(xt,{text:"\n    npm i smart-mix # peer dependency\n    npm i crizmas-components\n  "}))},{path:"input",component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(rt,{text:"crizmas-components"})," - Input"),r.a.createElement("p",null,"Make sure you check the ",r.a.createElement(et,{to:"/components"},"getting started")," section first."),r.a.createElement("b",null,r.a.createElement(xt,{text:'\n      import {Input} from \'crizmas-components\';\n\n      <Input type="integer" {...someCrizmasInput} />\n\n      // if getValue is used, instead of the automatically created value property,\n      // then the result of getValue must be passed explicitly\n      <Input type="integer" {...someCrizmasInput} value={someCrizmasInput.getValue()} />\n    '})),r.a.createElement("p",null,"If you have your own components, this can be seen as a reference implementation of how to deal with the input controller."),r.a.createElement("p",null,"Input has the 'crizmas-input' css class and the 'has-errors' class when it has errors."),r.a.createElement("p",null,"The props that Input can receive are (all optional):"),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"value"),r.a.createElement("li",null,"type",r.a.createElement("ul",null,r.a.createElement("li",null,"One of 'text', 'password', 'number', 'integer', 'textarea', 'email', 'url', 'tel', 'search', 'hidden', 'radio', 'checkbox', 'string' (same as 'text')."),r.a.createElement("li",null,"Defaults to 'text'."))),r.a.createElement("li",null,"initialValue",r.a.createElement("ul",null,r.a.createElement("li",null,"If the input is numeric and it's cleared, instead of using the empty string as the new value, the initialValue can be used."),r.a.createElement("li",null,"In order to use the initialValue, it must be falsy. If it's undefined, then undefined is used, otherwise null is used."))),r.a.createElement("li",null,"errors"),r.a.createElement("li",null,"isPending",r.a.createElement("ul",null,r.a.createElement("li",null,"The input is read only while pending."))),r.a.createElement("li",null,"isInputPending",r.a.createElement("ul",null,r.a.createElement("li",null,"If it's already true, onStartPending is not called anymore."))),r.a.createElement("li",null,"required",r.a.createElement("ul",null,r.a.createElement("li",null,"Displays a star before the input."))),r.a.createElement("li",null,"placeholder"),r.a.createElement("li",null,"className"),r.a.createElement("li",null,"inputClassName"),r.a.createElement("li",null,"inputProps",r.a.createElement("ul",null,r.a.createElement("li",null,"An object of props that are passed directly to the HTML input or textarea element."))),r.a.createElement("li",null,"readOnly"),r.a.createElement("li",null,"disabled"),r.a.createElement("li",null,"autoFocus"),r.a.createElement("li",null,"debounce",r.a.createElement("ul",null,r.a.createElement("li",null,"Number of milliseconds for change and blur debounce."),r.a.createElement("li",null,"If it's 0 there will be no deobunce at all."))),r.a.createElement("li",null,"onChange",r.a.createElement("ul",null,r.a.createElement("li",null,"This should be inputController.onChange."))),r.a.createElement("li",null,"onBlur",r.a.createElement("ul",null,r.a.createElement("li",null,"This should be inputController.onBlur."))),r.a.createElement("li",null,"onStartPending",r.a.createElement("ul",null,r.a.createElement("li",null,"This should be inputController.onStartPending.")))),r.a.createElement("p",null,"Context props:"),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"inputDebounce",r.a.createElement("ul",null,r.a.createElement("li",null,"Number of milliseconds for change debounce."),r.a.createElement("li",null,"If it's 0 there will be no deobunce at all.")))),r.a.createElement("p",null,"The default debounce is 100. It can be overwritten by the inputDebounce context prop, which can be overwritten by the debounce prop. The default debounce when the type is checkbox or radio is 0. It can only be overwritten by the debounce prop and not by the inputDebounce context prop."))},{path:"render-clip",children:[{component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(rt,{text:"crizmas-components"})," - RenderClip - Getting started"),r.a.createElement("p",null,"The render-clip components are used for scroll virtualization, meaning that you can display a big list of items without blocking the browser. More precisely, only a part of the items are rendered while for the user it appears that all the items are rendered."),r.a.createElement("p",null,"The render-clip components stretch to occupy all the space available, if their content requires it, so for a vertical list you might want to put a container around it with a set height. For horizontal lists it's easier since block elements stretch horizontally naturally, so normally you don't need to set a width. If needed, you should use a container with a set width."),r.a.createElement("p",null,"Click the render-clip links for more details."))},{path:"render-clip",component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(rt,{text:"crizmas-components"})," - RenderClip"),r.a.createElement("p",null,"Make sure you check the getting started sections ",r.a.createElement(et,{to:"/components"},"here")," and ",r.a.createElement(et,{to:"/components/render-clip"},"here")," first."),r.a.createElement("p",null,"The RenderClip component requires an instance of RenderClipController and a renderItem function that is used to render each item. The renderItem function receives the itemHeight or itemWidth depending on how the controller was created. It also receives the item index. If the controller received a list of items, the renderItem function will also receive the item."),r.a.createElement("p",null,"By default a row occupies only as much space as required by the content/styling of that row. This helps in case the content exceeds the space available for that content, in which case a scrollbar would be displayed. There are also cases when the content of a row occupies less space than the space that is available for that row. In such cases it might be desired that the row stretches so that it occupies the entire space available. For instance, if the row has a flex display. In this case the stretch prop can be set to true in order to achieve this."),r.a.createElement("b",null,r.a.createElement(xt,{text:"\n      import {RenderClip} from 'crizmas-components';\n\n      // in these examples we're rendering a list of strings.\n\n      const itemsArray = Array.from({length}, (v, i) => `item ${i}`;\n\n      // vertical list\n      <RenderClip\n        controller={renderClipController}\n        renderItem={({index, itemHeight}) => {\n          return <div key={index} style={{height: itemHeight}}>{itemsArray[index]}</div>;\n        }} />\n\n      // if items are passed\n      <RenderClip\n        controller={renderClipController}\n        renderItem={({index, item, itemHeight}) => {\n          return <div key={index} style={{height: itemHeight}}>{item}</div>;\n        }} />\n\n      // vertical list in which the rows are stretched in order to occupy the available space\n      <RenderClip\n        controller={renderClipController}\n        stretch\n        renderItem={({index, itemHeight}) => {\n          return <div key={index} style={{height: itemHeight}}>{itemsArray[index]}</div>;\n        }} />\n\n      // horizontal list\n      <RenderClip\n        controller={renderClipController}\n        renderItem={({index, itemWidth, item}) => {\n          return <div key={index} style={{\n            width: itemWidth,\n            display: 'inline-block',\n            writingMode: 'vertical-lr',\n            textOrientation: 'upright',\n            verticalAlign: 'top'\n          }}>{item}</div>;\n        }} />\n    "})))},{path:"render-clip-controller",component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(rt,{text:"crizmas-components"})," - RenderClipController"),r.a.createElement("p",null,"Make sure you check the getting started sections ",r.a.createElement(et,{to:"/components"},"here")," and ",r.a.createElement(et,{to:"/components/render-clip"},"here")," first."),r.a.createElement(Pt,{id:"RenderClipController",text:"\n      import {RenderClipController} from 'crizmas-components';\n\n      // vertical list without passing an items array\n      const renderClipController = new RenderClipController({\n        itemsCount: 1000000,\n        itemHeight: 20\n      });\n\n      // horizontal list with an items array\n      const renderClipController2 = new RenderClipController({\n        items: Array.from({length}, (v, i) => `item ${i}`,\n        itemWidth: 20\n      });\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"All the options are initially optional. They are important however when the controller is actually being used."),r.a.createElement("li",null,"In order to function properly, the controller will need one of itemsCount or items and one of itemWidth or itemHeight."),r.a.createElement("li",null,"The itemWidth must be passed for horizontal lists and itemHeight for vertical lists."),r.a.createElement("li",null,"The itemWidth and itemHeight can also be functions that return the size of the item, in case the items don't have the same size. When they are called they receive the item index as an argument. If an items array is passed to the controller, the size function will also reiceve the item for that index as the second argument. If there is a size function passed, an internal array for items metadata is created and for optimal performance it is recommended for that array to not be too big. A good length would be one million.")),r.a.createElement(Pt,{id:"renderClipController.setItems",text:"renderClipController.setItems(items)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Updates the items."),r.a.createElement("li",null,"The items argument must be an array."),r.a.createElement("li",null,"Implicitly updates the items count."),r.a.createElement("li",null,"Peforms a refresh of the list with the new items trying to preserve the scroll position."),r.a.createElement("li",null,"It's important to set this method if the items array was changed so that the items count is updated accordingly. Also this can be called in order to replace the items."),r.a.createElement("li",null,"Once this method is called it's important not to call setItemsCount directly.")),r.a.createElement(Pt,{id:"renderClipController.setItemsCount",text:"renderClipController.setItemsCount(count)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Updates the items count."),r.a.createElement("li",null,"Peforms a refresh of the list with the new count trying to preserve the scroll position.")),r.a.createElement(Pt,{id:"renderClipController.scrollIntoView",text:"renderClipController.scrollIntoView(index, { ifNeeded, alignEnd, fit })"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Updates the scroll position to show the item at the provided index in the viewport."),r.a.createElement("li",null,"The second object argument is optional."),r.a.createElement("li",null,"By default the item will be aligned to the start (top or left) with the viewport."),r.a.createElement("li",null,"If ifNeeded is true and the item is already in the view, the scroll position is not changed."),r.a.createElement("li",null,"If alignEnd is true, the item is aligned to the end (bottom or right) with the viewport. Buf if isNeeded is true and the item is already in the viewport the scroll position is not changed."),r.a.createElement("li",null,"fit is like ifNeeded, but if the item is not already in the viewport, if the item is before the viewport it will be aligned to the start and otherwise to the end with the viewport.")),r.a.createElement(Pt,{id:"renderClipController.scrollToFit",text:"renderClipController.scrollToFit(index)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Shorthand for scrollIntoView with fit set to true.")),r.a.createElement(Pt,{id:"renderClipController.scrollTo",text:"renderClipController.scrollTo(scrollPosition)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Updates the scroll position.")),r.a.createElement(Pt,{id:"renderClipController.refresh",text:"renderClipController.refresh()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Recalculates the currently rendered items trying to preserve the scroll position."),r.a.createElement("li",null,"The RenderClip components call this when the window is resized. However this can be called in other cases if there is a need, for instance if some ascendant container has its dimensions changed without a resize event triggered on the window and without a scroll event triggered on the render clip component.")),r.a.createElement(Pt,{id:"renderClipController.updateLayout",text:"renderClipController.updateLayout()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Only the controllers with individual item sizes have this method."),r.a.createElement("li",null,"Updates the items sizes while trying to preserve the scroll position."),r.a.createElement("li",null,"This must be called when the size of the items changes.")))},{path:"render-clip-2d",component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(rt,{text:"crizmas-components"})," - RenderClip2D"),r.a.createElement("p",null,"Make sure you check the getting started sections ",r.a.createElement(et,{to:"/components"},"here")," and ",r.a.createElement(et,{to:"/components/render-clip"},"here")," first."),r.a.createElement("p",null,"The RenderClip2D component implements scroll virtualization on two dimensions. It requires an instance of RenderClip2DController, a renderRow function that is used to render each row and a renderCell function that is used to render each cell. The renderRow function receives the index of the row, the itemHeight and a renderCells function that it must call in order to render the cells in the appropriate location. Calling the renderCells function results in calling the renderCell function. The renderCell function receives the index of the cell, the itemWidth, the itemHeight and the rowIndex."),r.a.createElement("b",null,r.a.createElement(xt,{text:"\n      import {RenderClip2D} from 'crizmas-components';\n\n      const letters = 'abcdefghijklmnopqrstuvwxyz';\n\n      <RenderClip2D\n        controller={renderClip2DController}\n        renderRow={({index, itemHeight, renderCells}) => {\n          return <div key={index} style={{height: itemHeight}}>{renderCells()}</div>;\n        }}\n        renderCell={({index, itemWidth, itemHeight, rowIndex}) => {\n          const rowLetter = letters[rowIndex % letters.length];\n          const colLetter = letters[index % letters.length];\n\n          return <div\n            key={index}\n            style={{\n              width: itemWidth,\n              height: itemHeight,\n              display: 'inline-block',\n              background: index % 2 === rowIndex % 2\n                ? 'blue'\n                : 'green'\n            }}>{rowLetter}{colLetter}</div>;\n        }} />\n    "})))},{path:"render-clip-2d-controller",component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(rt,{text:"crizmas-components"})," - RenderClip2DController"),r.a.createElement("p",null,"Make sure you check the getting started sections ",r.a.createElement(et,{to:"/components"},"here")," and ",r.a.createElement(et,{to:"/components/render-clip"},"here")," first."),r.a.createElement(Pt,{id:"RenderClip2DController",text:"\n      import {RenderClip2DController} from 'crizmas-components';\n\n      const renderClip2DController = new RenderClip2DController({\n        verticalItemsCount: 1000000,\n        horizontalItemsCount: 2000000,\n        itemHeight: 20,\n        itemWidth: 30\n      });\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"All the options are initially optional. They are important however when the controller is actually being used."),r.a.createElement("li",null,"It creates two controllers, one for the vertical scroll virtualization and one for the horizontal one. These controllers are instances of RenderClip1DController, which is very similar to ",r.a.createElement(et,{to:"/components/render-clip/render-clip-controller"},"RenderClipController"),", they have just a few internal differences, but they expose the same API. Therefore if you want to use a certain API from these controllers you can access them directly."),r.a.createElement("li",null,"The constructor passes the options to the 1D controllers."),r.a.createElement("li",null,"In order to function properly, the controller will eventually need all the options.")),r.a.createElement(Pt,{id:"renderClip2DController.verticalRenderClipController",text:"renderClip2DController.verticalRenderClipController"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The vertical 1D controller.")),r.a.createElement(Pt,{id:"renderClip2DController.horizontalRenderClipController",text:"renderClip2DController.horizontalRenderClipController"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The horizontal 1D controller.")),r.a.createElement(Pt,{id:"renderClip2DController.setItemsCount",text:"renderClip2DController.setItemsCount({ verticalItemsCount, horizontalItemsCount })"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Calls the 1D controllers' setItemsCount methods, passing them the arguments.")),r.a.createElement(Pt,{id:"renderClip2DController.refresh",text:"renderClip2DController.refresh()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Calls the 1D controllers' refresh methods.")),r.a.createElement(Pt,{id:"renderClip2DController.updateLayout",text:"renderClip2DController.updateLayout()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"If any of the 1D controllers has the `updateLayout` method, it calls it.")))}]},{path:"tree",children:[Ce.fallbackRoute({path:"",to:"/components/tree/tree",replace:!0}),{path:"tree",component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(rt,{text:"crizmas-components"})," - Tree"),r.a.createElement("p",null,"Make sure you check the ",r.a.createElement(et,{to:"/components"},"getting started")," section first."),r.a.createElement("p",null,"The Tree component requires an instance of TreeController. It uses ",r.a.createElement(et,{to:"/components/render-clip/render-clip"},"RenderClip")," for scroll virtualization. It can receive an optional indentation that is used for indenting the nodes. The default indentation is 20. It can also receive an optional renderExpandToggle function that receives the item and a toggleExpand function. The renderExpandToggle must render the expand/collapse button. In order to expand/collapse an item, the toggleExpand function must be called and it must receive the item as an argument. However, if no renderExpandToggle is passed, the default will render the label property of the node, so in that case the nodes must have a label property."),r.a.createElement("b",null,r.a.createElement(xt,{text:"\n      import {Tree} from 'crizmas-components';\n\n      <Tree\n        controller={treeController}\n        indentation={60}\n        renderExpandToggle={({item, toggleExpand}) => <button\n          style={{marginRight: 10}}\n          onClick={toggleExpand.bind(null, item)}>\n          {item.isExpanded ? '-' : '+'}\n        </button>} />\n    "})))},{path:"tree-controller",component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,r.a.createElement(rt,{text:"crizmas-components"})," - TreeController"),r.a.createElement("p",null,"Make sure you check the ",r.a.createElement(et,{to:"/components"},"getting started")," section first."),r.a.createElement(Pt,{id:"TreeController",text:"\n      import {TreeController} from 'crizmas-components';\n\n      const treeController = new TreeController({\n        nodes: [\n          {\n            label: 'first node',\n            children: [\n              {\n                label: 'first child node'\n              }\n            ]\n          },\n          {\n            label: 'second node'\n          }\n        ],\n        itemHeight: 20\n      });\n    "}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The nodes option is an array of objects with optional children, label and isExpanded properties and any other possible properties."),r.a.createElement("li",null,"The itemHeight must be a number or a function and it is passed to the render clip controller.")),r.a.createElement(Pt,{id:"treeController.renderClipController",text:"treeController.renderClipController"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"The render clip controller.")),r.a.createElement(Pt,{id:"treeController.setNodes",text:"treeController.setNodes(nodes)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Calls the render clip controller's setItemsCount method.")),r.a.createElement(Pt,{id:"treeController.refresh",text:"treeController.refresh()"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Calls the render clip controller's refresh method.")),r.a.createElement(Pt,{id:"treeController.toggleExpand",text:"treeController.toggleExpand(node)"}),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"If the node is expanded, it will be collapsed. If it is collapsed, it will be expanded."),r.a.createElement("li",null,"Calls the render clip controller's setItemsCount method.")))}]}]},{path:"applications",component:gt},{path:"articles",component:bt},{path:"webpack",component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,"Webpack"),r.a.createElement("p",null,"If Webpack is used, there are a few things to consider:"),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"Depending on the browser support, if transcompiling the framework code is needed, it can be included in the transcompilation process using a regexp like /(crizmas-|smart-mix)/ (or just /crizmas-/ if crizmas-components and smart-mix are not used)."),r.a.createElement("li",null,"Tree-shaking can be enabled for the framework code:",r.a.createElement(xt,{text:"\n        module: {\n          rules: [\n            {\n              include: /(crizmas-|smart-mix)/, // or without smart-mix if crizmas-components\n                                               // and smart-mix are not used\n              sideEffects: false\n            }\n          ]\n        }\n      "}))))},{path:"v1",component:()=>r.a.createElement("div",null,r.a.createElement("h2",null,"V1"),r.a.createElement("p",null,"This is the documentation for v2. The documentation for v1 can be found ",r.a.createElement("a",{href:"https://raulsebastianmihaila.github.io/crizmas-mvc-docs-v1/",target:"_blank"},"here"),"."),r.a.createElement("p",null,"The transition from v1 to v2 includes some breaking changes (as well as some non-breaking updates, which we specify in the rest of the documentation):"),r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"crizmas-utils, crizmas-async-utils and crizmas-promise-queue were merged into the crizmas-mvc package. This is particularly important when using PromiseQueue or Cancellation, which can now be imported from crizmas-mvc:",r.a.createElement(xt,{text:"import {PromiseQueue, Cancellation} from crizmas-mvc;"})),r.a.createElement("li",null,"Old non-module script tags are not supported anymore."),r.a.createElement("li",null,"We moved from commonjs modules to standard ES modules, which means that the exports structure changed for some of the packages:",r.a.createElement("ul",{className:"simple-list"},r.a.createElement("li",null,"controller, observe, root, unroot, ignore, apply, construct, addObservedChild and removeObservedChild are not properties of Mvc anymore. Instead they can only be imported:",r.a.createElement(xt,{text:"\n            import {controller, observe, root, unroot, ignore, apply, construct,\n              addObservedChild and removeObservedChild} from 'crizmas-mvc';\n          "})),r.a.createElement("li",null,"Link is not a property of Router anymore. Instead it can only be imported:",r.a.createElement(xt,{text:"import {Link} from 'crizmas-router';"})),r.a.createElement("li",null,"Input and validation are not properties of Form anymore and validate, required, min, max, minLength, maxLength and async are not properties of validation anymore. Instead they can only be imported.",r.a.createElement(xt,{text:"\n            import {Input, validation, validate, required, min, max, minLength, maxLength, async}\n              from 'crizmas-form';\n          "})))),r.a.createElement("li",null,"messageFunc was renamed for all the validation functions that accepted it to 'message'."),r.a.createElement("li",null,"The default event for the validate validator is now 'blur' instead the list made of 'change' and 'blur'."),r.a.createElement("li",null,"The validate validator now calls the validation function with an object containing the input, event as target instead of passing the value."),r.a.createElement("li",null,"min, max, minLength and maxLength are now based on validate as required is so their default event will now be 'blur'."),r.a.createElement("li",null,"min and max now also check that the type of the value is 'number' before doing further validation."),r.a.createElement("li",null,"The validation function passed to async can now return a falsy value in which case async behaves as if the validation was skipped (for instance if the event didn't match).")))}]}]})})}]);
//# sourceMappingURL=main.bundle-fdd1b3591b1b0f6c33d4.js.map